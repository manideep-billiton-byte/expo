import{r as X,a as mw,c as Ir,g as dt,R as Q}from"./vendor-KfUPlHYY.js";function bw(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var my={exports:{}},wc={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw=X,ww=Symbol.for("react.element"),Sw=Symbol.for("react.fragment"),Aw=Object.prototype.hasOwnProperty,Cw=vw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jw={key:!0,ref:!0,__self:!0,__source:!0};function by(e,t,n){var r,a={},l=null,u=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(u=t.ref);for(r in t)Aw.call(t,r)&&!jw.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:ww,type:e,key:l,ref:u,props:a,_owner:Cw.current}}wc.Fragment=Sw;wc.jsx=by;wc.jsxs=by;my.exports=wc;var o=my.exports,Eu={},qp=mw;Eu.createRoot=qp.createRoot,Eu.hydrateRoot=qp.hydrateRoot;/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vy=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Iw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=X.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:u,...h},x)=>X.createElement("svg",{ref:x,...Iw,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:vy("lucide",a),...h},[...u.map(([g,b])=>X.createElement(g,b)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(e,t)=>{const n=X.forwardRef(({className:r,...a},l)=>X.createElement(Ow,{ref:l,iconNode:t,className:vy(`lucide-${Ew(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=ze("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ze("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=ze("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=ze("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=ze("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=ze("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=ze("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=ze("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=ze("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=ze("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _w=ze("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=ze("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=ze("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=ze("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=ze("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=ze("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tu=ze("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=ze("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ze("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=ze("MousePointer2",[["path",{d:"m4 4 7.07 17 2.51-7.39L21 11.07z",key:"1vqm48"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=ze("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=ze("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _u=ze("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=ze("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=ze("ScanText",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 8h8",key:"1jbsf9"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M7 16h6",key:"1vyc9m"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=ze("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=ze("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=ze("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=ze("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=ze("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=ze("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=ze("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=ze("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=ze("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=ze("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.400.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Fw=({icon:e,label:t,active:n=!1,onClick:r})=>o.jsxs("div",{className:`nav-item ${n?"active":""}`,onClick:r,style:{cursor:"pointer"},children:[o.jsx(e,{size:14}),o.jsx("span",{children:t})]}),$w=({activeScreen:e="dashboard",onNavigate:t,isNavCollapsed:n,onToggleNav:r,onLogout:a,userType:l="master"})=>{const[u,h]=X.useState(!1),x=X.useRef(null);X.useEffect(()=>{const _=T=>{x.current&&!x.current.contains(T.target)&&h(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]);const S=l==="exhibitor"?[{icon:Pn,label:"Dashboard",screen:"dashboard"},{icon:an,label:"Leads",screen:"leads"},{icon:wy,label:"Scanner",screen:"scanner"},{icon:un,label:"Events",screen:"events"},{icon:Tu,label:"Analytics",screen:"analytics"},{icon:uo,label:"Inventory and Billing",screen:"billing"},{icon:an,label:"Users",screen:"users"}]:l==="organization"?[{icon:Pn,label:"Dashboard",screen:"dashboard"},{icon:an,label:"Users",screen:"users"},{icon:un,label:"Events",screen:"events"},{icon:xr,label:"Exhibitors",screen:"exhibitors"},{icon:mo,label:"Visitors",screen:"visitors"},{icon:uo,label:"Billing",screen:"billing"}]:[{icon:Pn,label:"Control Room",screen:"dashboard"},{icon:Pn,label:"Organization",screen:"tenants"},{icon:an,label:"Users",screen:"users"},{icon:un,label:"Events",screen:"events"},{icon:xr,label:"Exhibitors",screen:"exhibitors"},{icon:mo,label:"Visitors",screen:"visitors"},{icon:uo,label:"Billing",screen:"billing"},{icon:bo,label:"Communication",screen:"communication"},{icon:_u,label:"GST",screen:"gst"},{icon:Tu,label:"Analytics",screen:"analytics"},{icon:Sc,label:"Compliance",screen:"compliance"},{icon:vo,label:"System Config",screen:"config"},{icon:Cc,label:"Access Control",screen:"rbac"},{icon:Ou,label:"Support",screen:"support"}],C=localStorage.getItem("userEmail")||"admin@eventhub.com",I=localStorage.getItem("organizationName"),j=localStorage.getItem("exhibitorName"),E=l==="exhibitor"?j||"Exhibitor":l==="organization"?I||"Organization":"Master Admin",R=typeof window<"u"&&window.innerWidth<=768;return o.jsxs("div",{className:"header-wrapper",children:[o.jsxs("div",{className:"header-main",children:[o.jsxs("div",{className:"header-left",style:{display:"flex",alignItems:"center",gap:R?"12px":"24px"},children:[o.jsxs("div",{className:"logo",style:{display:"flex",alignItems:"center",gap:R?"8px":"12px",marginRight:R?"0":"8px"},children:[o.jsxs("div",{style:{background:"linear-gradient(135deg, #1e3a8a, #2563eb)",color:"white",width:R?"32px":"38px",height:R?"28px":"32px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:R?"14px":"16px",position:"relative",letterSpacing:"-2px"},children:[o.jsx("span",{style:{position:"relative",zIndex:1},children:"E"}),o.jsx("span",{style:{position:"absolute",right:"6px",fontSize:R?"12px":"14px"},children:"H"})]}),o.jsxs("div",{style:{display:R?"none":"flex",flexDirection:"column",gap:"2px"},children:[o.jsx("span",{style:{fontWeight:800,fontSize:"18px",color:"#1e3a8a",lineHeight:1},children:"EventHub"}),o.jsx("span",{style:{fontSize:"9px",color:"#94a3b8",fontWeight:500,letterSpacing:"0.02em"},children:"Manage. Exhibit. Attend."})]})]}),!R&&o.jsx("div",{onClick:r,style:{background:"#f8fafc",padding:"6px",borderRadius:"8px",cursor:"pointer",color:"#64748b",display:"flex",alignItems:"center"},children:n?o.jsx(Va,{size:20}):o.jsx(Tw,{size:20})})]}),!R&&o.jsx("div",{className:"header-center",style:{display:"flex",justifyContent:"center",flex:1},children:o.jsxs("div",{className:"search-bar",style:{position:"relative",width:"420px",maxWidth:"60%"},children:[o.jsx(mr,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),o.jsx("input",{type:"text",placeholder:"Search tenants, events, exhibitors...",style:{width:"100%",padding:"10px 12px 10px 38px",borderRadius:"14px",border:"1px solid #e2e8f0",background:"#f8fafc",fontSize:"14px"}})]})}),o.jsxs("div",{className:"header-actions",style:{display:"flex",alignItems:"center",gap:R?"12px":"24px"},children:[!R&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{position:"relative",cursor:"pointer"},children:[o.jsx(hh,{size:20,color:"#64748b"}),o.jsx("div",{style:{position:"absolute",top:"-4px",right:"-4px",background:"#ef4444",color:"white",fontSize:"10px",width:"16px",height:"16px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700},children:"3"})]}),o.jsx(vo,{size:20,color:"#64748b",style:{cursor:"pointer"}}),o.jsx("div",{style:{cursor:"pointer"},onClick:()=>t&&t("support"),title:"Support",children:o.jsx(Ou,{size:18,color:"#64748b"})})]}),o.jsxs("div",{style:{position:"relative"},ref:x,children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:R?"8px":"12px",cursor:"pointer"},onClick:()=>h(!u),children:[!R&&o.jsxs("div",{style:{textAlign:"right"},children:[o.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"#1e293b"},children:E}),o.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:C})]}),o.jsx("div",{style:{width:R?"32px":"36px",height:R?"32px":"36px",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6, #2563eb)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:600,fontSize:R?"12px":"14px"},children:l==="exhibitor"?"EXH":l==="organization"?"ORG":"MA"}),!R&&o.jsx(Va,{size:16,color:"#94a3b8",style:{transition:"transform 0.2s",transform:u?"rotate(180deg)":"rotate(0deg)"}})]}),u&&o.jsx("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"8px",background:"white",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)",border:"1px solid #e2e8f0",minWidth:"180px",zIndex:1e3,overflow:"hidden"},children:o.jsx("div",{style:{padding:"8px 0"},children:o.jsxs("div",{onClick:()=>{a&&a(),h(!1)},style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 16px",cursor:"pointer",color:"#ef4444",fontSize:"14px",fontWeight:500,transition:"background 0.2s"},onMouseEnter:_=>_.target.style.background="#fef2f2",onMouseLeave:_=>_.target.style.background="transparent",children:[o.jsx(xh,{size:16}),o.jsx("span",{children:"Logout"})]})})})]})]})]}),!n&&o.jsx("div",{className:"top-nav-bar fade-in",children:S.map((_,T)=>o.jsx(Fw,{icon:_.icon,label:_.label,active:e===_.screen,onClick:()=>t&&t(_.screen)},T))})]})},Uw=({children:e,activeScreen:t,onNavigate:n,userType:r="master",onLogout:a})=>{const[l,u]=X.useState(!1);return X.useEffect(()=>{document.documentElement.style.setProperty("--header-height",l?"64px":"140px")},[l]),o.jsx("div",{className:"layout-wrapper",children:o.jsxs("div",{className:"main-content",children:[o.jsx($w,{activeScreen:t,onNavigate:n,isNavCollapsed:l,onToggleNav:()=>u(!l),userType:r,onLogout:a}),o.jsx("div",{className:"content-area",children:e})]})})},qr=({label:e,value:t,change:n,icon:r,colorClass:a,customClass:l})=>{const u=n&&n.startsWith("+");return o.jsxs("div",{className:`card stat-card ${l}`,children:[o.jsxs("div",{className:"stat-header",children:[o.jsx("span",{className:"stat-label",children:e}),r&&o.jsx("div",{style:{background:"rgba(241, 245, 249, 0.8)",padding:"6px",borderRadius:"8px"},children:o.jsx(r,{size:16,className:a})})]}),o.jsx("div",{className:"stat-value",children:t}),n&&o.jsxs("div",{className:`stat-change ${u?"positive":"negative"}`,children:[u?"↑":"↓"," ",n]})]})};var Qo={},Vw=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},jy={},Dn={};let gh;const Hw=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Dn.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Dn.getSymbolTotalCodewords=function(t){return Hw[t]};Dn.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Dn.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');gh=t};Dn.isKanjiModeEnabled=function(){return typeof gh<"u"};Dn.toSJIS=function(t){return gh(t)};var Ec={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,a){if(e.isValid(r))return r;try{return t(r)}catch{return a}}})(Ec);function Ey(){this.buffer=[],this.length=0}Ey.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var Gw=Ey;function Ts(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Ts.prototype.set=function(e,t,n,r){const a=e*this.size+t;this.data[a]=n,r&&(this.reservedBit[a]=!0)};Ts.prototype.get=function(e,t){return this.data[e*this.size+t]};Ts.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};Ts.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var Xw=Ts,Iy={};(function(e){const t=Dn.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const a=Math.floor(r/7)+2,l=t(r),u=l===145?26:Math.ceil((l-13)/(2*a-2))*2,h=[l-7];for(let x=1;x<a-1;x++)h[x]=h[x-1]-u;return h.push(6),h.reverse()},e.getPositions=function(r){const a=[],l=e.getRowColCoords(r),u=l.length;for(let h=0;h<u;h++)for(let x=0;x<u;x++)h===0&&x===0||h===0&&x===u-1||h===u-1&&x===0||a.push([l[h],l[x]]);return a}})(Iy);var Oy={};const Yw=Dn.getSymbolSize,Jp=7;Oy.getPositions=function(t){const n=Yw(t);return[[0,0],[n-Jp,0],[0,n-Jp]]};var Ty={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},e.from=function(a){return e.isValid(a)?parseInt(a,10):void 0},e.getPenaltyN1=function(a){const l=a.size;let u=0,h=0,x=0,g=null,b=null;for(let m=0;m<l;m++){h=x=0,g=b=null;for(let S=0;S<l;S++){let C=a.get(m,S);C===g?h++:(h>=5&&(u+=t.N1+(h-5)),g=C,h=1),C=a.get(S,m),C===b?x++:(x>=5&&(u+=t.N1+(x-5)),b=C,x=1)}h>=5&&(u+=t.N1+(h-5)),x>=5&&(u+=t.N1+(x-5))}return u},e.getPenaltyN2=function(a){const l=a.size;let u=0;for(let h=0;h<l-1;h++)for(let x=0;x<l-1;x++){const g=a.get(h,x)+a.get(h,x+1)+a.get(h+1,x)+a.get(h+1,x+1);(g===4||g===0)&&u++}return u*t.N2},e.getPenaltyN3=function(a){const l=a.size;let u=0,h=0,x=0;for(let g=0;g<l;g++){h=x=0;for(let b=0;b<l;b++)h=h<<1&2047|a.get(g,b),b>=10&&(h===1488||h===93)&&u++,x=x<<1&2047|a.get(b,g),b>=10&&(x===1488||x===93)&&u++}return u*t.N3},e.getPenaltyN4=function(a){let l=0;const u=a.data.length;for(let x=0;x<u;x++)l+=a.data[x];return Math.abs(Math.ceil(l*100/u/5)-10)*t.N4};function n(r,a,l){switch(r){case e.Patterns.PATTERN000:return(a+l)%2===0;case e.Patterns.PATTERN001:return a%2===0;case e.Patterns.PATTERN010:return l%3===0;case e.Patterns.PATTERN011:return(a+l)%3===0;case e.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(l/3))%2===0;case e.Patterns.PATTERN101:return a*l%2+a*l%3===0;case e.Patterns.PATTERN110:return(a*l%2+a*l%3)%2===0;case e.Patterns.PATTERN111:return(a*l%3+(a+l)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(a,l){const u=l.size;for(let h=0;h<u;h++)for(let x=0;x<u;x++)l.isReserved(x,h)||l.xor(x,h,n(a,x,h))},e.getBestMask=function(a,l){const u=Object.keys(e.Patterns).length;let h=0,x=1/0;for(let g=0;g<u;g++){l(g),e.applyMask(g,a);const b=e.getPenaltyN1(a)+e.getPenaltyN2(a)+e.getPenaltyN3(a)+e.getPenaltyN4(a);e.applyMask(g,a),b<x&&(x=b,h=g)}return h}})(Ty);var Ic={};const Qr=Ec,Ys=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],qs=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ic.getBlocksCount=function(t,n){switch(n){case Qr.L:return Ys[(t-1)*4+0];case Qr.M:return Ys[(t-1)*4+1];case Qr.Q:return Ys[(t-1)*4+2];case Qr.H:return Ys[(t-1)*4+3];default:return}};Ic.getTotalCodewordsCount=function(t,n){switch(n){case Qr.L:return qs[(t-1)*4+0];case Qr.M:return qs[(t-1)*4+1];case Qr.Q:return qs[(t-1)*4+2];case Qr.H:return qs[(t-1)*4+3];default:return}};var _y={},Oc={};const Ma=new Uint8Array(512),pl=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Ma[n]=t,pl[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Ma[n]=Ma[n-255]})();Oc.log=function(t){if(t<1)throw new Error("log("+t+")");return pl[t]};Oc.exp=function(t){return Ma[t]};Oc.mul=function(t,n){return t===0||n===0?0:Ma[pl[t]+pl[n]]};(function(e){const t=Oc;e.mul=function(r,a){const l=new Uint8Array(r.length+a.length-1);for(let u=0;u<r.length;u++)for(let h=0;h<a.length;h++)l[u+h]^=t.mul(r[u],a[h]);return l},e.mod=function(r,a){let l=new Uint8Array(r);for(;l.length-a.length>=0;){const u=l[0];for(let x=0;x<a.length;x++)l[x]^=t.mul(a[x],u);let h=0;for(;h<l.length&&l[h]===0;)h++;l=l.slice(h)}return l},e.generateECPolynomial=function(r){let a=new Uint8Array([1]);for(let l=0;l<r;l++)a=e.mul(a,new Uint8Array([1,t.exp(l)]));return a}})(_y);const Ry=_y;function yh(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}yh.prototype.initialize=function(t){this.degree=t,this.genPoly=Ry.generateECPolynomial(this.degree)};yh.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=Ry.mod(n,this.genPoly),a=this.degree-r.length;if(a>0){const l=new Uint8Array(this.degree);return l.set(r,a),l}return r};var qw=yh,Py={},oi={},mh={};mh.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var wr={};const Ny="[0-9]+",Kw="[A-Z $%*+\\-./:]+";let Ga="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ga=Ga.replace(/u/g,"\\u");const Zw="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ga+`)(?:.|[\r
]))+`;wr.KANJI=new RegExp(Ga,"g");wr.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");wr.BYTE=new RegExp(Zw,"g");wr.NUMERIC=new RegExp(Ny,"g");wr.ALPHANUMERIC=new RegExp(Kw,"g");const Qw=new RegExp("^"+Ga+"$"),Jw=new RegExp("^"+Ny+"$"),e4=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");wr.testKanji=function(t){return Qw.test(t)};wr.testNumeric=function(t){return Jw.test(t)};wr.testAlphanumeric=function(t){return e4.test(t)};(function(e){const t=mh,n=wr;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(l,u){if(!l.ccBits)throw new Error("Invalid mode: "+l);if(!t.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?l.ccBits[0]:u<27?l.ccBits[1]:l.ccBits[2]},e.getBestModeForData=function(l){return n.testNumeric(l)?e.NUMERIC:n.testAlphanumeric(l)?e.ALPHANUMERIC:n.testKanji(l)?e.KANJI:e.BYTE},e.toString=function(l){if(l&&l.id)return l.id;throw new Error("Invalid mode")},e.isValid=function(l){return l&&l.bit&&l.ccBits};function r(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+a)}}e.from=function(l,u){if(e.isValid(l))return l;try{return r(l)}catch{return u}}})(oi);(function(e){const t=Dn,n=Ic,r=Ec,a=oi,l=mh,u=7973,h=t.getBCHDigit(u);function x(S,C,I){for(let j=1;j<=40;j++)if(C<=e.getCapacity(j,I,S))return j}function g(S,C){return a.getCharCountIndicator(S,C)+4}function b(S,C){let I=0;return S.forEach(function(j){const E=g(j.mode,C);I+=E+j.getBitsLength()}),I}function m(S,C){for(let I=1;I<=40;I++)if(b(S,I)<=e.getCapacity(I,C,a.MIXED))return I}e.from=function(C,I){return l.isValid(C)?parseInt(C,10):I},e.getCapacity=function(C,I,j){if(!l.isValid(C))throw new Error("Invalid QR Code version");typeof j>"u"&&(j=a.BYTE);const E=t.getSymbolTotalCodewords(C),R=n.getTotalCodewordsCount(C,I),_=(E-R)*8;if(j===a.MIXED)return _;const T=_-g(j,C);switch(j){case a.NUMERIC:return Math.floor(T/10*3);case a.ALPHANUMERIC:return Math.floor(T/11*2);case a.KANJI:return Math.floor(T/13);case a.BYTE:default:return Math.floor(T/8)}},e.getBestVersionForData=function(C,I){let j;const E=r.from(I,r.M);if(Array.isArray(C)){if(C.length>1)return m(C,E);if(C.length===0)return 1;j=C[0]}else j=C;return x(j.mode,j.getLength(),E)},e.getEncodedBits=function(C){if(!l.isValid(C)||C<7)throw new Error("Invalid QR Code version");let I=C<<12;for(;t.getBCHDigit(I)-h>=0;)I^=u<<t.getBCHDigit(I)-h;return C<<12|I}})(Py);var ky={};const Ru=Dn,My=1335,t4=21522,e0=Ru.getBCHDigit(My);ky.getEncodedBits=function(t,n){const r=t.bit<<3|n;let a=r<<10;for(;Ru.getBCHDigit(a)-e0>=0;)a^=My<<Ru.getBCHDigit(a)-e0;return(r<<10|a)^t4};var Dy={};const n4=oi;function wo(e){this.mode=n4.NUMERIC,this.data=e.toString()}wo.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};wo.prototype.getLength=function(){return this.data.length};wo.prototype.getBitsLength=function(){return wo.getBitsLength(this.data.length)};wo.prototype.write=function(t){let n,r,a;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),a=parseInt(r,10),t.put(a,10);const l=this.data.length-n;l>0&&(r=this.data.substr(n),a=parseInt(r,10),t.put(a,l*3+1))};var r4=wo;const i4=oi,Hd=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function So(e){this.mode=i4.ALPHANUMERIC,this.data=e}So.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};So.prototype.getLength=function(){return this.data.length};So.prototype.getBitsLength=function(){return So.getBitsLength(this.data.length)};So.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Hd.indexOf(this.data[n])*45;r+=Hd.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(Hd.indexOf(this.data[n]),6)};var o4=So;const a4=oi;function Ao(e){this.mode=a4.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Ao.getBitsLength=function(t){return t*8};Ao.prototype.getLength=function(){return this.data.length};Ao.prototype.getBitsLength=function(){return Ao.getBitsLength(this.data.length)};Ao.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var s4=Ao;const l4=oi,c4=Dn;function Co(e){this.mode=l4.KANJI,this.data=e}Co.getBitsLength=function(t){return t*13};Co.prototype.getLength=function(){return this.data.length};Co.prototype.getBitsLength=function(){return Co.getBitsLength(this.data.length)};Co.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=c4.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var d4=Co,By={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,a){var l={},u={};u[r]=0;var h=t.PriorityQueue.make();h.push(r,0);for(var x,g,b,m,S,C,I,j,E;!h.empty();){x=h.pop(),g=x.value,m=x.cost,S=n[g]||{};for(b in S)S.hasOwnProperty(b)&&(C=S[b],I=m+C,j=u[b],E=typeof u[b]>"u",(E||j>I)&&(u[b]=I,h.push(b,I),l[b]=g))}if(typeof a<"u"&&typeof u[a]>"u"){var R=["Could not find a path from ",r," to ",a,"."].join("");throw new Error(R)}return l},extract_shortest_path_from_predecessor_list:function(n,r){for(var a=[],l=r;l;)a.push(l),n[l],l=n[l];return a.reverse(),a},find_path:function(n,r,a){var l=t.single_source_shortest_paths(n,r,a);return t.extract_shortest_path_from_predecessor_list(l,a)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,a={},l;n=n||{};for(l in r)r.hasOwnProperty(l)&&(a[l]=r[l]);return a.queue=[],a.sorter=n.sorter||r.default_sorter,a},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var a={value:n,cost:r};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(By);var u4=By.exports;(function(e){const t=oi,n=r4,r=o4,a=s4,l=d4,u=wr,h=Dn,x=u4;function g(R){return unescape(encodeURIComponent(R)).length}function b(R,_,T){const P=[];let A;for(;(A=R.exec(T))!==null;)P.push({data:A[0],index:A.index,mode:_,length:A[0].length});return P}function m(R){const _=b(u.NUMERIC,t.NUMERIC,R),T=b(u.ALPHANUMERIC,t.ALPHANUMERIC,R);let P,A;return h.isKanjiModeEnabled()?(P=b(u.BYTE,t.BYTE,R),A=b(u.KANJI,t.KANJI,R)):(P=b(u.BYTE_KANJI,t.BYTE,R),A=[]),_.concat(T,P,A).sort(function(k,W){return k.index-W.index}).map(function(k){return{data:k.data,mode:k.mode,length:k.length}})}function S(R,_){switch(_){case t.NUMERIC:return n.getBitsLength(R);case t.ALPHANUMERIC:return r.getBitsLength(R);case t.KANJI:return l.getBitsLength(R);case t.BYTE:return a.getBitsLength(R)}}function C(R){return R.reduce(function(_,T){const P=_.length-1>=0?_[_.length-1]:null;return P&&P.mode===T.mode?(_[_.length-1].data+=T.data,_):(_.push(T),_)},[])}function I(R){const _=[];for(let T=0;T<R.length;T++){const P=R[T];switch(P.mode){case t.NUMERIC:_.push([P,{data:P.data,mode:t.ALPHANUMERIC,length:P.length},{data:P.data,mode:t.BYTE,length:P.length}]);break;case t.ALPHANUMERIC:_.push([P,{data:P.data,mode:t.BYTE,length:P.length}]);break;case t.KANJI:_.push([P,{data:P.data,mode:t.BYTE,length:g(P.data)}]);break;case t.BYTE:_.push([{data:P.data,mode:t.BYTE,length:g(P.data)}])}}return _}function j(R,_){const T={},P={start:{}};let A=["start"];for(let N=0;N<R.length;N++){const k=R[N],W=[];for(let F=0;F<k.length;F++){const ie=k[F],H=""+N+F;W.push(H),T[H]={node:ie,lastCount:0},P[H]={};for(let Y=0;Y<A.length;Y++){const re=A[Y];T[re]&&T[re].node.mode===ie.mode?(P[re][H]=S(T[re].lastCount+ie.length,ie.mode)-S(T[re].lastCount,ie.mode),T[re].lastCount+=ie.length):(T[re]&&(T[re].lastCount=ie.length),P[re][H]=S(ie.length,ie.mode)+4+t.getCharCountIndicator(ie.mode,_))}}A=W}for(let N=0;N<A.length;N++)P[A[N]].end=0;return{map:P,table:T}}function E(R,_){let T;const P=t.getBestModeForData(R);if(T=t.from(_,P),T!==t.BYTE&&T.bit<P.bit)throw new Error('"'+R+'" cannot be encoded with mode '+t.toString(T)+`.
 Suggested mode is: `+t.toString(P));switch(T===t.KANJI&&!h.isKanjiModeEnabled()&&(T=t.BYTE),T){case t.NUMERIC:return new n(R);case t.ALPHANUMERIC:return new r(R);case t.KANJI:return new l(R);case t.BYTE:return new a(R)}}e.fromArray=function(_){return _.reduce(function(T,P){return typeof P=="string"?T.push(E(P,null)):P.data&&T.push(E(P.data,P.mode)),T},[])},e.fromString=function(_,T){const P=m(_,h.isKanjiModeEnabled()),A=I(P),N=j(A,T),k=x.find_path(N.map,"start","end"),W=[];for(let F=1;F<k.length-1;F++)W.push(N.table[k[F]].node);return e.fromArray(C(W))},e.rawSplit=function(_){return e.fromArray(m(_,h.isKanjiModeEnabled()))}})(Dy);const Tc=Dn,Gd=Ec,f4=Gw,h4=Xw,p4=Iy,x4=Oy,Pu=Ty,Nu=Ic,g4=qw,xl=Py,y4=ky,m4=oi,Xd=Dy;function b4(e,t){const n=e.size,r=x4.getPositions(t);for(let a=0;a<r.length;a++){const l=r[a][0],u=r[a][1];for(let h=-1;h<=7;h++)if(!(l+h<=-1||n<=l+h))for(let x=-1;x<=7;x++)u+x<=-1||n<=u+x||(h>=0&&h<=6&&(x===0||x===6)||x>=0&&x<=6&&(h===0||h===6)||h>=2&&h<=4&&x>=2&&x<=4?e.set(l+h,u+x,!0,!0):e.set(l+h,u+x,!1,!0))}}function v4(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function w4(e,t){const n=p4.getPositions(t);for(let r=0;r<n.length;r++){const a=n[r][0],l=n[r][1];for(let u=-2;u<=2;u++)for(let h=-2;h<=2;h++)u===-2||u===2||h===-2||h===2||u===0&&h===0?e.set(a+u,l+h,!0,!0):e.set(a+u,l+h,!1,!0)}}function S4(e,t){const n=e.size,r=xl.getEncodedBits(t);let a,l,u;for(let h=0;h<18;h++)a=Math.floor(h/3),l=h%3+n-8-3,u=(r>>h&1)===1,e.set(a,l,u,!0),e.set(l,a,u,!0)}function Yd(e,t,n){const r=e.size,a=y4.getEncodedBits(t,n);let l,u;for(l=0;l<15;l++)u=(a>>l&1)===1,l<6?e.set(l,8,u,!0):l<8?e.set(l+1,8,u,!0):e.set(r-15+l,8,u,!0),l<8?e.set(8,r-l-1,u,!0):l<9?e.set(8,15-l-1+1,u,!0):e.set(8,15-l-1,u,!0);e.set(r-8,8,1,!0)}function A4(e,t){const n=e.size;let r=-1,a=n-1,l=7,u=0;for(let h=n-1;h>0;h-=2)for(h===6&&h--;;){for(let x=0;x<2;x++)if(!e.isReserved(a,h-x)){let g=!1;u<t.length&&(g=(t[u]>>>l&1)===1),e.set(a,h-x,g),l--,l===-1&&(u++,l=7)}if(a+=r,a<0||n<=a){a-=r,r=-r;break}}}function C4(e,t,n){const r=new f4;n.forEach(function(x){r.put(x.mode.bit,4),r.put(x.getLength(),m4.getCharCountIndicator(x.mode,e)),x.write(r)});const a=Tc.getSymbolTotalCodewords(e),l=Nu.getTotalCodewordsCount(e,t),u=(a-l)*8;for(r.getLengthInBits()+4<=u&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const h=(u-r.getLengthInBits())/8;for(let x=0;x<h;x++)r.put(x%2?17:236,8);return j4(r,e,t)}function j4(e,t,n){const r=Tc.getSymbolTotalCodewords(t),a=Nu.getTotalCodewordsCount(t,n),l=r-a,u=Nu.getBlocksCount(t,n),h=r%u,x=u-h,g=Math.floor(r/u),b=Math.floor(l/u),m=b+1,S=g-b,C=new g4(S);let I=0;const j=new Array(u),E=new Array(u);let R=0;const _=new Uint8Array(e.buffer);for(let k=0;k<u;k++){const W=k<x?b:m;j[k]=_.slice(I,I+W),E[k]=C.encode(j[k]),I+=W,R=Math.max(R,W)}const T=new Uint8Array(r);let P=0,A,N;for(A=0;A<R;A++)for(N=0;N<u;N++)A<j[N].length&&(T[P++]=j[N][A]);for(A=0;A<S;A++)for(N=0;N<u;N++)T[P++]=E[N][A];return T}function E4(e,t,n,r){let a;if(Array.isArray(e))a=Xd.fromArray(e);else if(typeof e=="string"){let g=t;if(!g){const b=Xd.rawSplit(e);g=xl.getBestVersionForData(b,n)}a=Xd.fromString(e,g||40)}else throw new Error("Invalid data");const l=xl.getBestVersionForData(a,n);if(!l)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=l;else if(t<l)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+l+`.
`);const u=C4(t,n,a),h=Tc.getSymbolSize(t),x=new h4(h);return b4(x,t),v4(x),w4(x,t),Yd(x,n,0),t>=7&&S4(x,t),A4(x,u),isNaN(r)&&(r=Pu.getBestMask(x,Yd.bind(null,x,n))),Pu.applyMask(r,x),Yd(x,n,r),{modules:x,version:t,errorCorrectionLevel:n,maskPattern:r,segments:a}}jy.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=Gd.M,a,l;return typeof n<"u"&&(r=Gd.from(n.errorCorrectionLevel,Gd.M),a=xl.from(n.version),l=Pu.from(n.maskPattern),n.toSJISFunc&&Tc.setToSJISFunction(n.toSJISFunc)),E4(t,a,r,l)};var zy={},bh={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(l){return[l,l]}))),r.length===6&&r.push("F","F");const a=parseInt(r.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const a=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,l=r.width&&r.width>=21?r.width:void 0,u=r.scale||4;return{width:l,scale:l?4:u,margin:a,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,a){return a.width&&a.width>=r+a.margin*2?a.width/(r+a.margin*2):a.scale},e.getImageWidth=function(r,a){const l=e.getScale(r,a);return Math.floor((r+a.margin*2)*l)},e.qrToImageData=function(r,a,l){const u=a.modules.size,h=a.modules.data,x=e.getScale(u,l),g=Math.floor((u+l.margin*2)*x),b=l.margin*x,m=[l.color.light,l.color.dark];for(let S=0;S<g;S++)for(let C=0;C<g;C++){let I=(S*g+C)*4,j=l.color.light;if(S>=b&&C>=b&&S<g-b&&C<g-b){const E=Math.floor((S-b)/x),R=Math.floor((C-b)/x);j=m[h[E*u+R]?1:0]}r[I++]=j.r,r[I++]=j.g,r[I++]=j.b,r[I]=j.a}}})(bh);(function(e){const t=bh;function n(a,l,u){a.clearRect(0,0,l.width,l.height),l.style||(l.style={}),l.height=u,l.width=u,l.style.height=u+"px",l.style.width=u+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(l,u,h){let x=h,g=u;typeof x>"u"&&(!u||!u.getContext)&&(x=u,u=void 0),u||(g=r()),x=t.getOptions(x);const b=t.getImageWidth(l.modules.size,x),m=g.getContext("2d"),S=m.createImageData(b,b);return t.qrToImageData(S.data,l,x),n(m,g,b),m.putImageData(S,0,0),g},e.renderToDataURL=function(l,u,h){let x=h;typeof x>"u"&&(!u||!u.getContext)&&(x=u,u=void 0),x||(x={});const g=e.render(l,u,x),b=x.type||"image/png",m=x.rendererOpts||{};return g.toDataURL(b,m.quality)}})(zy);var Ly={};const I4=bh;function t0(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function qd(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function O4(e,t,n){let r="",a=0,l=!1,u=0;for(let h=0;h<e.length;h++){const x=Math.floor(h%t),g=Math.floor(h/t);!x&&!l&&(l=!0),e[h]?(u++,h>0&&x>0&&e[h-1]||(r+=l?qd("M",x+n,.5+g+n):qd("m",a,0),a=0,l=!1),x+1<t&&e[h+1]||(r+=qd("h",u),u=0)):a++}return r}Ly.render=function(t,n,r){const a=I4.getOptions(n),l=t.modules.size,u=t.modules.data,h=l+a.margin*2,x=a.color.light.a?"<path "+t0(a.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",g="<path "+t0(a.color.dark,"stroke")+' d="'+O4(u,l,a.margin)+'"/>',b='viewBox="0 0 '+h+" "+h+'"',S='<svg xmlns="http://www.w3.org/2000/svg" '+(a.width?'width="'+a.width+'" height="'+a.width+'" ':"")+b+' shape-rendering="crispEdges">'+x+g+`</svg>
`;return typeof r=="function"&&r(null,S),S};const T4=Vw,ku=jy,Wy=zy,_4=Ly;function vh(e,t,n,r,a){const l=[].slice.call(arguments,1),u=l.length,h=typeof l[u-1]=="function";if(!h&&!T4())throw new Error("Callback required as last argument");if(h){if(u<2)throw new Error("Too few arguments provided");u===2?(a=n,n=t,t=r=void 0):u===3&&(t.getContext&&typeof a>"u"?(a=r,r=void 0):(a=r,r=n,n=t,t=void 0))}else{if(u<1)throw new Error("Too few arguments provided");return u===1?(n=t,t=r=void 0):u===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(x,g){try{const b=ku.create(n,r);x(e(b,t,r))}catch(b){g(b)}})}try{const x=ku.create(n,r);a(null,e(x,t,r))}catch(x){a(x)}}Qo.create=ku.create;Qo.toCanvas=vh.bind(null,Wy.render);Qo.toDataURL=vh.bind(null,Wy.renderToDataURL);Qo.toString=vh.bind(null,function(e,t,n){return _4.render(e,n)});const R4="https://d3cgzphanxg4ax.cloudfront.net",P4=e=>{const t=e.startsWith("/")?e:`/${e}`;return`${R4}${t}`},po=(e,t={})=>{const n={...t.headers};return t.body&&!n["Content-Type"]&&(n["Content-Type"]="application/json"),fetch(P4(e),{...t,headers:n})},N4=()=>{const[e,t]=X.useState("All Events"),[n,r]=X.useState(""),[a,l]=X.useState(10),[u,h]=X.useState(!1),[x,g]=X.useState(1),[b,m]=X.useState([]),[S,C]=X.useState(!1),[I,j]=X.useState([]),[E,R]=X.useState(!1),[_,T]=X.useState(!1),[P,A]=X.useState({eventName:"",description:"",eventType:"",eventMode:"",industry:"",startDate:"",endDate:"",venue:"",city:"",state:"",country:"India",organizerName:"",contactPerson:"",organizerEmail:"",organizerMobile:"",registration:{enableVisitor:!0,approvalRequired:!1,externalMode:!1,startDate:"",endDate:"",generateQR:!0,passType:"Digital Only",allowQRRegen:!1},leadCapture:{enableQR:!0,enableStallQR:!0,enableOCR:!1,manualCapture:!0},communication:{enableWhatsApp:!0,enableEmail:!0,enableSMS:!1,triggerQRScan:!0,triggerStallQRScan:!0,triggerManualSend:!0}}),[N,k]=X.useState(!1),[W,F]=X.useState(!1),[ie,H]=X.useState(""),[Y,re]=X.useState(null),[ae,L]=X.useState(""),G=()=>{g(1),k(!1),F(!1),h(!0)},ee=()=>{h(!1),g(1),k(!1),F(!1)},ue=()=>{navigator.clipboard.writeText(ae),F(!0),setTimeout(()=>F(!1),2e3)},$=async()=>{R(!0);try{const te=await po("/api/organizations");let Ne;const Ee=await te.clone().text();try{Ne=JSON.parse(Ee)}catch{Ne=Ee}if(!te.ok)throw new Error(Ne&&Ne.error||String(Ne)||"Failed to load organizations");j(Array.isArray(Ne)?Ne:[])}catch(te){console.error("Failed to load organizations",te),j([])}finally{R(!1)}},B=async()=>{C(!0);try{const te=await po("/api/events");let Ne;const Ee=await te.clone().text();try{Ne=JSON.parse(Ee)}catch{Ne=Ee}if(!te.ok)throw new Error(Ne&&Ne.error||String(Ne)||"Failed to load events");const ve=(Array.isArray(Ne)?Ne:[]).map(Oe=>{const Te=Oe.created_at?new Date(Oe.created_at).toLocaleDateString():"",ge=Oe.created_at?new Date(Oe.created_at).toLocaleDateString():"";return{id:String(Oe.id??""),name:Oe.event_name??"",email:Oe.organizer_email??"",status:Oe.status??"Draft",venue:Oe.venue??"",exhibitors:"-",visitors:"-",createdDate:Te,lastDate:ge}});m(ve)}catch(te){console.error("Failed to load events",te),m([])}finally{C(!1)}};X.useEffect(()=>{$(),B()},[]);const q=async()=>{T(!0);try{const te={eventName:P.eventName,description:P.description,eventType:P.eventType,eventMode:P.eventMode,industry:P.industry,startDate:P.startDate,endDate:P.endDate,venue:P.venue,city:P.city,state:P.state,country:P.country,organizerName:P.organizerName,contactPerson:P.contactPerson,organizerEmail:P.organizerEmail,organizerMobile:P.organizerMobile,registration:P.registration,leadCapture:P.leadCapture,communication:P.communication},Ne=await po("/api/events",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(te)});let Ee;const ve=await Ne.clone().text();try{Ee=JSON.parse(ve)}catch{Ee=ve}if(!Ne.ok)throw new Error(Ee&&Ee.error||String(Ee)||"Failed to create event");re(Ee);const Te=`${window.location.origin}/?action=register&eventId=${Ee.id}&eventName=${encodeURIComponent(P.eventName)}&eventDate=${encodeURIComponent(P.startDate)}`;L(Te);try{const ge=await oe(Te);H(ge)}catch(ge){console.warn("QR generation failed",ge)}k(!0),await B()}catch(te){console.error("Create event failed",te),alert("Failed to create event: "+(te.message||te))}finally{T(!1)}},oe=async te=>{try{return await Qo.toDataURL(te,{width:256,margin:1})}catch(Ne){return console.error("QR Gen Error:",Ne),null}},de=(te="event_qr.png")=>{if(!ie)return;const Ne=document.createElement("a");Ne.href=ie,Ne.download=te,document.body.appendChild(Ne),Ne.click(),Ne.remove()},be=["All Events","Active","Pending","Upcoming","Cancelled"],Me=te=>({Live:"badge-live",Draft:"badge-draft",Completed:"badge-done",Upcoming:"badge-upcoming"})[te]||"badge-draft";return o.jsxs("div",{className:"dashboard-container",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"28px"},className:"fade-in",children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"28px",fontWeight:800,color:"#1e3a8a",margin:0,letterSpacing:"-0.02em"},children:"Event Management"}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"6px"},children:"Manage all events across tenants"})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"white",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"#475569",cursor:"pointer"},children:[o.jsx(fn,{size:16}),"Export"]}),o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"#2563eb",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"white",cursor:"pointer"},onClick:G,children:[o.jsx(ir,{size:16}),"Add Event"]})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"28px"},className:"fade-in",children:[o.jsxs("div",{className:"card",style:{padding:"24px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:"Total Events"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",lineHeight:1},children:"06"}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"6px"},children:"Right now"})]}),o.jsx("div",{style:{background:"rgba(37, 99, 235, 0.1)",padding:"10px",borderRadius:"10px"},children:o.jsx(un,{size:20,color:"#2563eb"})})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",color:"#10b981",fontWeight:600},children:[o.jsx(nr,{size:14}),"+12%"]})]}),o.jsxs("div",{className:"card",style:{padding:"24px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:"Live Now"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",lineHeight:1},children:"03"}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"6px"},children:"Currently running"})]}),o.jsx("div",{style:{background:"rgba(6, 182, 212, 0.1)",padding:"10px",borderRadius:"10px"},children:o.jsx(hl,{size:20,color:"#06b6d4"})})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",color:"#10b981",fontWeight:600},children:[o.jsx(nr,{size:14}),"+8.4%"]})]}),o.jsxs("div",{className:"card",style:{padding:"24px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:"Upcoming"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",lineHeight:1},children:"01"}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"6px"},children:"Right Now"})]}),o.jsx("div",{style:{background:"rgba(59, 130, 246, 0.1)",padding:"10px",borderRadius:"10px"},children:o.jsx(_i,{size:20,color:"#3b82f6"})})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",color:"#10b981",fontWeight:600},children:[o.jsx(nr,{size:14}),"+8.4%"]})]}),o.jsx("div",{className:"card",style:{padding:"24px"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:"Completed"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",lineHeight:1},children:"02"}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"6px"},children:"Right Now"})]}),o.jsx("div",{style:{background:"rgba(16, 185, 129, 0.1)",padding:"10px",borderRadius:"10px"},children:o.jsx(_i,{size:20,color:"#10b981"})})]})})]}),o.jsxs("div",{className:"card fade-in",children:[o.jsx("div",{style:{display:"flex",gap:"4px",borderBottom:"1px solid #f1f5f9",marginBottom:"24px"},children:be.map(te=>o.jsx("div",{onClick:()=>t(te),style:{padding:"12px 20px",fontSize:"14px",fontWeight:600,color:e===te?"#2563eb":"#64748b",borderBottom:e===te?"2px solid #2563eb":"2px solid transparent",cursor:"pointer",transition:"all 0.2s"},children:te},te))}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[o.jsxs("div",{style:{position:"relative",width:"320px"},children:[o.jsx(mr,{size:18,color:"#94a3b8",style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)"}}),o.jsx("input",{type:"text",placeholder:"Search Events...",value:n,onChange:te=>r(te.target.value),style:{width:"100%",padding:"10px 14px 10px 44px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("span",{style:{fontSize:"14px",color:"#64748b",fontWeight:500},children:"Show"}),o.jsxs("select",{value:a,onChange:te=>l(Number(te.target.value)),style:{padding:"8px 12px",border:"1.5px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",fontWeight:500,color:"#475569",outline:"none",cursor:"pointer"},children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:25,children:"25"}),o.jsx("option",{value:50,children:"50"})]}),o.jsx("span",{style:{fontSize:"14px",color:"#64748b",fontWeight:500},children:"entries"})]})]}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"EVENT ID"}),o.jsx("th",{children:"EVENT NAME"}),o.jsx("th",{children:"STATUS"}),o.jsx("th",{children:"VENUE"}),o.jsx("th",{children:"EXHIBITORS"}),o.jsx("th",{children:"VISITORS"}),o.jsx("th",{children:"CREATED DATE"}),o.jsx("th",{children:"LAST DATE"}),o.jsx("th",{children:"ACTIONS"})]})}),o.jsx("tbody",{children:b.map((te,Ne)=>o.jsxs("tr",{className:"hover-lift",children:[o.jsx("td",{style:{fontWeight:600,color:"#475569"},children:te.id}),o.jsxs("td",{children:[o.jsx("div",{style:{fontWeight:600,color:"#1e293b"},children:te.name}),o.jsx("div",{style:{fontSize:"12px",color:"#94a3b8"},children:te.email})]}),o.jsx("td",{children:o.jsx("span",{className:`badge ${Me(te.status)}`,children:te.status})}),o.jsx("td",{style:{color:"#475569"},children:te.venue}),o.jsx("td",{style:{fontWeight:600},children:te.exhibitors}),o.jsx("td",{style:{fontWeight:600},children:te.visitors}),o.jsx("td",{style:{fontSize:"13px",color:"#64748b"},children:te.createdDate}),o.jsx("td",{style:{fontSize:"13px",color:"#64748b"},children:te.lastDate}),o.jsx("td",{children:o.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",padding:"4px"},children:o.jsx(Zo,{size:18,color:"#64748b"})})})]},Ne))})]})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #f1f5f9"},children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b"},children:"Showing 1 to 9 of 9 entries"}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"«"}),o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"‹"}),o.jsx("button",{style:{padding:"8px 14px",border:"1px solid #2563eb",background:"#2563eb",borderRadius:"6px",fontSize:"13px",color:"white",fontWeight:600,cursor:"pointer"},children:"1"}),o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"›"}),o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"»"})]})]})]}),o.jsx("div",{style:{textAlign:"center",marginTop:"32px",paddingBottom:"24px"},children:o.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",fontWeight:500},children:"Powered By Billiton"})}),u&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:o.jsxs("div",{style:{background:"white",borderRadius:"24px",padding:"40px",width:"800px",maxWidth:"95%",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},onClick:te=>te.stopPropagation(),children:[o.jsx("button",{onClick:ee,style:{position:"absolute",top:"24px",right:"24px",background:"none",border:"none",cursor:"pointer",color:"#94a3b8"},children:o.jsx(Nn,{size:24})}),N?o.jsxs("div",{style:{textAlign:"center",padding:"20px 0"},children:[o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"32px"},children:[o.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"#e0f2f1",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px"},children:o.jsx(Li,{size:40,color:"#0d89a4"})}),o.jsx("h2",{style:{fontSize:"24px",fontWeight:700,color:"#0f172a",margin:0},children:"Event Created Successfully!"}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginTop:"4px"},children:"New Event has been created"})]}),o.jsxs("div",{style:{border:"2px dashed #0d89a4",borderRadius:"16px",padding:"32px",background:"#f8fafc",marginBottom:"32px",display:"inline-block",width:"100%"},children:[o.jsx("p",{style:{fontSize:"15px",fontWeight:600,color:"#1e293b",marginBottom:"20px"},children:"Event Registration QR Code"}),o.jsx("div",{style:{width:"180px",height:"180px",background:"white",border:"1px solid #e2e8f0",borderRadius:"12px",padding:"12px",margin:"0 auto 16px",display:"flex",alignItems:"center",justifyContent:"center"},children:ie?o.jsx("img",{src:ie,alt:"QR",style:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"8px",background:"white"}}):o.jsx("div",{style:{width:"128px",height:"128px",border:"8px solid #000",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:o.jsx("div",{style:{width:"64px",height:"64px",background:"#000"}})})}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",marginBottom:"24px"},children:"Scan to register for this event"}),o.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[o.jsxs("button",{onClick:()=>de(Y&&`event_${Y.id||Date.now()}.png`||"event_qr.png"),style:{padding:"10px 20px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",color:"#475569",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(fn,{size:18}),"Download PNG"]}),o.jsxs("button",{onClick:()=>{ie&&window.open(ie,"_blank")},style:{padding:"10px 20px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",color:"#475569",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(fn,{size:18}),"Open Image"]})]})]}),o.jsxs("div",{style:{textAlign:"left",marginBottom:"24px"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Registration Link"}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("input",{type:"text",readOnly:!0,value:ae,style:{flex:1,padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",background:"#f8fafc"}}),o.jsx("button",{onClick:ue,style:{padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",background:"white",cursor:"pointer",color:W?"#0d89a4":"#64748b",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"46px"},children:W?o.jsx(Ti,{size:20}):o.jsx(ph,{size:20})})]})]}),o.jsxs("div",{style:{textAlign:"left"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Share Registration Link"}),o.jsx("div",{style:{display:"flex",gap:"12px"},children:[{icon:o.jsx(hl,{size:20}),label:"WhatsApp",color:"#25D366"},{icon:o.jsx(_i,{size:20}),label:"Email",color:"#EA4335"},{icon:o.jsx(an,{size:20}),label:"SMS",color:"#34B7F1"}].map((te,Ne)=>o.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"10px",background:"#f1f5f9",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#475569",transition:"all 0.2s"},onMouseOver:Ee=>{Ee.currentTarget.style.background="#e2e8f0",Ee.currentTarget.style.color=te.color},onMouseOut:Ee=>{Ee.currentTarget.style.background="#f1f5f9",Ee.currentTarget.style.color="#475569"},children:te.icon},Ne))})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{marginBottom:"32px"},children:[o.jsx("h2",{style:{fontSize:"24px",fontWeight:700,color:"#0f172a",margin:0},children:"Create New Event"}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginTop:"4px"},children:"Fill in the event details step by step"})]}),o.jsx("div",{style:{display:"flex",borderBottom:"1px solid #f1f5f9",marginBottom:"40px"},children:["Basic Info","Organizer","Registration","Lead Capture","Communication"].map((te,Ne)=>{const Ee=Ne+1,ve=x===Ee,Oe=x>Ee;return o.jsxs("div",{onClick:()=>g(Ee),style:{padding:"12px 10px",fontSize:"13px",fontWeight:600,color:ve||Oe?"#0d89a4":"#64748b",borderBottom:ve?"2.5px solid #0d89a4":"2.5px solid transparent",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",flex:1,justifyContent:"center",whiteSpace:"nowrap"},children:[o.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:ve||Oe?"#0d89a4":"#f1f5f9",color:ve||Oe?"white":"#94a3b8",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center",border:ve?"4px solid #e0f2f1":"none"},children:Oe?o.jsx(Ti,{size:14}):Ee}),te]},te)})}),x===1&&o.jsxs("div",{style:{textAlign:"left"},children:[o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Event Name *"}),o.jsx("input",{type:"text",placeholder:"Enter event name",value:P.eventName,onChange:te=>A({...P,eventName:te.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Event Description"}),o.jsx("textarea",{placeholder:"Enter event description",rows:4,value:P.description,onChange:te=>A({...P,description:te.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",resize:"vertical"}})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px",marginBottom:"20px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Event Type *"}),o.jsxs("select",{value:P.eventType,onChange:te=>A({...P,eventType:te.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select type"}),o.jsx("option",{value:"conference",children:"Conference"}),o.jsx("option",{value:"exhibition",children:"Exhibition"}),o.jsx("option",{value:"seminar",children:"Seminar"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Event Mode *"}),o.jsxs("select",{value:P.eventMode,onChange:te=>A({...P,eventMode:te.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select mode"}),o.jsx("option",{value:"in_person",children:"In-Person"}),o.jsx("option",{value:"virtual",children:"Virtual"}),o.jsx("option",{value:"hybrid",children:"Hybrid"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Industry / Sector"}),o.jsxs("select",{value:P.industry,onChange:te=>A({...P,industry:te.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select industry"}),o.jsx("option",{value:"it",children:"Information Technology"}),o.jsx("option",{value:"healthcare",children:"Healthcare"}),o.jsx("option",{value:"manufacturing",children:"Manufacturing"})]})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Start Date *"}),o.jsx("input",{type:"date",value:P.startDate,onChange:te=>A({...P,startDate:te.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"End Date *"}),o.jsx("input",{type:"date",value:P.endDate,onChange:te=>A({...P,endDate:te.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Venue *"}),o.jsx("input",{type:"text",placeholder:"Enter venue name",value:P.venue,onChange:te=>A({...P,venue:te.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"20px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"City"}),o.jsx("input",{type:"text",placeholder:"Enter city",value:P.city,onChange:te=>A({...P,city:te.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"State"}),o.jsxs("select",{value:P.state,onChange:te=>A({...P,state:te.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select state"}),o.jsx("option",{value:"telangana",children:"Telangana"}),o.jsx("option",{value:"andhra",children:"Andhra Pradesh"}),o.jsx("option",{value:"karnataka",children:"Karnataka"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Country"}),o.jsxs("select",{value:P.country,onChange:te=>A({...P,country:te.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"India",children:"India"}),o.jsx("option",{value:"USA",children:"USA"}),o.jsx("option",{value:"UAE",children:"UAE"})]})]})]})]}),x===2&&o.jsxs("div",{style:{textAlign:"left"},children:[o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Organizer Name *"}),o.jsx("input",{type:"text",placeholder:"Enter organizer name",value:P.organizerName,onChange:te=>A({...P,organizerName:te.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Contact Person *"}),o.jsx("input",{type:"text",placeholder:"Enter contact person name",value:P.contactPerson,onChange:te=>A({...P,contactPerson:te.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Email *"}),o.jsx("input",{type:"email",placeholder:"Enter email",value:P.organizerEmail,onChange:te=>A({...P,organizerEmail:te.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Mobile Number *"}),o.jsx("input",{type:"tel",placeholder:"+91 XXXXX XXXXX",value:P.organizerMobile,onChange:te=>A({...P,organizerMobile:te.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]})]}),x===3&&o.jsxs("div",{style:{textAlign:"left"},children:[o.jsxs("div",{style:{border:"1.5px solid #e2e8f0",borderRadius:"16px",padding:"24px",marginBottom:"24px"},children:[o.jsx("h4",{style:{fontSize:"15px",fontWeight:600,color:"#0f172a",marginBottom:"20px"},children:"Visitor Registration Settings"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px",marginBottom:"24px"},children:[{id:"enableVisitor",label:"Enable Visitor Registration",key:"enableVisitor"},{id:"approvalRequired",label:"Registration Approval Required",key:"approvalRequired"},{id:"externalMode",label:"External Registration Mode",key:"externalMode"}].map(te=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#1e293b"},children:te.label}),o.jsx("div",{onClick:()=>A({...P,registration:{...P.registration,[te.key]:!P.registration[te.key]}}),style:{width:"40px",height:"22px",borderRadius:"20px",background:P.registration[te.key]?"#0d89a4":"#e2e8f0",position:"relative",cursor:"pointer",transition:"all 0.2s"},children:o.jsx("div",{style:{width:"18px",height:"18px",background:"white",borderRadius:"50%",position:"absolute",top:"2px",left:P.registration[te.key]?"20px":"2px",transition:"all 0.2s"}})})]},te.id))}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Registration Start Date"}),o.jsx("input",{type:"date",value:P.registration.startDate,onChange:te=>A({...P,registration:{...P.registration,startDate:te.target.value}}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Registration End Date"}),o.jsx("input",{type:"date",value:P.registration.endDate,onChange:te=>A({...P,registration:{...P.registration,endDate:te.target.value}}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]})]})]}),o.jsxs("div",{style:{border:"1.5px solid #e2e8f0",borderRadius:"16px",padding:"24px"},children:[o.jsx("h4",{style:{fontSize:"15px",fontWeight:600,color:"#0f172a",marginBottom:"20px"},children:"Pass & QR Management"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#1e293b"},children:"Generate Visitor QR"}),o.jsx("div",{onClick:()=>A({...P,registration:{...P.registration,generateQR:!P.registration.generateQR}}),style:{width:"40px",height:"22px",borderRadius:"20px",background:P.registration.generateQR?"#0d89a4":"#e2e8f0",position:"relative",cursor:"pointer",transition:"all 0.2s"},children:o.jsx("div",{style:{width:"18px",height:"18px",background:"white",borderRadius:"50%",position:"absolute",top:"2px",left:P.registration.generateQR?"20px":"2px",transition:"all 0.2s"}})})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Pass Type"}),o.jsxs("select",{value:P.registration.passType,onChange:te=>A({...P,registration:{...P.registration,passType:te.target.value}}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"Digital Only",children:"Digital Only"}),o.jsx("option",{value:"Physical Only",children:"Physical Only"}),o.jsx("option",{value:"Both",children:"Both (Digital + Physical)"})]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#1e293b"},children:"Allow QR Regeneration"}),o.jsx("div",{onClick:()=>A({...P,registration:{...P.registration,allowQRRegen:!P.registration.allowQRRegen}}),style:{width:"40px",height:"22px",borderRadius:"20px",background:P.registration.allowQRRegen?"#0d89a4":"#e2e8f0",position:"relative",cursor:"pointer",transition:"all 0.2s"},children:o.jsx("div",{style:{width:"18px",height:"18px",background:"white",borderRadius:"50%",position:"absolute",top:"2px",left:P.registration.allowQRRegen?"20px":"2px",transition:"all 0.2s"}})})]})]})]})]}),x===4&&o.jsx("div",{style:{textAlign:"left"},children:o.jsxs("div",{style:{border:"1.5px solid #e2e8f0",borderRadius:"16px",padding:"24px"},children:[o.jsx("h4",{style:{fontSize:"15px",fontWeight:600,color:"#0f172a",marginBottom:"20px"},children:"Lead Capture Settings"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[{id:"enableQR",label:"Enable QR Lead Capture",key:"enableQR"},{id:"enableStallQR",label:"Enable Stall QR",key:"enableStallQR"},{id:"enableOCR",label:"Enable OCR Capture",key:"enableOCR"},{id:"manualCapture",label:"Manual Lead Capture",key:"manualCapture"}].map(te=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#1e293b"},children:te.label}),o.jsx("div",{onClick:()=>A({...P,leadCapture:{...P.leadCapture,[te.key]:!P.leadCapture[te.key]}}),style:{width:"40px",height:"22px",borderRadius:"20px",background:P.leadCapture[te.key]?"#0d89a4":"#e2e8f0",position:"relative",cursor:"pointer",transition:"all 0.2s"},children:o.jsx("div",{style:{width:"18px",height:"18px",background:"white",borderRadius:"50%",position:"absolute",top:"2px",left:P.leadCapture[te.key]?"20px":"2px",transition:"all 0.2s"}})})]},te.id))})]})}),x===5&&o.jsxs("div",{style:{textAlign:"left"},children:[o.jsxs("div",{style:{border:"1.5px solid #e2e8f0",borderRadius:"16px",padding:"24px",marginBottom:"24px"},children:[o.jsx("h4",{style:{fontSize:"15px",fontWeight:600,color:"#0f172a",marginBottom:"20px"},children:"Messaging Channels"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[{label:"Enable WhatsApp Messaging",key:"enableWhatsApp"},{label:"Enable Email Messaging",key:"enableEmail"},{label:"Enable SMS Messaging",key:"enableSMS"}].map(te=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#1e293b"},children:te.label}),o.jsx("div",{onClick:()=>A({...P,communication:{...P.communication,[te.key]:!P.communication[te.key]}}),style:{width:"40px",height:"22px",borderRadius:"20px",background:P.communication[te.key]?"#0d89a4":"#e2e8f0",position:"relative",cursor:"pointer",transition:"all 0.2s"},children:o.jsx("div",{style:{width:"18px",height:"18px",background:"white",borderRadius:"50%",position:"absolute",top:"2px",left:P.communication[te.key]?"20px":"2px",transition:"all 0.2s"}})})]},te.key))})]}),o.jsxs("div",{style:{border:"1.5px solid #e2e8f0",borderRadius:"16px",padding:"24px"},children:[o.jsx("h4",{style:{fontSize:"15px",fontWeight:600,color:"#0f172a",marginBottom:"20px"},children:"Message Trigger Rules"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[{label:"Trigger on QR Scan",key:"triggerQRScan"},{label:"Trigger on Stall QR Scan",key:"triggerStallQRScan"},{label:"Trigger on Manual Send",key:"triggerManualSend"}].map(te=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#1e293b"},children:te.label}),o.jsx("div",{onClick:()=>A({...P,communication:{...P.communication,[te.key]:!P.communication[te.key]}}),style:{width:"40px",height:"22px",borderRadius:"20px",background:P.communication[te.key]?"#0d89a4":"#e2e8f0",position:"relative",cursor:"pointer",transition:"all 0.2s"},children:o.jsx("div",{style:{width:"18px",height:"18px",background:"white",borderRadius:"50%",position:"absolute",top:"2px",left:P.communication[te.key]?"20px":"2px",transition:"all 0.2s"}})})]},te.key))})]})]}),o.jsxs("div",{style:{marginTop:"40px",paddingTop:"24px",borderTop:"1px solid #f1f5f9",display:"flex",justifyContent:"flex-end",gap:"12px"},children:[x===1?o.jsx("button",{onClick:ee,style:{padding:"10px 24px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",color:"#475569",fontWeight:600,cursor:"pointer"},children:"Cancel"}):o.jsx("button",{onClick:()=>g(x-1),style:{padding:"10px 24px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",color:"#475569",fontWeight:600,cursor:"pointer"},children:"Back"}),o.jsxs("button",{onClick:()=>x<5?g(x+1):q(),disabled:_,style:{padding:"10px 32px",borderRadius:"8px",border:"none",background:"#0d89a4",color:"white",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[x===5?_?"Creating...":"Create Event & Generate QR":"Next",x<5&&o.jsx(Ko,{size:18})]})]})]})]})})]})},k4=()=>{const[e,t]=X.useState("All Exhibitors"),[n,r]=X.useState(""),[a,l]=X.useState(10),[u,h]=X.useState(!1),[x,g]=X.useState(1),b={companyName:"",gstNumber:"",address:"",industry:"",logo:null,contactPerson:"",email:"",mobile:"",password:"",confirmPassword:"",assignedEvent:"",stallNumber:"",stallCategory:"",accessStatus:"Active",leadCapture:{visitorQR:!0,stallQR:!0,ocr:!1,manual:!0},communication:{whatsapp:!0,email:!0,sms:!1}},[m,S]=X.useState([]),[C,I]=X.useState(!1),[j,E]=X.useState([]),[R,_]=X.useState(!1),[T,P]=X.useState(!1),[A,N]=X.useState({...b}),[k,W]=X.useState(!1),F=()=>{g(1),W(!1),h(!0)},ie=()=>{h(!1),g(1),W(!1),N({...b})},H=async()=>{_(!0);try{const G=await po("/api/events");E(Array.isArray(G)?G:[])}catch(G){console.error("Failed to load events",G),E([])}finally{_(!1)}},Y=async()=>{I(!0);try{const ee=await(await po("/api/exhibitors")).json(),ue=(Array.isArray(ee)?ee:[]).map($=>{const B=$.created_at?new Date($.created_at).toLocaleDateString():"",q=$.created_at?new Date($.created_at).toLocaleDateString():"";return{id:String($.id??""),company:$.company_name??"",email:$.email??"",status:$.access_status??"Active",event:$.event_name??"",tenant:$.organization_name??"",leads:"-",staff:"-",lastActive:B,lastDate:q}});S(ue)}catch(G){console.error("Failed to load exhibitors",G),S([])}finally{I(!1)}};X.useEffect(()=>{H(),Y()},[]);const re=async()=>{if(A.password&&A.password!==A.confirmPassword){alert("Passwords do not match!");return}P(!0);try{const G={companyName:A.companyName,gstNumber:A.gstNumber,address:A.address,industry:A.industry,logoUrl:null,contactPerson:A.contactPerson,email:A.email,mobile:A.mobile,password:A.password||null,eventId:A.assignedEvent||null,stallNumber:A.stallNumber,stallCategory:A.stallCategory,accessStatus:A.accessStatus,leadCapture:A.leadCapture,communication:A.communication},ue=await(await po("/api/exhibitors",{method:"POST",body:JSON.stringify(G)})).json();W(!0),ue&&ue.credentials?alert(`Exhibitor created successfully!

Login Credentials:
Email: ${ue.credentials.email}
Password: ${ue.credentials.password}

${ue.credentials.note||""}`):alert("Exhibitor created successfully!"),await Y()}catch(G){console.error("Create exhibitor failed",G),alert("Failed to create exhibitor: "+(G.message||G))}finally{P(!1)}},ae=["All Exhibitors","Active","Pending","Stalls","Leads"],L=G=>({Active:"badge-live",Inactive:"badge-draft"})[G]||"badge-draft";return o.jsxs("div",{className:"dashboard-container",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"28px"},className:"fade-in",children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"28px",fontWeight:800,color:"#1e3a8a",margin:0,letterSpacing:"-0.02em"},children:"Exhibitors Management"}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"6px"},children:"Manage exhibitors, their staff and lead capture"})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"white",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"#475569",cursor:"pointer"},children:[o.jsx(fn,{size:16}),"Export"]}),o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"#2563eb",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"white",cursor:"pointer"},onClick:F,children:[o.jsx(ir,{size:16}),"Add Exhibitors"]})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"28px"},className:"fade-in",children:[o.jsxs("div",{className:"card",style:{padding:"24px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:"Total Exhibitors"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",lineHeight:1},children:"11"}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"6px"},children:"Right Now"})]}),o.jsx("div",{style:{background:"rgba(6, 182, 212, 0.1)",padding:"10px",borderRadius:"10px"},children:o.jsx(xr,{size:20,color:"#06b6d4"})})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",color:"#10b981",fontWeight:600},children:[o.jsx(nr,{size:14}),"+80%"]})]}),o.jsxs("div",{className:"card",style:{padding:"24px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:"Active"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",lineHeight:1},children:"03"}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"6px"},children:"Currently Running"})]}),o.jsx("div",{style:{background:"rgba(59, 130, 246, 0.1)",padding:"10px",borderRadius:"10px"},children:o.jsx(xr,{size:20,color:"#3b82f6"})})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",color:"#10b981",fontWeight:600},children:[o.jsx(nr,{size:14}),"+8.4%"]})]}),o.jsxs("div",{className:"card",style:{padding:"24px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:"Total Leads"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",lineHeight:1},children:"233"}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"6px"},children:"Right Now"})]}),o.jsx("div",{style:{background:"rgba(37, 99, 235, 0.1)",padding:"10px",borderRadius:"10px"},children:o.jsx(an,{size:20,color:"#2563eb"})})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",color:"#10b981",fontWeight:600},children:[o.jsx(nr,{size:14}),"+8.4%"]})]}),o.jsx("div",{className:"card",style:{padding:"24px"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:"Staff Members"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",lineHeight:1},children:"23"}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"6px"},children:"Right Now"})]}),o.jsx("div",{style:{background:"rgba(16, 185, 129, 0.1)",padding:"10px",borderRadius:"10px"},children:o.jsx(Cc,{size:20,color:"#10b981"})})]})})]}),o.jsxs("div",{className:"card fade-in",children:[o.jsx("div",{style:{display:"flex",gap:"4px",borderBottom:"1px solid #f1f5f9",marginBottom:"24px"},children:ae.map(G=>o.jsx("div",{onClick:()=>t(G),style:{padding:"12px 20px",fontSize:"14px",fontWeight:600,color:e===G?"#2563eb":"#64748b",borderBottom:e===G?"2px solid #2563eb":"2px solid transparent",cursor:"pointer",transition:"all 0.2s"},children:G},G))}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[o.jsxs("div",{style:{position:"relative",width:"320px"},children:[o.jsx(mr,{size:18,color:"#94a3b8",style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)"}}),o.jsx("input",{type:"text",placeholder:"Search Exhibitors...",value:n,onChange:G=>r(G.target.value),style:{width:"100%",padding:"10px 14px 10px 44px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("span",{style:{fontSize:"14px",color:"#64748b",fontWeight:500},children:"Show"}),o.jsxs("select",{value:a,onChange:G=>l(Number(G.target.value)),style:{padding:"8px 12px",border:"1.5px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",fontWeight:500,color:"#475569",outline:"none",cursor:"pointer"},children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:25,children:"25"}),o.jsx("option",{value:50,children:"50"})]}),o.jsx("span",{style:{fontSize:"14px",color:"#64748b",fontWeight:500},children:"entries"})]})]}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"EXHIBITOR ID"}),o.jsx("th",{children:"COMPANY"}),o.jsx("th",{children:"STATUS"}),o.jsx("th",{children:"EVENT"}),o.jsx("th",{children:"TENANT"}),o.jsx("th",{children:"LEADS"}),o.jsx("th",{children:"STAFF"}),o.jsx("th",{children:"LAST ACTIVE"}),o.jsx("th",{children:"LAST DATE"}),o.jsx("th",{children:"ACTIONS"})]})}),o.jsx("tbody",{children:m.map((G,ee)=>o.jsxs("tr",{className:"hover-lift",children:[o.jsx("td",{style:{fontWeight:600,color:"#475569"},children:G.id}),o.jsxs("td",{children:[o.jsx("div",{style:{fontWeight:600,color:"#1e293b"},children:G.company}),o.jsx("div",{style:{fontSize:"12px",color:"#94a3b8"},children:G.email})]}),o.jsx("td",{children:o.jsx("span",{className:`badge ${L(G.status)}`,children:G.status})}),o.jsx("td",{style:{color:"#475569"},children:G.event}),o.jsx("td",{style:{color:"#475569"},children:G.tenant}),o.jsx("td",{style:{fontWeight:600},children:G.leads}),o.jsx("td",{style:{fontWeight:600},children:G.staff}),o.jsx("td",{style:{fontSize:"13px",color:"#64748b"},children:G.lastActive}),o.jsx("td",{style:{fontSize:"13px",color:"#64748b"},children:G.lastDate}),o.jsx("td",{children:o.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",padding:"4px"},children:o.jsx(Zo,{size:18,color:"#64748b"})})})]},ee))})]})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #f1f5f9"},children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b"},children:"Showing 1 to 9 of 9 entries"}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"«"}),o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"‹"}),o.jsx("button",{style:{padding:"8px 14px",border:"1px solid #2563eb",background:"#2563eb",borderRadius:"6px",fontSize:"13px",color:"white",fontWeight:600,cursor:"pointer"},children:"1"}),o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"›"}),o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"»"})]})]})]}),o.jsx("div",{style:{textAlign:"center",marginTop:"32px",paddingBottom:"24px"},children:o.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",fontWeight:500},children:"Powered By Billiton"})}),u&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:o.jsxs("div",{style:{background:"white",borderRadius:"24px",padding:"40px",width:"800px",maxWidth:"95%",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},onClick:G=>G.stopPropagation(),children:[o.jsx("button",{onClick:ie,style:{position:"absolute",top:"24px",right:"24px",background:"none",border:"none",cursor:"pointer",color:"#94a3b8"},children:o.jsx(Nn,{size:24})}),k?o.jsxs("div",{style:{textAlign:"center",padding:"40px 0"},children:[o.jsx("div",{style:{width:"80px",height:"80px",background:"#f0fdf4",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px"},children:o.jsx(Li,{size:48,color:"#22c55e"})}),o.jsx("h2",{style:{fontSize:"28px",fontWeight:800,color:"#1e293b",marginBottom:"12px"},children:"Exhibitor Created!"}),o.jsx("p",{style:{fontSize:"16px",color:"#64748b",marginBottom:"40px"},children:"The exhibitor has been added successfully."}),o.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"center"},children:[o.jsx("button",{onClick:ie,style:{padding:"12px 32px",borderRadius:"12px",border:"1.5px solid #e2e8f0",background:"white",color:"#475569",fontWeight:600,cursor:"pointer"},children:"Close"}),o.jsx("button",{style:{padding:"12px 32px",borderRadius:"12px",border:"none",background:"#0d89a4",color:"white",fontWeight:600,cursor:"pointer"},children:"Create Order"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{marginBottom:"32px"},children:[o.jsx("h2",{style:{fontSize:"24px",fontWeight:700,color:"#0f172a",margin:0},children:"Add New Exhibitor"}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginTop:"4px"},children:"Fill in the exhibitor details"})]}),o.jsx("div",{style:{display:"flex",borderBottom:"1px solid #f1f5f9",marginBottom:"40px"},children:["Profile","Event & Stall","Lead Capture","Communication"].map((G,ee)=>{const ue=ee+1,$=x===ue,B=x>ue;return o.jsx("div",{onClick:()=>g(ue),style:{flex:1,textAlign:"center",paddingBottom:"16px",borderBottom:$?"3px solid #0d89a4":"3px solid transparent",color:$?"#0d89a4":B?"#1e293b":"#94a3b8",fontWeight:$||B?700:500,fontSize:"14px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:G},G)})}),o.jsxs("div",{style:{minHeight:"400px"},children:[x===1&&o.jsxs("div",{style:{textAlign:"left"},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Company Name *"}),o.jsx("input",{type:"text",placeholder:"Enter company name",value:A.companyName,onChange:G=>N({...A,companyName:G.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"GST Number"}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("input",{type:"text",placeholder:"27XXXXX1234X1ZX",value:A.gstNumber,onChange:G=>N({...A,gstNumber:G.target.value}),style:{flex:1,padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}}),o.jsx("button",{style:{padding:"0 20px",borderRadius:"10px",border:"1.5px solid #e2e8f0",background:"white",color:"#475569",fontWeight:600,fontSize:"14px",cursor:"pointer"},children:"Verify"})]})]})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Business Address"}),o.jsx("textarea",{placeholder:"Enter business address",value:A.address,onChange:G=>N({...A,address:G.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",minHeight:"100px",resize:"vertical"}})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Industry / Sector"}),o.jsxs("select",{value:A.industry,onChange:G=>N({...A,industry:G.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select industry"}),o.jsx("option",{value:"it",children:"Information Technology"}),o.jsx("option",{value:"healthcare",children:"Healthcare"}),o.jsx("option",{value:"manufacturing",children:"Manufacturing"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Company Logo"}),o.jsx("input",{type:"file",style:{width:"100%",padding:"9px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",background:"white",cursor:"pointer"}})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Primary Contact *"}),o.jsx("input",{type:"text",placeholder:"Enter contact name",value:A.contactPerson,onChange:G=>N({...A,contactPerson:G.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Email *"}),o.jsx("input",{type:"email",placeholder:"Enter email",value:A.email,onChange:G=>N({...A,email:G.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]})]}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Mobile Number *"}),o.jsx("input",{type:"tel",placeholder:"+91 XXXXX XXXXX",value:A.mobile,onChange:G=>N({...A,mobile:G.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Password *"}),o.jsx("input",{type:"password",placeholder:"Enter password",value:A.password,onChange:G=>N({...A,password:G.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Confirm Password *"}),o.jsx("input",{type:"password",placeholder:"Confirm password",value:A.confirmPassword,onChange:G=>N({...A,confirmPassword:G.target.value}),style:{width:"100%",padding:"12px 14px",border:A.confirmPassword&&A.password!==A.confirmPassword?"1.5px solid #ef4444":"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}}),A.confirmPassword&&A.password!==A.confirmPassword&&o.jsx("span",{style:{color:"#ef4444",fontSize:"12px",marginTop:"4px",display:"block"},children:"Passwords do not match"})]})]})]}),x===2&&o.jsxs("div",{style:{textAlign:"left"},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Assigned Event *"}),o.jsxs("select",{value:A.assignedEvent,onChange:G=>N({...A,assignedEvent:G.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select event"}),j.map(G=>o.jsx("option",{value:String(G.id),children:G.event_name},G.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Stall Number"}),o.jsx("input",{type:"text",placeholder:"e.g., A-101",value:A.stallNumber,onChange:G=>N({...A,stallNumber:G.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Stall Category"}),o.jsxs("select",{value:A.stallCategory,onChange:G=>N({...A,stallCategory:G.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select category"}),o.jsx("option",{value:"premium",children:"Premium Stall"}),o.jsx("option",{value:"standard",children:"Standard Stall"}),o.jsx("option",{value:"economy",children:"Economy Stall"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Access Status"}),o.jsxs("select",{value:A.accessStatus,onChange:G=>N({...A,accessStatus:G.target.value}),style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"Active",children:"Active"}),o.jsx("option",{value:"Inactive",children:"Inactive"}),o.jsx("option",{value:"Pending",children:"Pending"})]})]})]})]}),x===3&&o.jsx("div",{style:{textAlign:"left"},children:o.jsxs("div",{style:{background:"#f8fafc",padding:"24px",borderRadius:"16px",border:"1px solid #e2e8f0"},children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:700,color:"#1e293b",marginBottom:"20px"},children:"Lead Capture Settings"}),[{id:"visitorQR",label:"Enable Visitor QR Scan"},{id:"stallQR",label:"Enable Stall QR"},{id:"ocr",label:"Enable Business Card OCR"},{id:"manual",label:"Manual Lead Entry"}].map((G,ee)=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:ee===3?"none":"1px solid #e2e8f0"},children:[o.jsx("span",{style:{fontSize:"14px",fontWeight:600,color:"#475569"},children:G.label}),o.jsx("div",{onClick:()=>N({...A,leadCapture:{...A.leadCapture,[G.id]:!A.leadCapture[G.id]}}),style:{width:"44px",height:"24px",borderRadius:"12px",background:A.leadCapture[G.id]?"#0d89a4":"#e2e8f0",position:"relative",cursor:"pointer",transition:"all 0.3s ease"},children:o.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",background:"white",position:"absolute",top:"3px",left:A.leadCapture[G.id]?"23px":"3px",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}})})]},G.id))]})}),x===4&&o.jsx("div",{style:{textAlign:"left"},children:o.jsxs("div",{style:{background:"#f8fafc",padding:"24px",borderRadius:"16px",border:"1px solid #e2e8f0"},children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:700,color:"#1e293b",marginBottom:"20px"},children:"Messaging Settings"}),[{id:"whatsapp",label:"WhatsApp Messaging"},{id:"email",label:"Email Messaging"},{id:"sms",label:"SMS Messaging"}].map((G,ee)=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:ee===2?"none":"1px solid #e2e8f0"},children:[o.jsx("span",{style:{fontSize:"14px",fontWeight:600,color:"#475569"},children:G.label}),o.jsx("div",{onClick:()=>N({...A,communication:{...A.communication,[G.id]:!A.communication[G.id]}}),style:{width:"44px",height:"24px",borderRadius:"12px",background:A.communication[G.id]?"#0d89a4":"#e2e8f0",position:"relative",cursor:"pointer",transition:"all 0.3s ease"},children:o.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",background:"white",position:"absolute",top:"3px",left:A.communication[G.id]?"23px":"3px",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}})})]},G.id))]})}),o.jsxs("div",{style:{marginTop:"40px",paddingTop:"24px",borderTop:"1px solid #f1f5f9",display:"flex",justifyContent:"flex-end",gap:"12px"},children:[x===1?o.jsx("button",{onClick:ie,style:{padding:"10px 24px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",color:"#475569",fontWeight:600,cursor:"pointer"},children:"Cancel"}):o.jsx("button",{onClick:()=>g(x-1),style:{padding:"10px 24px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",color:"#475569",fontWeight:600,cursor:"pointer"},children:"Back"}),o.jsxs("button",{onClick:()=>x<4?g(x+1):re(),disabled:T,style:{padding:"10px 32px",borderRadius:"8px",border:"none",background:"#0d89a4",color:"white",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[x===4?T?"Creating...":"Create Exhibitor":"Next",x<4&&o.jsx(Ko,{size:18})]})]})]})]})]})})]})};function Fy(e){if(!e||typeof e!="string")return{isValid:!1,error:"GSTIN is required"};const t=e.trim();return t.length!==15?{isValid:!1,error:"GSTIN must be exactly 15 characters"}:/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(t.toUpperCase())?{isValid:!0,error:null}:{isValid:!1,error:"Invalid GSTIN format. Please enter a valid 15-digit GSTIN."}}function M4(e){return e?e.toUpperCase().trim():""}async function D4(e){try{const t=Fy(e);if(!t.isValid)return{success:!1,error:t.error};const n=M4(e),r=await fetch("/api/verify-gstin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({gstin:n})}),a=await r.json();return r.ok?a:{success:!1,error:a.error||"Failed to verify GSTIN",errorCode:a.errorCode}}catch(t){return console.error("GSTIN verification error:",t),{success:!1,error:"Network error. Please check your connection and try again.",errorCode:"NETWORK_ERROR"}}}const B4=()=>{var Z,ye;const[e,t]=X.useState("All Organizations"),[n,r]=X.useState(""),[a,l]=X.useState(10),[u,h]=X.useState([]),[x,g]=X.useState(!1),[b,m]=X.useState(""),S=async()=>{g(!0),m("");try{const K=await fetch("/api/organizations");let fe;const Be=await K.clone().text();try{fe=JSON.parse(Be)}catch{fe=Be}if(!K.ok)throw new Error(fe&&fe.error||String(fe)||"Failed to load organizations");h(Array.isArray(fe)?fe:[])}catch(K){console.error("Failed to load organizations",K),m((K==null?void 0:K.message)||String(K)),h([])}finally{g(!1)}},[C,I]=X.useState(!1),[j,E]=X.useState("SELECTION"),[R,_]=X.useState({email:"",mobile:""}),[T,P]=X.useState({email:"",mobile:"",businessType:"",isRegistered:"",password:"",confirmPassword:""}),[A,N]=X.useState({}),[k,W]=X.useState({gstNumber:""}),[F,ie]=X.useState(!1),[H,Y]=X.useState(""),[re,ae]=X.useState("BASIC"),[L,G]=X.useState({orgName:"",tradeName:"",tenantType:"",industry:"",size:"",apiAccess:!1,state:"",district:"",town:"",address:"",contactName:"",contactEmail:"",contactPhone:"",altPhone:"",website:"",gstNumber:"",panNumber:"",regNumber:"",dateInc:"",isVerified:!1,features:[],plan:"Free"}),[ee,ue]=X.useState(""),[$,B]=X.useState(null),[q,oe]=X.useState(null),[de,be]=X.useState(!1),Me=async()=>{if(ee){be(!0);try{const K=await fetch("/api/verify-coupon",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:ee})}),fe=await K.json();K.ok?(B(fe.coupon),oe(fe.coupon)):(alert(fe.error||"Invalid Coupon"),B(null),oe(null))}catch(K){console.error(K),alert("Failed to verify coupon: "+((K==null?void 0:K.message)||K))}finally{be(!1)}}},te=[{id:"BASIC",label:"Basic Info"},{id:"CONTACT",label:"Contact"},{id:"GST",label:"GST & Verify"},{id:"FEATURES",label:"Features"},{id:"SUBSCRIPTION",label:"Subscription"}],Ne=()=>{E("SELECTION"),I(!0)},Ee=()=>{I(!1),E("SELECTION"),_({email:"",mobile:""}),P({email:"",mobile:"",businessType:"",isRegistered:"",password:"",confirmPassword:""}),N({}),W({gstNumber:""}),G({orgName:"",tradeName:"",tenantType:"",industry:"",size:"",apiAccess:!1,state:"",district:"",town:"",address:"",contactName:"",contactEmail:"",contactPhone:"",altPhone:"",website:"",gstNumber:"",panNumber:"",regNumber:"",dateInc:"",isVerified:!1,features:[],plan:"Free"}),ae("BASIC")},ve=()=>{const K={},fe=(T.email||"").trim(),Be=(T.mobile||"").trim(),Xe=T.password||"",ft=T.confirmPassword||"";return fe?/^\S+@\S+\.\S+$/.test(fe)||(K.email="Enter a valid email address"):K.email="Email is required",Be?/^\d{8,15}$/.test(Be.replace(/\D/g,""))||(K.mobile="Enter a valid mobile number"):K.mobile="Mobile number is required",T.businessType||(K.businessType="Business type is required"),T.isRegistered||(K.isRegistered="Please select yes or no"),Xe?Xe.length<6&&(K.password="Password must be at least 6 characters"):K.password="Password is required",ft?Xe!==ft&&(K.confirmPassword="Passwords do not match"):K.confirmPassword="Confirm password is required",N(K),Object.keys(K).length===0},Oe=()=>{ve()&&(T.isRegistered==="yes"?E("GST_VERIFICATION"):(console.log("Proceeding to Wizard (Non-registered)"),E("WIZARD"),ae("BASIC")))},Te=async()=>{const K=(k.gstNumber||"").trim();if(Y(""),!K){Y("Please enter GST number");return}const fe=Fy(K);if(!fe.isValid){Y(fe.error);return}ie(!0);try{const Be=await D4(K);if(Be.success&&Be.data){const Xe=Be.data,ft={gstNumber:Xe.gstin,panNumber:Xe.panNumber,dateInc:Xe.registrationDate||"",isVerified:!0,state:Xe.state,district:Xe.district,town:Xe.district,orgName:Xe.legalName,tradeName:Xe.tradeName||Xe.legalName,address:Xe.address||""};G(At=>({...At,...ft})),alert(`GST verified successfully!

Company: ${Xe.legalName}
Status: ${Xe.status}
State: ${Xe.state}`),ae("BASIC"),E("WIZARD")}else{const Xe=Be.error||"GST verification failed";Y(Xe),alert(Xe)}}catch(Be){console.error("GST verification error:",Be);const Xe="Unable to verify GSTIN. Please try again later.";Y(Xe),alert(Xe)}finally{ie(!1)}},ge=async()=>{if(!R.email&&!R.mobile){alert("Please provide either email or mobile number");return}try{const K=await fetch("/api/send-invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:R.email||null,mobile:R.mobile||null})}),fe=await K.json();if(K.ok)alert("Invitation sent successfully"),Ee();else throw new Error(fe.error||"Failed to send invite")}catch(K){console.error("Error sending invite:",K),alert(K.message||"Failed to send invite")}},se=async()=>{var K,fe;try{if(!L.orgName||L.orgName.trim()===""){alert("Organization name is required. Please fill in the Basic Info tab.");return}if(!ve()){alert("Please fix the highlighted errors in Step 1 before submitting."),E("CREATE_ORG");return}const Be=((K=T.email)==null?void 0:K.trim())||((fe=L.contactEmail)==null?void 0:fe.trim())||"";if(!Be){alert("Email is required. Please fill in the basic information.");return}const Xe={orgName:L.orgName.trim(),tradeName:L.tradeName||L.orgName.trim(),tenantType:L.tenantType||"",industry:L.industry||"",size:L.size||"",apiAccess:L.apiAccess||!1,businessType:T.businessType||"",isRegistered:T.isRegistered==="yes"||T.isRegistered===!0,email:Be,mobile:T.mobile||"",password:T.password||"",state:L.state||"",district:L.district||"",town:L.town||"",address:L.address||"",contactName:L.contactName||"",contactEmail:L.contactEmail||Be,contactPhone:L.contactPhone||T.mobile||"",altPhone:L.altPhone||"",website:L.website||"",gstNumber:L.gstNumber||"",panNumber:L.panNumber||"",regNumber:L.regNumber||"",dateInc:L.dateInc||null,isVerified:L.isVerified||!1,features:L.features||[],plan:L.plan||"Free"},ft=await fetch("/api/create-organization",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Xe)}),At=await ft.json();if(!ft.ok){const Pt=At.details||At.error||"Failed to create organization";throw new Error(Pt)}if(At.credentials){const Pt=`Organization created successfully!

Login Credentials:
Email: ${At.credentials.email}
Password: ${At.credentials.password}

${At.credentials.note}`;alert(Pt)}else alert("Organization created successfully!");Ee(),await S()}catch(Be){console.error("Error creating organization:",Be),alert(`Error: ${Be.message}`)}};X.useEffect(()=>{S()},[]);const je=["All Organizations","Active","Pending","Suspended","Plans"],Fe=u.map(K=>{const fe=K.created_at?new Date(K.created_at):null,Be=K.updated_at?new Date(K.updated_at):null;return{id:String(K.id??""),name:K.org_name??K.name??K.trade_name??"",email:K.primary_email??K.contact_email??K.email??"",status:K.status??"Active",plan:K.plan??K.subscription_plan??K.plan_name??"Free",events:K.events_count??"-",exhibitors:K.exhibitors_count??"-",createdDate:fe?fe.toLocaleDateString():"",lastDate:Be?Be.toLocaleDateString():fe?fe.toLocaleDateString():""}}).filter(K=>{if(!n)return!0;const fe=n.toLowerCase();return(K.id||"").toLowerCase().includes(fe)||(K.name||"").toLowerCase().includes(fe)||(K.email||"").toLowerCase().includes(fe)}).filter(K=>e==="All Organizations"||e==="Plans"?!0:String(K.status||"").toLowerCase()===String(e||"").toLowerCase()),De=K=>({Active:"badge-live",Inactive:"badge-draft",Suspended:"badge-upcoming"})[K]||"badge-draft";return o.jsxs("div",{className:"dashboard-container",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"28px"},className:"fade-in",children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"28px",fontWeight:800,color:"#1e3a8a",margin:0,letterSpacing:"-0.02em"},children:"Organization Management"}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"6px"},children:"Manage all platform organizations, their subscriptions and access"})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"white",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"#475569",cursor:"pointer"},children:[o.jsx(fn,{size:16}),"Export"]}),o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"#2563eb",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"white",cursor:"pointer"},onClick:Ne,children:[o.jsx(ir,{size:16}),"Add Organization"]})]})]}),o.jsxs("div",{className:"card fade-in",children:[o.jsx("div",{style:{display:"flex",gap:"4px",borderBottom:"1px solid #f1f5f9",marginBottom:"24px"},children:je.map(K=>o.jsx("div",{onClick:()=>t(K),style:{padding:"12px 20px",fontSize:"14px",fontWeight:600,color:e===K?"#2563eb":"#64748b",borderBottom:e===K?"2px solid #2563eb":"2px solid transparent",cursor:"pointer",transition:"all 0.2s"},children:K},K))}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[o.jsxs("div",{style:{position:"relative",width:"320px"},children:[o.jsx(mr,{size:18,color:"#94a3b8",style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)"}}),o.jsx("input",{type:"text",placeholder:"Search organizations...",value:n,onChange:K=>r(K.target.value),style:{width:"100%",padding:"10px 14px 10px 44px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("span",{style:{fontSize:"14px",color:"#64748b",fontWeight:500},children:"Show"}),o.jsxs("select",{value:a,onChange:K=>l(Number(K.target.value)),style:{padding:"8px 12px",border:"1.5px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",fontWeight:500,color:"#475569",outline:"none",cursor:"pointer"},children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:25,children:"25"}),o.jsx("option",{value:50,children:"50"})]}),o.jsx("span",{style:{fontSize:"14px",color:"#64748b",fontWeight:500},children:"entries"})]})]}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"ORG ID"}),o.jsx("th",{children:"ORGANIZATION NAME"}),o.jsx("th",{children:"STATUS"}),o.jsx("th",{children:"PLAN"}),o.jsx("th",{children:"EVENTS"}),o.jsx("th",{children:"EXHIBITORS"}),o.jsx("th",{children:"CREATED DATE"}),o.jsx("th",{children:"LAST DATE"}),o.jsx("th",{children:"ACTIONS"})]})}),o.jsx("tbody",{children:x?o.jsx("tr",{children:o.jsx("td",{colSpan:9,style:{padding:"24px",textAlign:"center",color:"#64748b",fontWeight:600},children:"Loading organizations..."})}):b?o.jsx("tr",{children:o.jsx("td",{colSpan:9,style:{padding:"24px",textAlign:"center",color:"#991b1b",fontWeight:700,background:"#fff1f2"},children:b})}):Fe.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:9,style:{padding:"24px",textAlign:"center",color:"#64748b",fontWeight:600},children:"No organizations found"})}):Fe.slice(0,a).map((K,fe)=>o.jsxs("tr",{className:"hover-lift",children:[o.jsx("td",{style:{fontWeight:600,color:"#475569"},children:K.id}),o.jsxs("td",{children:[o.jsx("div",{style:{fontWeight:600,color:"#1e293b"},children:K.name}),o.jsx("div",{style:{fontSize:"12px",color:"#94a3b8"},children:K.email})]}),o.jsx("td",{children:o.jsx("span",{className:`badge ${De(K.status)}`,children:K.status})}),o.jsx("td",{style:{color:"#475569"},children:K.plan}),o.jsx("td",{style:{fontWeight:600},children:K.events}),o.jsx("td",{style:{fontWeight:600},children:K.exhibitors}),o.jsx("td",{style:{fontSize:"13px",color:"#64748b"},children:K.createdDate}),o.jsx("td",{style:{fontSize:"13px",color:"#64748b"},children:K.lastDate}),o.jsx("td",{children:o.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",padding:"4px"},children:o.jsx(Zo,{size:18,color:"#64748b"})})})]},fe))})]})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #f1f5f9"},children:[o.jsxs("div",{style:{fontSize:"13px",color:"#64748b"},children:["Showing ",Math.min(Fe.length,a)," of ",Fe.length," entries"]}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"«"}),o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"‹"}),o.jsx("button",{style:{padding:"8px 14px",border:"1px solid #2563eb",background:"#2563eb",borderRadius:"6px",fontSize:"13px",color:"white",fontWeight:600,cursor:"pointer"},children:"1"}),o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"›"}),o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"»"})]})]})]}),o.jsx("div",{style:{textAlign:"center",marginTop:"32px",paddingBottom:"24px"},children:o.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",fontWeight:500},children:"Powered By Billiton"})}),C&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:o.jsxs("div",{style:{background:"white",borderRadius:"24px",padding:"40px",width:j==="WIZARD"?"1000px":"600px",maxWidth:"95%",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",animation:"fadeIn 0.2s ease-out"},onClick:K=>K.stopPropagation(),children:[o.jsx("button",{onClick:Ee,style:{position:"absolute",top:"20px",right:"20px",background:"none",border:"none",cursor:"pointer",color:"#94a3b8"},children:o.jsx(Nn,{size:24})}),j==="SELECTION"&&o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("h2",{style:{fontSize:"32px",fontWeight:700,color:"#1e40af",marginBottom:"40px"},children:"Create Organization"}),o.jsxs("div",{style:{display:"flex",gap:"20px",justifyContent:"center"},children:[o.jsxs("div",{onClick:()=>E("INVITE"),style:{border:"1px solid #e2e8f0",borderRadius:"8px",padding:"40px 20px",width:"200px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",transition:"all 0.2s",backgroundColor:"#f8fafc"},className:"hover-card",children:[o.jsx("div",{style:{color:"#2563eb"},children:o.jsx(Ha,{size:32})}),o.jsx("span",{style:{fontSize:"15px",color:"#334155",fontWeight:500},children:"Invite User"})]}),o.jsxs("div",{onClick:()=>E("CREATE_ORG"),style:{border:"1px solid #e2e8f0",borderRadius:"8px",padding:"40px 20px",width:"200px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px",transition:"all 0.2s",backgroundColor:"#f8fafc"},className:"hover-card",children:[o.jsx("div",{style:{color:"#2563eb"},children:o.jsx(an,{size:32})}),o.jsx("span",{style:{fontSize:"15px",color:"#334155",fontWeight:500},children:"Add Create Organization"})]})]})]}),j==="CREATE_ORG"&&o.jsxs("div",{children:[o.jsxs("div",{style:{marginBottom:"30px"},children:[o.jsxs("button",{onClick:()=>E("SELECTION"),style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",fontSize:"14px",color:"#64748b",cursor:"pointer",marginBottom:"16px",padding:0},children:[o.jsx(Pa,{size:16})," Back"]}),o.jsx("h2",{style:{fontSize:"24px",fontWeight:700,color:"#0f172a",margin:0},children:"Create New Organization"}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginTop:"4px"},children:"Step 1 of 2-3"})]}),o.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[o.jsx("h3",{style:{fontSize:"20px",fontWeight:600,color:"#0f172a",margin:0},children:"Let's Get Started"}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginTop:"4px"},children:"Please provide your basic information to begin"})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:["Email Address ",o.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),o.jsx("input",{type:"email",placeholder:"Enter your email",value:T.email,onChange:K=>{P({...T,email:K.target.value}),N(fe=>({...fe,email:void 0}))},style:{width:"100%",padding:"10px 14px",border:A.email?"1px solid #ef4444":"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none"}}),A.email&&o.jsx("div",{style:{marginTop:"6px",fontSize:"12px",color:"#ef4444",fontWeight:500},children:A.email})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:["Mobile Number ",o.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),o.jsx("input",{type:"tel",placeholder:"Enter your mobile number",value:T.mobile,onChange:K=>{P({...T,mobile:K.target.value}),N(fe=>({...fe,mobile:void 0}))},style:{width:"100%",padding:"10px 14px",border:A.mobile?"1px solid #ef4444":"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none"}}),A.mobile&&o.jsx("div",{style:{marginTop:"6px",fontSize:"12px",color:"#ef4444",fontWeight:500},children:A.mobile})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:["Business Type ",o.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),o.jsxs("select",{value:T.businessType,onChange:K=>{P({...T,businessType:K.target.value}),N(fe=>({...fe,businessType:void 0}))},style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select business type"}),o.jsx("option",{value:"corporation",children:"Corporation"}),o.jsx("option",{value:"llc",children:"LLC"}),o.jsx("option",{value:"partnership",children:"Partnership"}),o.jsx("option",{value:"sole_proprietorship",children:"Sole Proprietorship"})]}),A.businessType&&o.jsx("div",{style:{marginTop:"6px",fontSize:"12px",color:"#ef4444",fontWeight:500},children:A.businessType})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"8px"},children:["Is your business registered? ",o.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),o.jsxs("div",{style:{display:"flex",gap:"24px"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",color:"#334155",cursor:"pointer"},children:[o.jsx("input",{type:"radio",name:"isRegistered",value:"yes",checked:T.isRegistered==="yes",onChange:K=>{P({...T,isRegistered:K.target.value}),N(fe=>({...fe,isRegistered:void 0}))},style:{width:"16px",height:"16px",accentColor:"#0f172a"}}),"Yes, it's registered"]}),o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",color:"#334155",cursor:"pointer"},children:[o.jsx("input",{type:"radio",name:"isRegistered",value:"no",checked:T.isRegistered==="no",onChange:K=>{P({...T,isRegistered:K.target.value}),N(fe=>({...fe,isRegistered:void 0}))},style:{width:"16px",height:"16px",accentColor:"#0f172a"}}),"No, not registered"]})]}),A.isRegistered&&o.jsx("div",{style:{marginTop:"8px",fontSize:"12px",color:"#ef4444",fontWeight:500},children:A.isRegistered})]}),o.jsxs("div",{style:{display:"flex",gap:"20px"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:["Password ",o.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),o.jsx("input",{type:"password",placeholder:"Enter password",value:T.password,onChange:K=>{P({...T,password:K.target.value}),N(fe=>({...fe,password:void 0}))},style:{width:"100%",padding:"10px 14px",border:A.password?"1px solid #ef4444":"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none"}}),A.password&&o.jsx("div",{style:{marginTop:"6px",fontSize:"12px",color:"#ef4444",fontWeight:500},children:A.password})]}),o.jsxs("div",{style:{flex:1},children:[o.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:["Confirm Password ",o.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),o.jsx("input",{type:"password",placeholder:"Confirm password",value:T.confirmPassword,onChange:K=>{P({...T,confirmPassword:K.target.value}),N(fe=>({...fe,confirmPassword:void 0}))},style:{width:"100%",padding:"10px 14px",border:A.confirmPassword?"1px solid #ef4444":"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none"}}),A.confirmPassword&&o.jsx("div",{style:{marginTop:"6px",fontSize:"12px",color:"#ef4444",fontWeight:500},children:A.confirmPassword})]})]}),o.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"20px"},children:o.jsx("button",{style:{background:"#0f172a",color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"14px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},onClick:Oe,children:"Continue →"})})]})]}),j==="GST_VERIFICATION"&&o.jsxs("div",{children:[o.jsxs("div",{style:{marginBottom:"30px"},children:[o.jsxs("button",{onClick:()=>E("CREATE_ORG"),style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",fontSize:"14px",color:"#64748b",cursor:"pointer",marginBottom:"16px",padding:0},children:[o.jsx(Pa,{size:16})," Back"]}),o.jsx("h2",{style:{fontSize:"24px",fontWeight:700,color:"#0f172a",margin:0},children:"Create New Organization"}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginTop:"4px"},children:"Step 2 of 3"})]}),o.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[o.jsx("h3",{style:{fontSize:"20px",fontWeight:600,color:"#0f172a",margin:0},children:"GST Verification"}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginTop:"4px"},children:"Enter your GST number to auto-fill business details"})]}),o.jsxs("div",{style:{maxWidth:"480px",margin:"0 auto"},children:[o.jsxs("div",{style:{marginBottom:"24px"},children:[o.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px",textAlign:"left"},children:["GST Number ",o.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsx("input",{type:"text",placeholder:"Enter GST Number (e.g., 27AAACH7409R1Z1)",value:k.gstNumber,onChange:K=>{W({...k,gstNumber:K.target.value}),Y("")},disabled:F,style:{flex:1,padding:"10px 14px",border:H?"1px solid #ef4444":"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none",textTransform:"uppercase",backgroundColor:F?"#f1f5f9":"white",cursor:F?"not-allowed":"text"}}),o.jsx("button",{onClick:Te,disabled:F,style:{padding:"10px 24px",background:F?"#94a3b8":"#2563eb",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:500,cursor:F?"not-allowed":"pointer",minWidth:"100px"},children:F?"Verifying...":"Verify"})]}),H&&o.jsxs("div",{style:{marginTop:"8px",padding:"10px 12px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px",display:"flex",alignItems:"flex-start",gap:"8px"},children:[o.jsx("span",{style:{color:"#ef4444",fontSize:"14px"},children:"⚠"}),o.jsx("span",{style:{fontSize:"13px",color:"#991b1b",flex:1},children:H})]}),o.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",marginTop:"6px",textAlign:"left"},children:"GST number format: 22AAAAA0000A1Z5"}),o.jsxs("div",{style:{marginTop:"12px",fontSize:"13px",color:"#64748b"},children:[o.jsx("div",{style:{fontWeight:600,marginBottom:"6px"},children:"Test Registration Details : Statewise (where HCL Presence is there)"}),o.jsx("div",{style:{fontSize:"13px"},children:o.jsxs("ol",{children:[o.jsx("li",{children:"Uttar Pradesh — 09AAACH7409R1ZZ"}),o.jsx("li",{children:"Karnataka — 29AAACH7409R1ZX"}),o.jsx("li",{children:"Telangana — 36AAACH7409R1Z2"}),o.jsx("li",{children:"Tamil Nadu — 33AAACH7409R1Z8"}),o.jsx("li",{children:"Gujarat — 24AAACH7409R2Z6"}),o.jsx("li",{children:"West Bengal — 19AAACH7409R1ZY"}),o.jsx("li",{children:"Rajasthan — 08AAACH7409R1Z1"}),o.jsx("li",{children:"Madhya Pradesh — 23AAACH7409R1Z9"}),o.jsx("li",{children:"Jharkhand — 20AAACH7409R1ZF"}),o.jsx("li",{children:"Maharashtra — 27AAACH7409R1Z1"}),o.jsx("li",{children:"Delhi — 07AAACH7409R1Z6"}),o.jsx("li",{children:"Haryana — 06AAACH7409R1Z8"}),o.jsx("li",{children:"Punjab — 03AAACH7409R1Z2"}),o.jsx("li",{children:"Bihar — 10AAACH7409R1Z4"}),o.jsx("li",{children:"Odisha — 21AAACH7409R1Z5"}),o.jsx("li",{children:"Chhattisgarh — 22AAACH7409R1Z6"}),o.jsx("li",{children:"Jharkhand — 20AAACH7409R1Z7"}),o.jsx("li",{children:"Assam — 18AAACH7409R1Z8"}),o.jsx("li",{children:"Himachal Pradesh — 02AAACH7409R1Z9"}),o.jsx("li",{children:"Jammu & Kashmir — 01AAACH7409R1Z0"}),o.jsx("li",{children:"Uttarakhand — 05AAACH7409R1Z1"}),o.jsx("li",{children:"Goa — 30AAACH7409R1Z2"}),o.jsx("li",{children:"Chandigarh — 04AAACH7409R1Z3"}),o.jsx("li",{children:"Puducherry — 34AAACH7409R1Z4"})]})})]})]}),o.jsx("div",{style:{textAlign:"left"},children:o.jsx("a",{href:"#",onClick:K=>{K.preventDefault(),E("WIZARD"),ae("BASIC")},style:{fontSize:"13px",color:"#2563eb",textDecoration:"none",fontWeight:500},children:"Don't have GST? Enter details manually →"})})]})]}),j==="WIZARD"&&o.jsxs("div",{style:{width:"100%"},children:[o.jsxs("div",{style:{marginBottom:"24px"},children:[o.jsxs("button",{onClick:()=>{if(re==="BASIC")E("CREATE_ORG");else{const K=te.findIndex(fe=>fe.id===re);K>0&&ae(te[K-1].id)}},style:{background:"none",border:"none",display:"flex",alignItems:"center",gap:"6px",fontSize:"14px",color:"#64748b",cursor:"pointer",marginBottom:"16px",padding:0},children:[o.jsx(Pa,{size:16})," Back"]}),o.jsx("h2",{style:{fontSize:"24px",fontWeight:700,color:"#0f172a",margin:0},children:"Create New Organization"}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginTop:"4px"},children:"Step 2 of 2 - Complete organization details"})]}),o.jsx("div",{style:{display:"flex",background:"#f8fafc",padding:"4px",borderRadius:"8px",marginBottom:"32px"},children:te.map(K=>o.jsx("div",{onClick:()=>ae(K.id),style:{flex:1,textAlign:"center",padding:"10px",fontSize:"13px",fontWeight:600,borderRadius:"6px",cursor:"pointer",background:re===K.id?"white":"transparent",color:re===K.id?"#0f172a":"#64748b",boxShadow:re===K.id?"0 1px 2px rgba(0,0,0,0.05)":"none",transition:"all 0.2s"},children:K.label},K.id))}),o.jsxs("div",{style:{marginBottom:"32px",minHeight:"300px"},children:[re==="BASIC"&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:["Organization Name ",o.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),o.jsx("input",{type:"text",placeholder:"Enter organization name",value:L.orgName,onChange:K=>G({...L,orgName:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Trade Name"}),o.jsx("input",{type:"text",placeholder:"Enter trade name",value:L.tradeName,onChange:K=>G({...L,tradeName:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:["Organization Type ",o.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),o.jsxs("select",{value:L.tenantType,onChange:K=>G({...L,tenantType:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select organization type"}),o.jsx("option",{value:"type1",children:"Type 1"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Industry / Sector"}),o.jsxs("select",{value:L.industry,onChange:K=>G({...L,industry:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select industry"}),o.jsx("option",{value:"tech",children:"Technology"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Organization Size"}),o.jsxs("select",{value:L.size,onChange:K=>G({...L,size:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select size"}),o.jsx("option",{value:"small",children:"1-10"})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a"},children:"Business API Access"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"4px"},children:[o.jsx("div",{onClick:()=>G({...L,apiAccess:!L.apiAccess}),style:{width:"36px",height:"20px",background:L.apiAccess?"#0f172a":"#cbd5e1",borderRadius:"20px",position:"relative",cursor:"pointer",transition:"all 0.2s"},children:o.jsx("div",{style:{width:"16px",height:"16px",background:"white",borderRadius:"50%",position:"absolute",top:"2px",left:L.apiAccess?"18px":"2px",transition:"all 0.2s"}})}),o.jsx("span",{style:{fontSize:"13px",color:"#64748b"},children:L.apiAccess?"Yes":"No"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"State"}),o.jsxs("select",{value:L.state,onChange:K=>G({...L,state:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select state"}),o.jsx("option",{value:"state1",children:"State 1"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"District"}),o.jsxs("select",{value:L.district,onChange:K=>G({...L,district:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select state first"}),o.jsx("option",{value:"district1",children:"District 1"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Town / City"}),o.jsx("input",{type:"text",placeholder:"Enter town or city",value:L.town,onChange:K=>G({...L,town:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),o.jsx("div",{style:{display:"none"}}),o.jsxs("div",{style:{gridColumn:"span 2"},children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Registered Address"}),o.jsx("textarea",{placeholder:"Enter registered address",rows:3,value:L.address,onChange:K=>G({...L,address:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none",resize:"vertical",fontFamily:"inherit"}})]})]}),re==="CONTACT"&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Contact Person Name"}),o.jsx("input",{type:"text",placeholder:"Enter contact person name",value:L.contactName,onChange:K=>G({...L,contactName:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Email Address"}),o.jsx("input",{type:"email",placeholder:"Enter email address",value:L.contactEmail,onChange:K=>G({...L,contactEmail:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Phone Number"}),o.jsx("input",{type:"tel",placeholder:"Enter phone number",value:L.contactPhone,onChange:K=>G({...L,contactPhone:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Alternate Phone"}),o.jsx("input",{type:"tel",placeholder:"Enter alternate phone",value:L.altPhone,onChange:K=>G({...L,altPhone:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{style:{gridColumn:"span 2"},children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Website URL"}),o.jsx("input",{type:"url",placeholder:"https://example.com",value:L.website,onChange:K=>G({...L,website:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none"}})]})]}),re==="GST"&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"GST Number"}),o.jsx("input",{type:"text",placeholder:"Enter GST number",value:L.gstNumber,onChange:K=>G({...L,gstNumber:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"PAN Number"}),o.jsx("input",{type:"text",placeholder:"Enter PAN number",value:L.panNumber,onChange:K=>G({...L,panNumber:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Business Registration Number"}),o.jsx("input",{type:"text",placeholder:"Enter registration number",value:L.regNumber,onChange:K=>G({...L,regNumber:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Date of Incorporation"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx("input",{type:"text",placeholder:"mm/dd/yyyy",value:L.dateInc,onChange:K=>G({...L,dateInc:K.target.value}),style:{width:"100%",padding:"10px 14px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"14px",outline:"none"}}),o.jsx("span",{style:{position:"absolute",right:"12px",top:"10px",color:"#64748b"},children:"📅"})]})]}),o.jsx("div",{style:{gridColumn:"span 2",marginTop:"10px"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"#fff",border:"1px solid #e2e8f0",padding:"16px",borderRadius:"8px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#0f172a"},children:"Verification Status"}),o.jsx("div",{style:{fontSize:"13px",color:"#64748b"},children:"Mark this organization as verified"})]}),o.jsx("div",{onClick:()=>G({...L,isVerified:!L.isVerified}),style:{width:"44px",height:"24px",background:L.isVerified?"#0f172a":"#cbd5e1",borderRadius:"24px",position:"relative",cursor:"pointer",transition:"all 0.2s"},children:o.jsx("div",{style:{width:"20px",height:"20px",background:"white",borderRadius:"50%",position:"absolute",top:"2px",left:L.isVerified?"22px":"2px",transition:"all 0.2s"}})})]})})]}),re==="FEATURES"&&o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[o.jsx("span",{style:{fontSize:"13px",color:"#64748b"},children:"Select the features your organization needs"}),o.jsxs("span",{style:{fontSize:"13px",fontWeight:600,color:"#0f172a"},children:[L.features.length," features selected"]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[{id:"multi_user",label:"Multi-User Access",desc:"Allow multiple users to access the organization account"},{id:"api_access",label:"API Access",desc:"Enable programmatic access via REST API"},{id:"custom_branding",label:"Custom Branding",desc:"Customize the look and feel with your own branding"},{id:"analytics",label:"Analytics Dashboard",desc:"Access to detailed analytics and insights"},{id:"reporting",label:"Advanced Reporting",desc:"Generate comprehensive reports and exports"},{id:"priority_support",label:"Priority Support",desc:"Get faster response times from support team"},{id:"sso",label:"SSO Integration",desc:"Single sign-on with SAML or OAuth providers"},{id:"audit_logs",label:"Audit Logs",desc:"Track all actions and changes in the system"}].map(K=>o.jsxs("div",{onClick:()=>{const fe=L.features.includes(K.id)?L.features.filter(Be=>Be!==K.id):[...L.features,K.id];G({...L,features:fe})},style:{padding:"16px",border:`1px solid ${L.features.includes(K.id)?"#0f172a":"#e2e8f0"}`,borderRadius:"8px",cursor:"pointer",display:"flex",gap:"12px",transition:"all 0.2s"},children:[o.jsx("div",{style:{width:"18px",height:"18px",border:`1px solid ${L.features.includes(K.id)?"#0f172a":"#cbd5e1"}`,borderRadius:"4px",background:L.features.includes(K.id)?"#0f172a":"white",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,marginTop:"2px"},children:L.features.includes(K.id)&&o.jsx("span",{style:{color:"white",fontSize:"12px"},children:"✓"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#0f172a",marginBottom:"4px"},children:K.label}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b",lineHeight:"1.4"},children:K.desc})]})]},K.id))})]}),re==="SUBSCRIPTION"&&o.jsxs("div",{children:[o.jsx("div",{style:{marginBottom:"20px",fontSize:"14px",fontWeight:600,color:"#0f172a"},children:"Choose Your Subscription Plan"}),o.jsx("div",{style:{fontSize:"13px",color:"#64748b",marginBottom:"24px"},children:"Select the plan that best fits your organization's needs"}),o.jsxs("div",{style:{marginBottom:"24px",display:"flex",gap:"12px",alignItems:"flex-end"},children:[o.jsxs("div",{style:{flex:1,maxWidth:"300px"},children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"6px"},children:"Have a Coupon Code?"}),o.jsx("input",{value:ee,onChange:K=>ue(K.target.value),placeholder:"Enter code (e.g. CUSTOM-XY7Z)",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1.5px solid #e2e8f0",outline:"none"}})]}),o.jsx("button",{onClick:Me,disabled:!ee||de,style:{padding:"10px 20px",background:"#0f172a",color:"white",borderRadius:"8px",border:"none",fontWeight:600,cursor:"pointer",height:"42px"},children:de?"...":"Apply Coupon"})]}),$&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(15, 23, 42, 0.5)",backdropFilter:"blur(4px)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsxs("div",{style:{background:"white",borderRadius:"24px",width:"100%",maxWidth:"400px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",overflow:"hidden"},onClick:K=>K.stopPropagation(),children:[o.jsxs("div",{style:{padding:"20px",borderBottom:"1px solid #f1f5f9",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:700,color:"#0f172a"},children:"Plan Unlocked!"}),o.jsx("button",{onClick:()=>B(null),style:{background:"none",border:"none",cursor:"pointer"},children:o.jsx(Nn,{size:20,color:"#94a3b8"})})]}),o.jsxs("div",{style:{padding:"24px"},children:[o.jsxs("div",{style:{background:"#ecfdf5",border:"1px solid #d1fae5",borderRadius:"16px",padding:"24px",textAlign:"center",marginBottom:"24px"},children:[o.jsx("h2",{style:{fontSize:"24px",fontWeight:800,color:"#064e3b",marginBottom:"8px"},children:$.plan_name}),o.jsx("p",{style:{color:"#059669",fontSize:"14px",marginBottom:"16px"},children:$.description}),o.jsxs("div",{style:{fontSize:"32px",fontWeight:800,color:"#064e3b"},children:[(Z=$.pricing)!=null&&Z.monthly?`₹${$.pricing.monthly}`:"Custom",o.jsx("span",{style:{fontSize:"14px",fontWeight:500,color:"#059669"},children:"/mo"})]})]}),o.jsxs("div",{style:{textAlign:"center",marginBottom:"20px",color:"#64748b",fontSize:"13px"},children:["Code: ",o.jsx("strong",{children:$.coupon_code})]}),o.jsx("button",{onClick:()=>{G({...L,plan:$.plan_name||"Coupon Plan"}),B(null)},style:{width:"100%",padding:"14px",background:"#059669",color:"white",border:"none",borderRadius:"12px",fontWeight:600,fontSize:"16px",cursor:"pointer"},children:"Select This Plan"})]})]})}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px"},children:[{id:"Free",name:"Free",price:"₹0",users:"Up to 5 users",analytics:"Basic analytics",support:"Email support",recommended:!0},{id:"Basic",name:"Basic",price:"₹999",users:"Up to 25 users",analytics:"Advanced analytics",support:"Priority email support",recommended:!1},{id:"Professional",name:"Professional",price:"₹2,499",users:"Up to 100 users",analytics:"Custom branding",support:"Phone support",recommended:!1},{id:"Enterprise",name:"Enterprise",price:"₹4,999",users:"Unlimited users",analytics:"Dedicated support",support:"Audit logs",recommended:!1},...q?[{id:"CouponPlan",name:"Coupon Plan",price:(ye=q==null?void 0:q.pricing)!=null&&ye.monthly?`₹${q.pricing.monthly}`:"Custom",users:"Unlocked by coupon",analytics:"Coupon applied",support:`Code: ${(q==null?void 0:q.coupon_code)||""}`,recommended:!1,__coupon:!0}]:[],{id:"Custom",name:"Custom Plan",price:"Contact",sub:"for pricing",users:"Custom user limits",analytics:"Custom features",support:"Dedicated account manager",recommended:!1}].map(K=>o.jsxs("div",{onClick:()=>{K.__coupon?G({...L,plan:(q==null?void 0:q.plan_name)||"Coupon Plan"}):G({...L,plan:K.id})},style:{border:`1px solid ${(K.__coupon?L.plan===((q==null?void 0:q.plan_name)||"Coupon Plan"):L.plan===K.id)?"#0f172a":"#e2e8f0"}`,borderRadius:"8px",padding:"20px",cursor:"pointer",position:"relative",display:"flex",flexDirection:"column",height:"100%"},children:[K.recommended&&o.jsx("div",{style:{position:"absolute",top:"-10px",left:"20px",background:"#0f172a",color:"white",fontSize:"10px",padding:"4px 10px",borderRadius:"12px",fontWeight:600},children:"★ Recommended"}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[o.jsx("span",{style:{fontSize:"14px",fontWeight:600,color:"#0f172a"},children:K.name}),o.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",border:`1px solid ${(K.__coupon?L.plan===((q==null?void 0:q.plan_name)||"Coupon Plan"):L.plan===K.id)?"#0f172a":"#cbd5e1"}`,display:"flex",alignItems:"center",justifyContent:"center"},children:(K.__coupon?L.plan===((q==null?void 0:q.plan_name)||"Coupon Plan"):L.plan===K.id)&&o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#0f172a"}})})]}),o.jsxs("div",{style:{marginBottom:"16px"},children:[o.jsx("span",{style:{fontSize:"20px",fontWeight:700,color:"#0f172a"},children:K.price}),o.jsx("span",{style:{fontSize:"12px",color:"#64748b"},children:"/month"})]}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"16px"},children:"Get started with basic features"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",flex:1},children:[K.users,K.analytics,K.support].map((fe,Be)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px",color:"#334155"},children:[o.jsx("span",{style:{color:"#0f172a"},children:"✓"})," ",fe]},Be))})]},K.id))})]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",borderTop:"1px solid #e2e8f0",paddingTop:"24px"},children:[o.jsxs("button",{onClick:()=>{const K=te.findIndex(fe=>fe.id===re);K>0?ae(te[K-1].id):E("CREATE_ORG")},style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",background:"white",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",fontWeight:600,color:"#475569",cursor:"pointer"},children:[o.jsx(Pa,{size:16})," Previous"]}),o.jsxs("button",{onClick:()=>{const K=te.findIndex(fe=>fe.id===re);K<te.length-1?ae(te[K+1].id):se()},style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 24px",background:"#0f172a",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:600,color:"white",cursor:"pointer"},children:[re==="SUBSCRIPTION"?"Create Tenant":"Next"," ",re!=="SUBSCRIPTION"&&"→"]})]})]}),j==="INVITE"&&o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("h2",{style:{fontSize:"32px",fontWeight:700,color:"#1e40af",marginBottom:"40px"},children:"Create Organization"}),o.jsxs("div",{style:{display:"flex",gap:"20px",marginBottom:"40px",textAlign:"left"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#0f172a",marginBottom:"8px"},children:"Enter Email ID"}),o.jsx("input",{type:"email",placeholder:"user@billiton.com",value:R.email,onChange:K=>_({...R,email:K.target.value}),style:{width:"100%",padding:"12px 16px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"15px",color:"#334155",outline:"none"}})]}),o.jsxs("div",{style:{flex:1},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#0f172a",marginBottom:"8px"},children:"Enter Mobile"}),o.jsx("input",{type:"tel",placeholder:"7893911194",value:R.mobile,onChange:K=>_({...R,mobile:K.target.value}),style:{width:"100%",padding:"12px 16px",border:"1px solid #cbd5e1",borderRadius:"8px",fontSize:"15px",color:"#334155",outline:"none"}})]})]}),o.jsx("button",{onClick:ge,style:{background:"#3b82f6",color:"white",border:"none",padding:"12px 40px",borderRadius:"8px",fontSize:"16px",fontWeight:600,cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px"},children:"< Send Link >"})]})]})})]})},n0=()=>{var $;const[e,t]=X.useState("All Users"),[n,r]=X.useState(""),[a,l]=X.useState(10),[u,h]=X.useState(!1),[x,g]=X.useState(1),[b,m]=X.useState(!1),S={role:"",firstName:"",lastName:"",email:"",mobile:"",organization:"",department:"",permissions:{},additionalPermissions:{globalAccess:!1,crossEvent:!0,dataExport:!1},loginType:"manual",password:"",forceReset:!0,security:{requireMFA:!0,ipRestriction:!1,sessionTimeout:"30 minutes"}},[C,I]=X.useState([]),[j,E]=X.useState(!1),[R,_]=X.useState([]),[T,P]=X.useState(!1),[A,N]=X.useState(!1),[k,W]=X.useState({...S}),F=[{id:"super_admin",title:"Super Admin",desc:"Full control over entire platform, all tenants, billing, configuration and security."},{id:"platform_admin",title:"Platform Admin",desc:"Manages tenants, events, configurations and monitors platform health."},{id:"support_admin",title:"Support Admin",desc:"Handles support tickets, incidents and customer issues across platform."},{id:"finance_admin",title:"Finance Admin",desc:"Manages subscriptions, billing, invoices and payments."},{id:"compliance_admin",title:"Compliance Admin",desc:"Ensures legal, privacy, audit and government compliance."},{id:"integration_admin",title:"Integration Admin",desc:"Manages WhatsApp, SMS, Email, GST and CRM integrations."}],ie=[{id:"control_room",label:"Control Room",icon:Pn},{id:"tenant_mgmt",label:"Tenant Management",icon:Pn},{id:"user_mgmt",label:"User Management",icon:an},{id:"event_mgmt",label:"Event Management",icon:un},{id:"exhibitor_mgmt",label:"Exhibitor Management",icon:xr},{id:"visitor_mgmt",label:"Visitor Management",icon:mo},{id:"subscription_billing",label:"Subscription & Billing",icon:uo},{id:"communication",label:"Communication Control",icon:bo},{id:"api_integration",label:"API Integration",icon:wy},{id:"analytics",label:"Analytics & Reporting",icon:Tu},{id:"compliance_audit",label:"Compliance & Audit",icon:Sc},{id:"system_config",label:"System Configuration",icon:vo},{id:"rbac_mgmt",label:"RBAC Management",icon:Cc},{id:"support_mgmt",label:"Support Management",icon:Ou}],H=()=>{g(1),h(!0)},Y=()=>{h(!1),g(1),m(!1),W({...S})},re=async()=>{P(!0);try{const B=await fetch("/api/organizations"),q=await B.json();if(!B.ok)throw new Error(q.error||"Failed to load organizations");_(Array.isArray(q)?q:[])}catch(B){console.error("Failed to load organizations",B),_([])}finally{P(!1)}},ae=async()=>{E(!0);try{const B=await fetch("/api/users"),q=await B.json();if(!B.ok)throw new Error(q.error||"Failed to load users");const oe=(Array.isArray(q)?q:[]).map(de=>{const be=de.created_at?new Date(de.created_at):null,Me=be?be.toLocaleString():"";return{id:String(de.id??""),name:`${de.first_name??""} ${de.last_name??""}`.trim(),email:de.email??"",status:de.status??"active",role:de.role??"",lastLogin:Me,organization:de.organization_name??""}});I(oe)}catch(B){console.error("Failed to load users",B),I([])}finally{E(!1)}};X.useEffect(()=>{re(),ae()},[]);const L=async()=>{N(!0);try{const B={role:k.role,firstName:k.firstName,lastName:k.lastName,email:k.email,mobile:k.mobile,organizationId:k.organization||null,department:k.department,permissions:k.permissions,additionalPermissions:k.additionalPermissions,loginType:k.loginType,password:k.loginType==="manual"?k.password:null,forceReset:k.forceReset,security:k.security},q=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)}),oe=await q.json();if(!q.ok)throw new Error(oe.error||"Failed to create user");if(k.loginType!=="manual"){const de=await fetch("/api/send-invite",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:k.email,mobile:k.mobile})}),be=await de.json();if(!de.ok)throw new Error(be.error||"Failed to send invite")}Y(),await ae()}catch(B){console.error("Create user failed",B),alert("Failed to create user: "+(B.message||B))}finally{N(!1)}},G=["All Users","Platform Admins","Organization Users","Roles","Activity Logs"],ee=B=>({active:"badge-live",Pending:"badge-upcoming"})[B]||"badge-draft",ue=B=>{const oe={Organizer:{bg:"rgba(37, 99, 235, 0.1)",color:"#2563eb"},"Super Admin":{bg:"rgba(239, 68, 68, 0.1)",color:"#ef4444"},Support:{bg:"rgba(59, 130, 246, 0.1)",color:"#3b82f6"},"Exhibitor Admin":{bg:"rgba(245, 158, 11, 0.1)",color:"#f59e0b"}}[B]||{bg:"rgba(100, 116, 139, 0.1)",color:"#64748b"};return o.jsx("span",{style:{background:oe.bg,color:oe.color,padding:"4px 12px",borderRadius:"6px",fontSize:"12px",fontWeight:600},children:B})};return o.jsxs("div",{className:"dashboard-container",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"28px"},className:"fade-in",children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"28px",fontWeight:800,color:"#1e3a8a",margin:0,letterSpacing:"-0.02em"},children:"User Management"}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"6px"},children:"Manage platform administrators and users"})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"white",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"#475569",cursor:"pointer"},children:[o.jsx(fn,{size:16}),"Export"]}),o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"#2563eb",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"white",cursor:"pointer"},onClick:H,children:[o.jsx(ir,{size:16}),"Add Users"]})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"28px"},className:"fade-in",children:[o.jsx("div",{className:"card",style:{padding:"24px"},children:o.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:"Total Users"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",lineHeight:1},children:"7"})]})})}),o.jsx("div",{className:"card",style:{padding:"24px"},children:o.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:"Active"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",lineHeight:1},children:"6"})]})})}),o.jsx("div",{className:"card",style:{padding:"24px"},children:o.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:"Admins"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",lineHeight:1},children:"2"})]})})}),o.jsx("div",{className:"card",style:{padding:"24px"},children:o.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:"Pending"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",lineHeight:1},children:"1"})]})})})]}),o.jsxs("div",{className:"card fade-in",children:[o.jsx("div",{style:{display:"flex",gap:"4px",borderBottom:"1px solid #f1f5f9",marginBottom:"24px"},children:G.map(B=>o.jsx("div",{onClick:()=>t(B),style:{padding:"12px 20px",fontSize:"14px",fontWeight:600,color:e===B?"#2563eb":"#64748b",borderBottom:e===B?"2px solid #2563eb":"2px solid transparent",cursor:"pointer",transition:"all 0.2s"},children:B},B))}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[o.jsxs("div",{style:{position:"relative",width:"320px"},children:[o.jsx(mr,{size:18,color:"#94a3b8",style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)"}}),o.jsx("input",{type:"text",placeholder:"Search Users...",value:n,onChange:B=>r(B.target.value),style:{width:"100%",padding:"10px 14px 10px 44px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("span",{style:{fontSize:"14px",color:"#64748b",fontWeight:500},children:"Show"}),o.jsxs("select",{value:a,onChange:B=>l(Number(B.target.value)),style:{padding:"8px 12px",border:"1.5px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",fontWeight:500,color:"#475569",outline:"none",cursor:"pointer"},children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:25,children:"25"}),o.jsx("option",{value:50,children:"50"})]}),o.jsx("span",{style:{fontSize:"14px",color:"#64748b",fontWeight:500},children:"entries"})]})]}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"USER NAME"}),o.jsx("th",{children:"USER ID"}),o.jsx("th",{children:"STATUS"}),o.jsx("th",{children:"ROLE"}),o.jsx("th",{children:"LAST LOGIN"}),o.jsx("th",{children:"ORGANIZATION"}),o.jsx("th",{children:"ACTIONS"})]})}),o.jsx("tbody",{children:C.map((B,q)=>o.jsxs("tr",{className:"hover-lift",children:[o.jsx("td",{children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"rgba(37, 99, 235, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(jc,{size:18,color:"#2563eb"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:600,color:"#1e293b"},children:B.name}),o.jsx("div",{style:{fontSize:"12px",color:"#94a3b8"},children:B.email})]})]})}),o.jsx("td",{style:{fontWeight:600,color:"#475569"},children:B.id}),o.jsx("td",{children:o.jsx("span",{className:`badge ${ee(B.status)}`,children:B.status})}),o.jsx("td",{children:ue(B.role)}),o.jsx("td",{style:{fontSize:"13px",color:"#64748b"},children:B.lastLogin}),o.jsx("td",{style:{color:"#475569"},children:B.organization}),o.jsx("td",{children:o.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",padding:"4px"},children:o.jsx(Zo,{size:18,color:"#64748b"})})})]},q))})]})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #f1f5f9"},children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b"},children:"Showing 1 to 9 of 9 entries"}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"«"}),o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"‹"}),o.jsx("button",{style:{padding:"8px 14px",border:"1px solid #2563eb",background:"#2563eb",borderRadius:"6px",fontSize:"13px",color:"white",fontWeight:600,cursor:"pointer"},children:"1"}),o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"›"}),o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"»"})]})]})]}),o.jsx("div",{style:{textAlign:"center",marginTop:"32px",paddingBottom:"24px"},children:o.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",fontWeight:500},children:"Powered By Billiton"})}),u&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:o.jsxs("div",{style:{background:"white",borderRadius:"24px",padding:"40px",width:"800px",maxWidth:"95%",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",animation:"fadeIn 0.2s ease-out"},onClick:B=>B.stopPropagation(),children:[o.jsx("button",{onClick:Y,style:{position:"absolute",top:"24px",right:"24px",background:"none",border:"none",cursor:"pointer",color:"#94a3b8"},children:o.jsx(Nn,{size:24})}),o.jsxs("div",{style:{marginBottom:"32px"},children:[o.jsx("h2",{style:{fontSize:"24px",fontWeight:700,color:"#0f172a",margin:0},children:"Create New User"}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginTop:"4px"},children:"Add a new user with role-based permissions"})]}),o.jsx("div",{style:{display:"flex",borderBottom:"1px solid #f1f5f9",marginBottom:"40px"},children:["Basic Information","Role Selection","Permissions Configuration","Login & Invite"].map((B,q)=>{const oe=q+1,de=x===oe,be=x>oe;return o.jsxs("div",{onClick:()=>g(oe),style:{padding:"12px 16px",fontSize:"14px",fontWeight:600,color:de||be?"#0d89a4":"#64748b",borderBottom:de?"2.5px solid #0d89a4":"2.5px solid transparent",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px",flex:1,justifyContent:"center",whiteSpace:"nowrap"},children:[o.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",background:de||be?"#0d89a4":"#f1f5f9",color:de||be?"white":"#94a3b8",fontSize:"11px",display:"flex",alignItems:"center",justifyContent:"center"},children:be?o.jsx(Ti,{size:12}):oe}),B]},B)})}),x===1&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",textAlign:"left"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"First Name *"}),o.jsx("input",{type:"text",placeholder:"Enter first name",value:k.firstName,onChange:B=>W({...k,firstName:B.target.value}),style:{width:"100%",padding:"10px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Last Name *"}),o.jsx("input",{type:"text",placeholder:"Enter last name",value:k.lastName,onChange:B=>W({...k,lastName:B.target.value}),style:{width:"100%",padding:"10px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Email ID *"}),o.jsx("input",{type:"email",placeholder:"Enter email",value:k.email,onChange:B=>W({...k,email:B.target.value}),style:{width:"100%",padding:"10px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Mobile Number *"}),o.jsx("input",{type:"tel",placeholder:"+91 XXXXX XXXXX",value:k.mobile,onChange:B=>W({...k,mobile:B.target.value}),style:{width:"100%",padding:"10px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Assign Organization"}),o.jsxs("select",{value:k.organization,onChange:B=>W({...k,organization:B.target.value}),style:{width:"100%",padding:"10px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select organization"}),R.map(B=>o.jsx("option",{value:String(B.id),children:B.org_name},B.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Department"}),o.jsx("input",{type:"text",placeholder:"Enter department",value:k.department,onChange:B=>W({...k,department:B.target.value}),style:{width:"100%",padding:"10px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]})]}),x===2&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},children:[o.jsx("label",{style:{fontSize:"14px",fontWeight:600,color:"#0f172a",marginBottom:"8px",display:"block",textAlign:"left"},children:"Select Role *"}),F.map(B=>o.jsxs("div",{onClick:()=>W({...k,role:B.id}),style:{padding:"16px 20px",borderRadius:"12px",border:"1.5px solid",borderColor:k.role===B.id?"#0d89a4":"#e2e8f0",background:k.role===B.id?"#f0f9fa":"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"16px",transition:"all 0.2s"},children:[o.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",border:"2px solid",borderColor:k.role===B.id?"#0d89a4":"#cbd5e1",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:k.role===B.id&&o.jsx("div",{style:{width:"10px",height:"10px",background:"#0d89a4",borderRadius:"50%"}})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:600,color:"#1e293b",fontSize:"15px"},children:B.title}),o.jsx("div",{style:{fontSize:"13px",color:"#64748b",marginTop:"2px"},children:B.desc})]})]},B.id))]}),x===3&&o.jsxs("div",{style:{textAlign:"left"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[o.jsx("h4",{style:{fontSize:"15px",fontWeight:600,color:"#0f172a",margin:0},children:"Module Permissions"}),o.jsxs("span",{style:{fontSize:"12px",color:"#94a3b8"},children:["Based on: ",o.jsx("span",{style:{color:"#0d89a4",fontWeight:600},children:(($=F.find(B=>B.id===k.role))==null?void 0:$.title)||"Selected Role"})]})]}),o.jsx("div",{style:{border:"1.5px solid #e2e8f0",borderRadius:"12px",overflow:"hidden"},children:o.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[o.jsx("thead",{style:{background:"#f8fafc",borderBottom:"1.5px solid #e2e8f0",position:"sticky",top:0,zIndex:1},children:o.jsxs("tr",{children:[o.jsx("th",{style:{padding:"12px 16px",textAlign:"left",color:"#64748b",fontWeight:600},children:"Module"}),o.jsx("th",{style:{padding:"12px 16px",textAlign:"center",color:"#64748b",fontWeight:600},children:"View"}),o.jsx("th",{style:{padding:"12px 16px",textAlign:"center",color:"#64748b",fontWeight:600},children:"Create"}),o.jsx("th",{style:{padding:"12px 16px",textAlign:"center",color:"#64748b",fontWeight:600},children:"Edit"}),o.jsx("th",{style:{padding:"12px 16px",textAlign:"center",color:"#64748b",fontWeight:600},children:"Delete"})]})}),o.jsx("tbody",{children:ie.map(B=>o.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[o.jsx("td",{style:{padding:"12px 16px"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx(B.icon,{size:16,color:"#64748b"}),o.jsx("span",{style:{fontWeight:500,color:"#1e293b"},children:B.label})]})}),["view","create","edit","delete"].map(q=>{var oe,de,be;return o.jsx("td",{style:{padding:"12px 16px",textAlign:"center"},children:o.jsx("div",{style:{width:"18px",height:"18px",border:"2px solid #cbd5e1",borderRadius:"4px",margin:"0 auto",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",background:(oe=k.permissions[B.id])!=null&&oe[q]?"#0d89a4":"transparent",borderColor:(de=k.permissions[B.id])!=null&&de[q]?"#0d89a4":"#cbd5e1"},onClick:()=>{const Me={...k.permissions};Me[B.id]||(Me[B.id]={}),Me[B.id][q]=!Me[B.id][q],W({...k,permissions:Me})},children:((be=k.permissions[B.id])==null?void 0:be[q])&&o.jsx(Ti,{size:14,color:"white"})})},q)})]},B.id))})]})})}),o.jsxs("div",{style:{marginTop:"24px",padding:"20px",background:"#f8fafc",borderRadius:"12px",border:"1.5px solid #e2e8f0"},children:[o.jsx("h4",{style:{fontSize:"14px",fontWeight:600,color:"#0f172a",marginBottom:"16px"},children:"Additional Permission Scopes"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[{id:"globalAccess",label:"Global Access (All Organizations)",desc:"Allow user to manage data across all registered organizations."},{id:"crossEvent",label:"Cross-Event Access",desc:"Allow user to access data between different events of same organization."},{id:"dataExport",label:"Data Export Permission",desc:"Enable user to export sensitive platform data into downloadable formats."}].map(B=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"#1e293b"},children:B.label}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginTop:"2px"},children:B.desc})]}),o.jsx("div",{onClick:()=>W({...k,additionalPermissions:{...k.additionalPermissions,[B.id]:!k.additionalPermissions[B.id]}}),style:{width:"40px",height:"22px",borderRadius:"20px",background:k.additionalPermissions[B.id]?"#0d89a4":"#cbd5e1",position:"relative",cursor:"pointer",transition:"all 0.2s"},children:o.jsx("div",{style:{width:"18px",height:"18px",background:"white",borderRadius:"50%",position:"absolute",top:"2px",left:k.additionalPermissions[B.id]?"20px":"2px",transition:"all 0.2s"}})})]},B.id))})]})]}),x===4&&o.jsxs("div",{style:{textAlign:"left"},children:[o.jsxs("div",{style:{border:"1.5px solid #e2e8f0",borderRadius:"12px",padding:"24px",marginBottom:"24px"},children:[o.jsx("h4",{style:{fontSize:"15px",fontWeight:600,color:"#0f172a",marginBottom:"20px"},children:"Login Credentials Setup"}),o.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"24px"},children:[o.jsxs("button",{onClick:()=>W({...k,loginType:"invite"}),style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px",borderRadius:"10px",border:"1.5px solid",borderColor:k.loginType==="invite"?"#0d89a4":"#e2e8f0",background:k.loginType==="invite"?"#0d89a4":"white",color:k.loginType==="invite"?"white":"#64748b",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:[o.jsx(hl,{size:18,style:{color:k.loginType==="invite"?"white":"#cbd5e1"}}),"Send Invite Email"]}),o.jsxs("button",{onClick:()=>W({...k,loginType:"manual"}),style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px",borderRadius:"10px",border:"1.5px solid",borderColor:k.loginType==="manual"?"#0d89a4":"#e2e8f0",background:k.loginType==="manual"?"#0d89a4":"white",color:k.loginType==="manual"?"white":"#64748b",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:[o.jsx(Ay,{size:18,style:{color:k.loginType==="manual"?"white":"#cbd5e1"}}),"Set Password Manually"]})]}),k.loginType==="manual"?o.jsxs("div",{style:{marginTop:"20px"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Password *"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx("input",{type:b?"text":"password",placeholder:"Enter password",value:k.password,onChange:B=>W({...k,password:B.target.value}),style:{width:"100%",padding:"12px 80px 12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}}),o.jsxs("div",{style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",display:"flex",gap:"8px"},children:[o.jsx("button",{onClick:()=>m(!b),style:{background:"none",border:"none",cursor:"pointer",color:"#94a3b8"},children:o.jsx(mo,{size:18})}),o.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",color:"#94a3b8"},children:o.jsx(ph,{size:18})})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"16px",cursor:"pointer"},onClick:()=>W({...k,forceReset:!k.forceReset}),children:[o.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"4px",border:"2px solid",borderColor:k.forceReset?"#0d89a4":"#cbd5e1",background:k.forceReset?"#0d89a4":"transparent",display:"flex",alignItems:"center",justifyContent:"center"},children:k.forceReset&&o.jsx(Ti,{size:14,color:"white"})}),o.jsx("span",{style:{fontSize:"14px",fontWeight:600,color:"#1e293b"},children:"Force password reset on first login"})]})]}):o.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",padding:"20px",border:"1px solid #e2e8f0",display:"flex",gap:"16px",alignItems:"flex-start"},children:[o.jsx("div",{style:{padding:"8px",background:"white",borderRadius:"8px",border:"1px solid #e2e8f0"},children:o.jsx(Mr,{size:20,color:"#0d89a4"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#1e293b"},children:"Email Invitation"}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",margin:"4px 0 0 0",lineHeight:1.5},children:"An invitation email will be sent to the user with a secure link to set their password and complete account setup."})]})]})]}),o.jsxs("div",{style:{border:"1.5px solid #e2e8f0",borderRadius:"12px",padding:"24px"},children:[o.jsx("h4",{style:{fontSize:"15px",fontWeight:600,color:"#0f172a",marginBottom:"20px"},children:"Security Settings"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#1e293b"},children:"Require MFA"}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:"Two-factor authentication"})]}),o.jsx("div",{onClick:()=>W({...k,security:{...k.security,requireMFA:!k.security.requireMFA}}),style:{width:"40px",height:"22px",borderRadius:"20px",background:k.security.requireMFA?"#0d89a4":"#cbd5e1",position:"relative",cursor:"pointer",transition:"all 0.2s"},children:o.jsx("div",{style:{width:"18px",height:"18px",background:"white",borderRadius:"50%",position:"absolute",top:"2px",left:k.security.requireMFA?"20px":"2px",transition:"all 0.2s"}})})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#1e293b"},children:"IP Restriction"}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:"Limit access by IP"})]}),o.jsx("div",{onClick:()=>W({...k,security:{...k.security,ipRestriction:!k.security.ipRestriction}}),style:{width:"40px",height:"22px",borderRadius:"20px",background:k.security.ipRestriction?"#0d89a4":"#cbd5e1",position:"relative",cursor:"pointer",transition:"all 0.2s"},children:o.jsx("div",{style:{width:"18px",height:"18px",background:"white",borderRadius:"50%",position:"absolute",top:"2px",left:k.security.ipRestriction?"20px":"2px",transition:"all 0.2s"}})})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:"Session Timeout"}),o.jsxs("select",{value:k.security.sessionTimeout,onChange:B=>W({...k,security:{...k.security,sessionTimeout:B.target.value}}),style:{width:"100%",padding:"10px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"15 minutes",children:"15 minutes"}),o.jsx("option",{value:"30 minutes",children:"30 minutes"}),o.jsx("option",{value:"1 hour",children:"1 hour"}),o.jsx("option",{value:"4 hours",children:"4 hours"})]})]})]})]})]}),o.jsxs("div",{style:{marginTop:"40px",paddingTop:"24px",borderTop:"1px solid #f1f5f9",display:"flex",justifyContent:"flex-end",gap:"12px"},children:[x===1?o.jsx("button",{onClick:Y,style:{padding:"10px 24px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",color:"#475569",fontWeight:600,cursor:"pointer"},children:"Cancel"}):o.jsx("button",{onClick:()=>g(x-1),style:{padding:"10px 24px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",color:"#475569",fontWeight:600,cursor:"pointer"},children:"Back"}),o.jsx("button",{onClick:()=>x<4?g(x+1):L(),disabled:A,style:{padding:"10px 32px",borderRadius:"8px",border:"none",background:"#0d89a4",color:"white",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:x===4?o.jsxs(o.Fragment,{children:[k.loginType==="manual"?A?"Creating...":"Create User":A?"Sending...":"Send Invite",o.jsx(Va,{size:16})]}):"Next"})]})]})})]})},z4=()=>{const e="",[t,n]=X.useState("All Visitors"),[r,a]=X.useState(""),[l,u]=X.useState(10),[h,x]=X.useState(!1),[g,b]=X.useState(1),[m,S]=X.useState(!1),C={firstName:"",lastName:"",email:"",mobile:"",gender:"",age:"",organization:"",designation:"",event:"",visitorCategory:"",validDates:"",communication:{whatsapp:!0,email:!0,sms:!1}},[I,j]=X.useState([]),[E,R]=X.useState(!1),[_,T]=X.useState([]),[P,A]=X.useState(!1),[N,k]=X.useState(!1),[W,F]=X.useState({...C}),ie=()=>{b(1),S(!1),F({...C}),x(!0)},H=()=>{x(!1),b(1),S(!1),F({...C})},Y=$=>{if(!$)return"";const B=$.indexOf("@");if(B<=1)return $;const q=$.slice(0,B),oe=$.slice(B);return`${q[0]}${"*".repeat(Math.max(1,q.length-2))}${q[q.length-1]}${oe}`},re=$=>{if(!$)return"";const B=String($);return B.length<=4?B:`${B.slice(0,3)}${"*".repeat(Math.max(1,B.length-6))}${B.slice(-3)}`},ae=async()=>{A(!0);try{const $=await fetch(`${e}/api/events`);let B;const q=await $.clone().text();try{B=JSON.parse(q)}catch{B=q}if(!$.ok)throw new Error(B&&B.error||String(B)||"Failed to load events");T(Array.isArray(B)?B:[])}catch($){console.error("Failed to load events",$),T([])}finally{A(!1)}},L=async()=>{R(!0);try{const $=await fetch(`${e}/api/visitors`);let B;const q=await $.clone().text();try{B=JSON.parse(q)}catch{B=q}if(!$.ok)throw new Error(B&&B.error||String(B)||"Failed to load visitors");const oe=(Array.isArray(B)?B:[]).map(de=>{const be=de.created_at?new Date(de.created_at):null;return{name:`${de.first_name??""} ${de.last_name??""}`.trim(),contact:{email:Y(de.email??""),phone:re(de.mobile??"")},events:"-",lastEvent:de.event_name??"",consent:"Check-In",date:be?be.toLocaleDateString():"",registered:"Mobile",checkIn:"",checkOut:""}});j(oe)}catch($){console.error("Failed to load visitors",$),j([])}finally{R(!1)}};X.useEffect(()=>{ae(),L()},[]);const G=async()=>{k(!0);try{const $={firstName:W.firstName,lastName:W.lastName,email:W.email,mobile:W.mobile,gender:W.gender,age:W.age,organization:W.organization,designation:W.designation,eventId:W.event||null,visitorCategory:W.visitorCategory,validDates:W.validDates,communication:W.communication},B=await fetch(`${e}/api/visitors`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});let q;const oe=await B.clone().text();try{q=JSON.parse(oe)}catch{q=oe}if(!B.ok)throw new Error(q&&q.error||String(q)||"Failed to register visitor");S(!0),q&&q.credentials&&alert(`Visitor registered successfully!

Login Credentials:
Email: ${q.credentials.email}
Password: ${q.credentials.password}

${q.credentials.note||""}`),await L()}catch($){console.error("Register visitor failed",$),alert("Failed to register visitor: "+($.message||$))}finally{k(!1)}},ee=["All Visitors","Registered","Check-In","QR & Pass","Check-Out"],ue=$=>({"Check-In":"badge-live","Check-Out":"badge-draft"})[$]||"badge-draft";return o.jsxs("div",{className:"dashboard-container",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"28px"},className:"fade-in",children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"28px",fontWeight:800,color:"#1e3a8a",margin:0,letterSpacing:"-0.02em"},children:"Visitors Management"}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"6px"},children:"Privacy-safe visitor data management across events"})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"white",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"#475569",cursor:"pointer"},children:[o.jsx(fn,{size:16}),"Export Report"]}),o.jsxs("button",{onClick:ie,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"#2563eb",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"white",cursor:"pointer"},children:[o.jsx(ir,{size:16}),"Register Visitor"]})]})]}),o.jsxs("div",{style:{background:"rgba(59, 130, 246, 0.05)",border:"1px solid rgba(59, 130, 246, 0.2)",borderRadius:"12px",padding:"16px 20px",marginBottom:"28px",display:"flex",alignItems:"center",gap:"12px"},className:"fade-in",children:[o.jsx("div",{style:{background:"rgba(59, 130, 246, 0.1)",padding:"8px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(Rw,{size:18,color:"#3b82f6"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:"#1e293b",marginBottom:"4px"},children:"Privacy-Safe View"}),o.jsx("div",{style:{fontSize:"13px",color:"#64748b"},children:"Personal data is masked for privacy compliance. Full details require authorized access and audit logging."})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"28px"},className:"fade-in",children:[o.jsx("div",{className:"card",style:{padding:"24px"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:"Total Visitors"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",lineHeight:1},children:"6"})]}),o.jsx("div",{style:{background:"rgba(37, 99, 235, 0.1)",padding:"10px",borderRadius:"10px"},children:o.jsx(mo,{size:20,color:"#2563eb"})})]})}),o.jsx("div",{className:"card",style:{padding:"24px"},children:o.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:"Check-In"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",lineHeight:1},children:"5"})]})})}),o.jsx("div",{className:"card",style:{padding:"24px"},children:o.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:"Check-Out"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",lineHeight:1},children:"2"})]})})}),o.jsx("div",{className:"card",style:{padding:"24px"},children:o.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:"VIP Guests"}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",lineHeight:1},children:"2"})]})})})]}),o.jsxs("div",{className:"card fade-in",children:[o.jsx("div",{style:{display:"flex",gap:"4px",borderBottom:"1px solid #f1f5f9",marginBottom:"24px"},children:ee.map($=>o.jsx("div",{onClick:()=>n($),style:{padding:"12px 20px",fontSize:"14px",fontWeight:600,color:t===$?"#2563eb":"#64748b",borderBottom:t===$?"2px solid #2563eb":"2px solid transparent",cursor:"pointer",transition:"all 0.2s"},children:$},$))}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[o.jsxs("div",{style:{position:"relative",width:"320px"},children:[o.jsx(mr,{size:18,color:"#94a3b8",style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)"}}),o.jsx("input",{type:"text",placeholder:"Search Visitor...",value:r,onChange:$=>a($.target.value),style:{width:"100%",padding:"10px 14px 10px 44px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("span",{style:{fontSize:"14px",color:"#64748b",fontWeight:500},children:"Show"}),o.jsxs("select",{value:l,onChange:$=>u(Number($.target.value)),style:{padding:"8px 12px",border:"1.5px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",fontWeight:500,color:"#475569",outline:"none",cursor:"pointer"},children:[o.jsx("option",{value:10,children:"10"}),o.jsx("option",{value:25,children:"25"}),o.jsx("option",{value:50,children:"50"})]}),o.jsx("span",{style:{fontSize:"14px",color:"#64748b",fontWeight:500},children:"entries"})]})]}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"VISITOR"}),o.jsx("th",{children:"CONTACT (MASKED)"}),o.jsx("th",{children:"EVENTS"}),o.jsx("th",{children:"CONSENT"}),o.jsx("th",{children:"DATE"}),o.jsx("th",{children:"REGISTERED"}),o.jsx("th",{children:"CHECK IN TIME"}),o.jsx("th",{children:"CHECK OUT TIME"}),o.jsx("th",{children:"ACTIONS"})]})}),o.jsx("tbody",{children:I.map(($,B)=>o.jsxs("tr",{className:"hover-lift",children:[o.jsx("td",{children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"rgba(37, 99, 235, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(jc,{size:18,color:"#2563eb"})}),o.jsx("div",{style:{fontWeight:600,color:"#1e293b"},children:$.name})]})}),o.jsxs("td",{children:[o.jsxs("div",{style:{fontSize:"13px",color:"#475569",display:"flex",alignItems:"flex-start",gap:"4px"},children:[o.jsx("span",{children:"📧"}),o.jsx("span",{children:$.contact.email})]}),o.jsxs("div",{style:{fontSize:"13px",color:"#475569",display:"flex",alignItems:"center",gap:"4px",marginTop:"4px"},children:[o.jsx("span",{children:"📞"}),o.jsx("span",{children:$.contact.phone})]})]}),o.jsxs("td",{children:[o.jsx("div",{style:{fontWeight:600,color:"#1e293b"},children:$.events}),o.jsxs("div",{style:{fontSize:"12px",color:"#94a3b8"},children:["Last: ",$.lastEvent]})]}),o.jsx("td",{children:o.jsx("span",{className:`badge ${ue($.consent)}`,children:$.consent})}),o.jsx("td",{style:{fontSize:"13px",color:"#64748b"},children:$.date}),o.jsx("td",{style:{color:"#475569"},children:$.registered}),o.jsx("td",{style:{fontSize:"13px",color:"#64748b"},children:$.checkIn}),o.jsx("td",{style:{fontSize:"13px",color:"#64748b"},children:$.checkOut}),o.jsx("td",{children:o.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",padding:"4px"},children:o.jsx(Zo,{size:18,color:"#64748b"})})})]},B))})]})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px",paddingTop:"20px",borderTop:"1px solid #f1f5f9"},children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b"},children:"Showing 1 to 9 of 9 entries"}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"«"}),o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"‹"}),o.jsx("button",{style:{padding:"8px 14px",border:"1px solid #2563eb",background:"#2563eb",borderRadius:"6px",fontSize:"13px",color:"white",fontWeight:600,cursor:"pointer"},children:"1"}),o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"›"}),o.jsx("button",{style:{padding:"8px 12px",border:"1px solid #e2e8f0",background:"white",borderRadius:"6px",fontSize:"13px",color:"#64748b",cursor:"pointer"},children:"»"})]})]})]}),o.jsx("div",{style:{textAlign:"center",marginTop:"32px",paddingBottom:"24px"},children:o.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",fontWeight:500},children:"Powered By Billiton"})}),h&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:o.jsx("div",{style:{background:"white",borderRadius:"24px",padding:"40px",width:"800px",maxWidth:"95%",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",animation:"fadeIn 0.2s ease-out"},onClick:$=>$.stopPropagation(),children:m?o.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[o.jsx("div",{style:{width:"80px",height:"80px",background:"#dcfce7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px"},children:o.jsx(Ti,{size:40,color:"#10b981"})}),o.jsx("h2",{style:{fontSize:"28px",fontWeight:800,color:"#1e293b",marginBottom:"12px"},children:"Visitor Registered!"}),o.jsx("p",{style:{color:"#64748b",fontSize:"16px",marginBottom:"40px"},children:"Registration completed successfully. Visitor pass has been generated."}),o.jsxs("div",{style:{background:"#f8fafc",borderRadius:"20px",padding:"32px",maxWidth:"400px",margin:"0 auto 40px",border:"1.5px solid #e2e8f0"},children:[o.jsx("div",{style:{background:"white",padding:"16px",borderRadius:"12px",marginBottom:"20px",display:"inline-block"},children:o.jsx("div",{style:{width:"160px",height:"160px",background:"#f1f5f9",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(Dw,{size:60,color:"#94a3b8"})})}),o.jsxs("h3",{style:{fontWeight:700,fontSize:"18px",color:"#1e293b",marginBottom:"4px"},children:[W.firstName," ",W.lastName]}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginBottom:"20px"},children:"ID: VIS-2024-001"}),o.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[o.jsxs("button",{style:{flex:1,padding:"10px",borderRadius:"10px",background:"white",border:"1.5px solid #e2e8f0",color:"#475569",fontWeight:600,fontSize:"13px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[o.jsx(fn,{size:16})," PNG"]}),o.jsxs("button",{style:{flex:1,padding:"10px",borderRadius:"10px",background:"white",border:"1.5px solid #e2e8f0",color:"#475569",fontWeight:600,fontSize:"13px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[o.jsx(fn,{size:16})," PDF"]})]})]}),o.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"center"},children:[o.jsx("button",{onClick:H,style:{padding:"12px 32px",borderRadius:"12px",border:"1.5px solid #e2e8f0",background:"white",color:"#475569",fontWeight:600,cursor:"pointer"},children:"Close"}),o.jsxs("button",{style:{padding:"12px 32px",borderRadius:"12px",border:"none",background:"#2563eb",color:"white",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx(Mw,{size:18})," Share Pass"]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:H,style:{position:"absolute",top:"24px",right:"24px",background:"none",border:"none",cursor:"pointer",color:"#94a3b8"},children:o.jsx(Nn,{size:24})}),o.jsxs("div",{style:{marginBottom:"32px"},children:[o.jsx("h2",{style:{fontSize:"24px",fontWeight:700,color:"#0f172a",margin:0},children:"Register New Visitor"}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginTop:"4px"},children:"Complete all steps to generate visitor pass"})]}),o.jsx("div",{style:{display:"flex",borderBottom:"1px solid #f1f5f9",marginBottom:"40px"},children:["Basic Info","Event & Pass","Communication"].map(($,B)=>{const q=B+1,oe=g===q,de=g>q;return o.jsxs("div",{onClick:()=>b(q),style:{padding:"12px 16px",fontSize:"14px",fontWeight:600,color:oe||de?"#0d89a4":"#64748b",borderBottom:oe?"2.5px solid #0d89a4":"2.5px solid transparent",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px",flex:1,justifyContent:"center"},children:[o.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",background:oe||de?"#0d89a4":"#f1f5f9",color:oe||de?"white":"#94a3b8",fontSize:"11px",display:"flex",alignItems:"center",justifyContent:"center"},children:de?o.jsx(Ti,{size:12}):q}),$]},$)})}),o.jsxs("div",{children:[g===1&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",textAlign:"left"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"First Name *"}),o.jsx("input",{type:"text",placeholder:"Enter first name",value:W.firstName,onChange:$=>F({...W,firstName:$.target.value}),style:{width:"100%",padding:"10px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Last Name *"}),o.jsx("input",{type:"text",placeholder:"Enter last name",value:W.lastName,onChange:$=>F({...W,lastName:$.target.value}),style:{width:"100%",padding:"10px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Email ID *"}),o.jsx("input",{type:"email",placeholder:"Enter email",value:W.email,onChange:$=>F({...W,email:$.target.value}),style:{width:"100%",padding:"10px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Mobile Number *"}),o.jsx("input",{type:"tel",placeholder:"+91 XXXXX XXXXX",value:W.mobile,onChange:$=>F({...W,mobile:$.target.value}),style:{width:"100%",padding:"10px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Gender"}),o.jsxs("select",{value:W.gender,onChange:$=>F({...W,gender:$.target.value}),style:{width:"100%",padding:"10px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select gender"}),o.jsx("option",{value:"male",children:"Male"}),o.jsx("option",{value:"female",children:"Female"}),o.jsx("option",{value:"other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Age Group"}),o.jsxs("select",{value:W.age,onChange:$=>F({...W,age:$.target.value}),style:{width:"100%",padding:"10px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select age group"}),o.jsx("option",{value:"18-25",children:"18-25"}),o.jsx("option",{value:"26-40",children:"26-40"}),o.jsx("option",{value:"41-60",children:"41-60"}),o.jsx("option",{value:"60+",children:"60+"})]})]}),o.jsxs("div",{style:{gridColumn:"span 2"},children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Organization / Company"}),o.jsx("input",{type:"text",placeholder:"Enter organization name",value:W.organization,onChange:$=>F({...W,organization:$.target.value}),style:{width:"100%",padding:"10px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{style:{gridColumn:"span 2"},children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Designation"}),o.jsx("input",{type:"text",placeholder:"Enter designation",value:W.designation,onChange:$=>F({...W,designation:$.target.value}),style:{width:"100%",padding:"10px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#0f172a",marginBottom:"6px"},children:"Pass Validity *"}),o.jsxs("select",{value:W.validDates,onChange:$=>F({...W,validDates:$.target.value}),style:{width:"100%",padding:"10px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select duration"}),o.jsx("option",{value:"day1",children:"Day 1 Only"}),o.jsx("option",{value:"day2",children:"Day 2 Only"}),o.jsx("option",{value:"all",children:"Full Event Pass"})]})]})]}),g===3&&o.jsx("div",{style:{textAlign:"left"},children:o.jsxs("div",{style:{background:"#f8fafc",padding:"24px",borderRadius:"16px",border:"1px solid #e2e8f0"},children:[o.jsx("h3",{style:{fontSize:"16px",fontWeight:700,color:"#1e293b",marginBottom:"20px"},children:"Communication Settings"}),[{id:"whatsapp",label:"WhatsApp Notification",icon:bo},{id:"email",label:"Email Confirmation",icon:Mr},{id:"sms",label:"SMS Ticket",icon:hl}].map(($,B)=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:B===2?"none":"1px solid #e2e8f0"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{background:"white",padding:"8px",borderRadius:"8px",border:"1.5px solid #f1f5f9"},children:o.jsx($.icon,{size:18,color:"#64748b"})}),o.jsx("span",{style:{fontSize:"14px",fontWeight:600,color:"#475569"},children:$.label})]}),o.jsx("div",{onClick:()=>F({...W,communication:{...W.communication,[$.id]:!W.communication[$.id]}}),style:{width:"44px",height:"24px",borderRadius:"12px",background:W.communication[$.id]?"#0d89a4":"#e2e8f0",position:"relative",cursor:"pointer",transition:"all 0.3s ease"},children:o.jsx("div",{style:{width:"18px",height:"18px",borderRadius:"50%",background:"white",position:"absolute",top:"3px",left:W.communication[$.id]?"23px":"3px",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}})})]},$.id))]})}),o.jsxs("div",{style:{marginTop:"40px",paddingTop:"24px",borderTop:"1px solid #f1f5f9",display:"flex",justifyContent:"flex-end",gap:"12px"},children:[g===1?o.jsx("button",{onClick:H,style:{padding:"10px 24px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",color:"#475569",fontWeight:600,cursor:"pointer"},children:"Cancel"}):o.jsx("button",{onClick:()=>b(g-1),style:{padding:"10px 24px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",color:"#475569",fontWeight:600,cursor:"pointer"},children:"Back"}),o.jsxs("button",{onClick:()=>g<3?b(g+1):G(),disabled:N,style:{padding:"10px 32px",borderRadius:"8px",border:"none",background:"#0d89a4",color:"white",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[g===3?N?"Registering...":"Register Visitor":"Next",g<3&&o.jsx(Ko,{size:18})]})]})]})]})})})]})},r0=()=>{const[e,t]=X.useState(""),[n,r]=X.useState("Overview"),[a,l]=X.useState(!1),[u,h]=X.useState(!1),[x,g]=X.useState("Identity"),b={organization:"",billingEmail:"",billingAddress:"",taxId:"",planType:"",amount:"",currency:"INR",dueDate:"",paymentMethod:"",items:[{description:"",quantity:1,price:""}],notes:"",terms:!1},[m,S]=X.useState([]),[C,I]=X.useState(!1),[j,E]=X.useState([]),[R,_]=X.useState(!1),[T,P]=X.useState(!1),[A,N]=X.useState({...b}),[k,W]=X.useState(!1),[F,ie]=X.useState("Basic Info"),[H,Y]=X.useState(null),[re,ae]=X.useState(!1),[L,G]=X.useState([]),[ee,ue]=X.useState([]),$={planName:"",planType:"",description:"",validity:"30",status:"Active",limits:{maxEvents:"",maxLeads:"",whatsapp:"",ocr:"",maxUsers:"",maxExhibitors:"",featureAccess:!1,advancedAnalytics:!1,crmIntegration:!1,apiAccess:!1,whiteLabel:!1},pricing:{monthly:"",annual:"",enableTrial:!1,trialDays:"",gracePeriod:"",overageLead:"",overageMessage:""}},[B,q]=X.useState($),oe=async()=>{ae(!0);try{const Z={planName:B.planName,planType:B.planType||"Custom",description:B.description||"",validity:parseInt(B.validity)||30,status:B.status||"Active",limits:B.limits||{},pricing:B.pricing||{}},ye=await fetch(`${be}/api/create-plan`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)}),K=await ye.json();if(!ye.ok)throw new Error(K.details||K.error||"Failed to create plan");Z.planType==="Custom"&&K.coupon?G([{planName:Z.planName,plan:K.plan,coupon:K.coupon}]):(alert("Plan created successfully!"),W(!1),q($)),await Te()}catch(Z){console.error("Create plan failed",Z),alert(Z.message||"Failed to create plan")}finally{ae(!1)}},de=async Z=>{try{await navigator.clipboard.writeText(Z),alert("Coupon code copied to clipboard!")}catch(ye){console.error("Failed to copy:",ye),alert("Failed to copy coupon code")}},be=void 0,Me=["Identity","Details","Payment","Review"],te=["Overview","Plans","Invoices","Payments","Usage"],Ne=()=>{l(!1),h(!1),g("Identity"),N({...b})},Ee=Z=>{const ye=j.find(K=>String(K.id)===String(Z));return(ye==null?void 0:ye.org_name)||""},ve=async()=>{_(!0);try{const Z=await fetch(`${be}/api/organizations`);let ye;const K=await Z.clone().text();try{ye=JSON.parse(K)}catch{ye=K}if(!Z.ok)throw new Error(ye&&ye.error||String(ye)||"Failed to load organizations");E(Array.isArray(ye)?ye:[])}catch(Z){console.error("Failed to load organizations",Z),E([])}finally{_(!1)}},Oe=async()=>{I(!0);try{const Z=await fetch(`${be}/api/invoices`);let ye;const K=await Z.clone().text();try{ye=JSON.parse(K)}catch{ye=K}if(!Z.ok)throw new Error(ye&&ye.error||String(ye)||"Failed to load invoices");const fe=(Array.isArray(ye)?ye:[]).map(Be=>{const Xe=Be.created_at?new Date(Be.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}):"",ft=Be.due_date?new Date(Be.due_date).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}):"",At=Be.amount!=null?Number(Be.amount):0;return{id:Be.invoice_number??String(Be.id??""),org:Be.organization_name??"Unknown Tenant",plan:Be.plan_type??"",amount:`₹${At.toLocaleString("en-IN")}`,rawAmount:At,status:Be.status??"Pending",date:Xe,due:ft}});S(fe)}catch(Z){console.error("Failed to load invoices",Z),S([])}finally{I(!1)}},Te=async()=>{try{const Z=await fetch(`${be}/api/plans`);let ye;const K=await Z.clone().text();try{ye=JSON.parse(K)}catch{ye=K}if(!Z.ok)throw new Error(ye&&ye.error||String(ye)||"Failed to load plans");ue(Array.isArray(ye)?ye:[])}catch(Z){console.error("Failed to load plans",Z),ue([])}};X.useEffect(()=>{ve(),Oe(),Te()},[]);const ge=(Z,ye)=>{const K=A.items.map((fe,Be)=>Be===Z?{...fe,...ye}:fe);N({...A,items:K})},se=()=>{N({...A,items:[...A.items,{description:"",quantity:1,price:""}]})},je=async()=>{P(!0);try{const Z=(Array.isArray(A.items)?A.items:[]).map(Xe=>({description:Xe.description,quantity:Xe.quantity===""?1:Number(Xe.quantity??1),price:Xe.price===""?0:Number(Xe.price??0)})),ye={organizationId:A.organization||null,billingEmail:A.billingEmail,billingAddress:A.billingAddress,taxId:A.taxId,planType:A.planType,amount:A.amount===""?0:Number(A.amount),currency:A.currency,dueDate:A.dueDate,paymentMethod:A.paymentMethod,items:Z,notes:A.notes,terms:A.terms},K=await fetch(`${be}/api/invoices`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ye)});let fe;const Be=await K.clone().text();try{fe=JSON.parse(Be)}catch{fe=Be}if(!K.ok)throw new Error(fe&&fe.error||String(fe)||"Failed to create invoice");h(!0),await Oe()}catch(Z){console.error("Create invoice failed",Z),alert("Failed to create invoice: "+(Z.message||Z))}finally{P(!1)}},_e=m.length>0?m.slice(0,4):[{id:"INV-2024-001",org:"TechCorp India",amount:"₹25,000",status:"Paid",due:"Dec 30, 2024"},{id:"INV-2024-002",org:"StartupHub",amount:"₹15,000",status:"Pending",due:"Jan 02, 2025"},{id:"INV-2024-003",org:"EventPro Solutions",amount:"₹8,500",status:"Pending",due:"Jan 05, 2025"},{id:"INV-2024-004",org:"Industrial Association",amount:"₹35,000",status:"Error",due:"Dec 15, 2024"}],Fe=ee.length>0?ee.map(Z=>{var ye;return{plan:Z.name||"Unnamed",price:(ye=Z.pricing)!=null&&ye.monthly?`₹${Z.pricing.monthly}/mo`:"Custom",tenants:0,status:Z.status||"Active"}}):[{plan:"Starter",price:"₹2,999/mo",tenants:45,status:"Active"},{plan:"Professional",price:"₹9,999/mo",tenants:120,status:"Active"},{plan:"Enterprise",price:"₹24,999/mo",tenants:85,status:"Active"},{plan:"Government",price:"Custom",tenants:18,status:"Active"}],De=Z=>{switch(Z){case"Paid":return{color:"#10b981",bg:"transparent",dotColor:"#10b981"};case"Pending":return{color:"#f59e0b",bg:"transparent",dotColor:"#f59e0b"};case"Error":case"Overdue":return{color:"#ef4444",bg:"transparent",dotColor:"#ef4444"};case"Active":return{color:"#10b981",bg:"transparent",dotColor:"#10b981"};default:return{color:"#64748b",bg:"transparent",dotColor:"#64748b"}}};return o.jsxs("div",{className:"dashboard-container",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},className:"fade-in",children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"24px",fontWeight:700,color:"#1e293b",margin:0},children:"Subscription & Billing"}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"4px"},children:"Manage plans, invoices, and payment tracking"})]}),o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"white",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",fontWeight:500,color:"#374151",cursor:"pointer"},children:[o.jsx(fn,{size:16}),"Export Report"]})]}),o.jsx("div",{style:{display:"flex",gap:"0",borderBottom:"1px solid #e5e7eb",marginBottom:"24px"},className:"fade-in",children:te.map(Z=>o.jsx("button",{onClick:()=>r(Z),style:{padding:"12px 20px",fontSize:"14px",fontWeight:500,color:n===Z?"#1e293b":"#6b7280",background:"transparent",border:"none",borderBottom:n===Z?"2px solid #1e293b":"2px solid transparent",cursor:"pointer",marginBottom:"-1px"},children:Z},Z))}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},className:"fade-in",children:[o.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"20px",border:"1px solid #f1f5f9"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"11px",color:"#6b7280",fontWeight:500,textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:"MONTHLY REVENUE"}),o.jsx("div",{style:{fontSize:"28px",fontWeight:700,color:"#1e293b",marginBottom:"4px"},children:"₹12.4L"}),o.jsx("div",{style:{fontSize:"12px",color:"#10b981",fontWeight:500},children:"+18% vs last month"})]}),o.jsx("div",{style:{background:"#e0f2fe",padding:"10px",borderRadius:"10px"},children:o.jsx(Iu,{size:20,color:"#0ea5e9"})})]})}),o.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"20px",border:"1px solid #f1f5f9"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"11px",color:"#6b7280",fontWeight:500,textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:"ACTIVE SUBSCRIPTIONS"}),o.jsx("div",{style:{fontSize:"28px",fontWeight:700,color:"#1e293b",marginBottom:"4px"},children:"248"}),o.jsx("div",{style:{fontSize:"12px",color:"#10b981",fontWeight:500},children:"+12 this month"})]}),o.jsx("div",{style:{background:"#f0fdf4",padding:"10px",borderRadius:"10px"},children:o.jsx(_i,{size:20,color:"#22c55e"})})]})}),o.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"20px",border:"1px solid #f1f5f9"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"11px",color:"#6b7280",fontWeight:500,textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:"PENDING INVOICES"}),o.jsx("div",{style:{fontSize:"28px",fontWeight:700,color:"#1e293b",marginBottom:"4px"},children:"23"}),o.jsx("div",{style:{fontSize:"12px",color:"#ef4444",fontWeight:500},children:"₹2.8L outstanding"})]}),o.jsx("div",{style:{background:"#fef3c7",padding:"10px",borderRadius:"10px"},children:o.jsx(pr,{size:20,color:"#f59e0b"})})]})}),o.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"20px",border:"1px solid #f1f5f9"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"11px",color:"#6b7280",fontWeight:500,textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:"AVG. REVENUE/TENANT"}),o.jsx("div",{style:{fontSize:"28px",fontWeight:700,color:"#1e293b",marginBottom:"4px"},children:"₹5,000"}),o.jsx("div",{style:{fontSize:"12px",color:"#10b981",fontWeight:500},children:"+8% growth"})]}),o.jsx("div",{style:{background:"#f3e8ff",padding:"10px",borderRadius:"10px"},children:o.jsx(nr,{size:20,color:"#a855f7"})})]})})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},className:"fade-in",children:[o.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #f1f5f9",overflow:"hidden"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 20px",borderBottom:"1px solid #f1f5f9"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(_u,{size:18,color:"#6b7280"}),o.jsx("span",{style:{fontSize:"15px",fontWeight:600,color:"#1e293b"},children:"Recent Invoices"})]}),o.jsx("button",{style:{background:"none",border:"none",color:"#6b7280",fontSize:"13px",fontWeight:500,cursor:"pointer"},children:"View All"})]}),o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{background:"#fafafa"},children:[o.jsx("th",{style:{padding:"10px 20px",textAlign:"left",fontSize:"11px",fontWeight:600,color:"#6b7280",textTransform:"uppercase"},children:"INVOICE #"}),o.jsx("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:"11px",fontWeight:600,color:"#6b7280",textTransform:"uppercase"},children:"TENANT"}),o.jsx("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:"11px",fontWeight:600,color:"#6b7280",textTransform:"uppercase"},children:"AMOUNT"}),o.jsx("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:"11px",fontWeight:600,color:"#6b7280",textTransform:"uppercase"},children:"STATUS"}),o.jsx("th",{style:{padding:"10px 20px",textAlign:"left",fontSize:"11px",fontWeight:600,color:"#6b7280",textTransform:"uppercase"},children:"DUE DATE"})]})}),o.jsx("tbody",{children:_e.map((Z,ye)=>o.jsxs("tr",{style:{borderTop:"1px solid #f5f5f5"},children:[o.jsx("td",{style:{padding:"12px 20px",fontSize:"13px",color:"#374151",fontWeight:500},children:Z.id}),o.jsx("td",{style:{padding:"12px 16px",fontSize:"13px",color:"#374151"},children:Z.org}),o.jsx("td",{style:{padding:"12px 16px",fontSize:"13px",color:"#374151",fontWeight:500},children:Z.amount}),o.jsx("td",{style:{padding:"12px 16px"},children:o.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px",fontSize:"12px",fontWeight:500,color:De(Z.status).color},children:[o.jsx("span",{style:{width:"6px",height:"6px",borderRadius:"50%",background:De(Z.status).dotColor}}),Z.status]})}),o.jsx("td",{style:{padding:"12px 20px",fontSize:"13px",color:"#6b7280"},children:Z.due})]},ye))})]})]}),o.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #f1f5f9",overflow:"hidden"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 20px",borderBottom:"1px solid #f1f5f9"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(uo,{size:18,color:"#6b7280"}),o.jsx("span",{style:{fontSize:"15px",fontWeight:600,color:"#1e293b"},children:"Subscription Plans"})]}),o.jsxs("button",{onClick:()=>{W(!0),ie("Basic Info"),q($),G([]),Y(null)},style:{display:"flex",alignItems:"center",gap:"6px",background:"#0f766e",border:"none",color:"white",fontSize:"13px",fontWeight:500,padding:"8px 14px",borderRadius:"6px",cursor:"pointer"},children:[o.jsx(ir,{size:14}),"Add Plan"]})]}),o.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[o.jsx("thead",{children:o.jsxs("tr",{style:{background:"#fafafa"},children:[o.jsx("th",{style:{padding:"10px 20px",textAlign:"left",fontSize:"11px",fontWeight:600,color:"#6b7280",textTransform:"uppercase"},children:"PLAN"}),o.jsx("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:"11px",fontWeight:600,color:"#6b7280",textTransform:"uppercase"},children:"PRICE"}),o.jsx("th",{style:{padding:"10px 16px",textAlign:"left",fontSize:"11px",fontWeight:600,color:"#6b7280",textTransform:"uppercase"},children:"TENANTS"}),o.jsx("th",{style:{padding:"10px 20px",textAlign:"left",fontSize:"11px",fontWeight:600,color:"#6b7280",textTransform:"uppercase"},children:"STATUS"})]})}),o.jsx("tbody",{children:Fe.map((Z,ye)=>o.jsxs("tr",{style:{borderTop:"1px solid #f5f5f5"},children:[o.jsx("td",{style:{padding:"12px 20px",fontSize:"13px",color:"#374151",fontWeight:500},children:Z.plan}),o.jsx("td",{style:{padding:"12px 16px",fontSize:"13px",color:"#374151"},children:Z.price}),o.jsx("td",{style:{padding:"12px 16px",fontSize:"13px",color:"#374151"},children:Z.tenants}),o.jsx("td",{style:{padding:"12px 20px"},children:o.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px",fontSize:"12px",fontWeight:500,color:De(Z.status).color},children:[o.jsx("span",{style:{width:"6px",height:"6px",borderRadius:"50%",background:De(Z.status).dotColor}}),Z.status]})})]},ye))})]})]})]}),a&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:o.jsx("div",{style:{background:"white",borderRadius:"16px",padding:"32px",width:"800px",maxWidth:"95%",maxHeight:"90vh",overflowY:"auto",position:"relative"},onClick:Z=>Z.stopPropagation(),children:o.jsxs("div",{style:{padding:"32px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[o.jsxs("div",{children:[o.jsx("h2",{style:{fontSize:"24px",fontWeight:800,color:"#1e293b",margin:0},children:"Create New Invoice"}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginTop:"4px"},children:"Complete all steps to generate a professional invoice"})]}),o.jsx("button",{onClick:Ne,style:{padding:"8px",borderRadius:"50%",border:"none",background:"#f1f5f9",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(Nn,{size:20,color:"#64748b"})})]}),u?o.jsxs("div",{style:{textAlign:"center",padding:"40px 0"},children:[o.jsx("div",{style:{width:"80px",height:"80px",background:"#dcfce7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px"},children:o.jsx(Li,{size:40,color:"#10b981"})}),o.jsx("h2",{style:{fontSize:"28px",fontWeight:800,color:"#1e293b",marginBottom:"12px"},children:"Invoice Created!"}),o.jsx("p",{style:{color:"#64748b",fontSize:"16px",marginBottom:"40px",maxWidth:"400px",margin:"0 auto 40px"},children:"The invoice has been successfully generated and sent to the organization."}),o.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"center"},children:[o.jsx("button",{onClick:Ne,style:{padding:"12px 32px",borderRadius:"12px",border:"1.5px solid #e2e8f0",background:"white",color:"#475569",fontWeight:600,cursor:"pointer"},children:"Close"}),o.jsxs("button",{style:{padding:"12px 32px",borderRadius:"12px",border:"none",background:"#2563eb",color:"white",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[o.jsx(fn,{size:18})," View PDF"]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{display:"flex",background:"#f8fafc",padding:"6px",borderRadius:"14px",marginBottom:"32px"},children:Me.map(Z=>o.jsx("div",{onClick:()=>g(Z),style:{flex:1,textAlign:"center",padding:"10px 0",borderRadius:"10px",fontSize:"13px",fontWeight:600,cursor:"pointer",transition:"all 0.2s",background:x===Z?"white":"transparent",color:x===Z?"#2563eb":"#64748b",boxShadow:x===Z?"0 4px 6px -1px rgba(0,0,0,0.1)":"none"},children:Z},Z))}),o.jsxs("div",{style:{minHeight:"350px"},children:[x==="Identity"&&o.jsxs("div",{className:"fade-in",children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"24px"},children:[o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[o.jsx("label",{style:{fontSize:"13px",fontWeight:600,color:"#475569"},children:"Organization *"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(Pn,{size:18,color:"#94a3b8",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)"}}),o.jsxs("select",{value:A.organization,onChange:Z=>N({...A,organization:Z.target.value}),style:{width:"100%",padding:"12px 12px 12px 40px",borderRadius:"12px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px",appearance:"none"},children:[o.jsx("option",{value:"",children:"Select Organization"}),j.map(Z=>o.jsx("option",{value:String(Z.id),children:Z.org_name},Z.id))]})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[o.jsx("label",{style:{fontSize:"13px",fontWeight:600,color:"#475569"},children:"Billing Email *"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(Mr,{size:18,color:"#94a3b8",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)"}}),o.jsx("input",{type:"email",placeholder:"billing@organization.com",value:A.billingEmail,onChange:Z=>N({...A,billingEmail:Z.target.value}),style:{width:"100%",padding:"12px 12px 12px 40px",borderRadius:"12px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"24px"},children:[o.jsx("label",{style:{fontSize:"13px",fontWeight:600,color:"#475569"},children:"Billing Address"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(fo,{size:18,color:"#94a3b8",style:{position:"absolute",left:"12px",top:"14px"}}),o.jsx("textarea",{placeholder:"Enter full billing address",value:A.billingAddress,onChange:Z=>N({...A,billingAddress:Z.target.value}),style:{width:"100%",padding:"12px 12px 12px 40px",borderRadius:"12px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px",minHeight:"100px",resize:"none"}})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[o.jsx("label",{style:{fontSize:"13px",fontWeight:600,color:"#475569"},children:"Tax ID / GSTIN"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(_u,{size:18,color:"#94a3b8",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)"}}),o.jsx("input",{type:"text",placeholder:"Enter Tax Identification Number",value:A.taxId,onChange:Z=>N({...A,taxId:Z.target.value}),style:{width:"100%",padding:"12px 12px 12px 40px",borderRadius:"12px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]})]})]}),x==="Details"&&o.jsxs("div",{className:"fade-in",children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"24px"},children:[o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[o.jsx("label",{style:{fontSize:"13px",fontWeight:600,color:"#475569"},children:"Plan / Service Type *"}),o.jsxs("select",{value:A.planType,onChange:Z=>N({...A,planType:Z.target.value}),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"},children:[o.jsx("option",{value:"",children:"Select Category"}),o.jsx("option",{value:"Starter",children:"Starter Plan"}),o.jsx("option",{value:"Professional",children:"Professional Plan"}),o.jsx("option",{value:"Enterprise",children:"Enterprise Plan"}),o.jsx("option",{value:"Government",children:"Government Plan"}),o.jsx("option",{value:"Custom",children:"Custom Service"})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[o.jsx("label",{style:{fontSize:"13px",fontWeight:600,color:"#475569"},children:"Amount *"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(Sy,{size:18,color:"#94a3b8",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)"}}),o.jsx("input",{type:"number",placeholder:"0.00",value:A.amount,onChange:Z=>N({...A,amount:Z.target.value}),style:{width:"100%",padding:"12px 12px 12px 40px",borderRadius:"12px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",marginBottom:"24px"},children:[o.jsx("label",{style:{fontSize:"13px",fontWeight:600,color:"#475569"},children:"Line Items"}),A.items.map((Z,ye)=>o.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[o.jsx("input",{placeholder:"Description",value:Z.description,onChange:K=>ge(ye,{description:K.target.value}),style:{flex:3,padding:"10px",borderRadius:"10px",border:"1.5px solid #f1f5f9",fontSize:"13px"}}),o.jsx("input",{type:"number",placeholder:"Qty",value:Z.quantity,onChange:K=>ge(ye,{quantity:K.target.value===""?"":Number(K.target.value)}),style:{flex:1,padding:"10px",borderRadius:"10px",border:"1.5px solid #f1f5f9",fontSize:"13px"}}),o.jsx("input",{type:"number",placeholder:"Price",value:Z.price,onChange:K=>ge(ye,{price:K.target.value}),style:{flex:1.5,padding:"10px",borderRadius:"10px",border:"1.5px solid #f1f5f9",fontSize:"13px"}})]},ye)),o.jsxs("button",{onClick:se,style:{alignSelf:"flex-start",background:"none",border:"none",color:"#2563eb",fontSize:"13px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(ir,{size:14})," Add Another Item"]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[o.jsx("label",{style:{fontSize:"13px",fontWeight:600,color:"#475569"},children:"Notes for Client"}),o.jsx("textarea",{placeholder:"Additional information or instructions...",value:A.notes,onChange:Z=>N({...A,notes:Z.target.value}),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px",minHeight:"80px",resize:"none"}})]})]}),x==="Payment"&&o.jsxs("div",{className:"fade-in",children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"32px"},children:[o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[o.jsx("label",{style:{fontSize:"13px",fontWeight:600,color:"#475569"},children:"Due Date *"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(un,{size:18,color:"#94a3b8",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)"}}),o.jsx("input",{type:"date",value:A.dueDate,onChange:Z=>N({...A,dueDate:Z.target.value}),style:{width:"100%",padding:"12px 12px 12px 40px",borderRadius:"12px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[o.jsx("label",{style:{fontSize:"13px",fontWeight:600,color:"#475569"},children:"Payment Method Preference"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(uo,{size:18,color:"#94a3b8",style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)"}}),o.jsxs("select",{value:A.paymentMethod,onChange:Z=>N({...A,paymentMethod:Z.target.value}),style:{width:"100%",padding:"12px 12px 12px 40px",borderRadius:"12px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px",appearance:"none"},children:[o.jsx("option",{value:"",children:"Any Method"}),o.jsx("option",{value:"Bank Transfer",children:"Bank Transfer (NEFT/IMPS)"}),o.jsx("option",{value:"Card",children:"Credit/Debit Card"}),o.jsx("option",{value:"UPI",children:"UPI"})]})]})]})]}),o.jsxs("div",{style:{background:"#f8fafc",padding:"24px",borderRadius:"16px",border:"1px dashed #cbd5e1"},children:[o.jsxs("h4",{style:{margin:"0 0 16px",fontSize:"15px",fontWeight:700,color:"#1e293b",display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(Sc,{size:18,color:"#2563eb"})," Compliance & Terms"]}),o.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"flex-start"},children:[o.jsx("input",{type:"checkbox",checked:A.terms,onChange:Z=>N({...A,terms:Z.target.checked}),style:{marginTop:"4px"}}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",margin:0,lineHeight:1.5},children:"I confirm that all financial details provided are accurate according to company policy. The invoice will be generated with a unique ID and tracked for tax compliance."})]})]})]}),x==="Review"&&o.jsx("div",{className:"fade-in",children:o.jsxs("div",{style:{border:"1.5px solid #f1f5f9",borderRadius:"16px",padding:"24px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"24px",paddingBottom:"16px",borderBottom:"1px solid #f1f5f9"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"12px",color:"#94a3b8",fontWeight:600,textTransform:"uppercase",marginBottom:"4px"},children:"Organization"}),o.jsx("div",{style:{fontWeight:700,color:"#1e293b"},children:Ee(A.organization)||"Not Selected"})]}),o.jsxs("div",{style:{textAlign:"right"},children:[o.jsx("div",{style:{fontSize:"12px",color:"#94a3b8",fontWeight:600,textTransform:"uppercase",marginBottom:"4px"},children:"Due Date"}),o.jsx("div",{style:{fontWeight:700,color:"#1e293b"},children:A.dueDate||"Immediate"})]})]}),o.jsxs("div",{style:{marginBottom:"24px"},children:[o.jsx("div",{style:{fontSize:"12px",color:"#94a3b8",fontWeight:600,textTransform:"uppercase",marginBottom:"12px"},children:"Billing Summary"}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[o.jsx("span",{style:{fontSize:"14px",color:"#64748b"},children:A.planType||"Selected Service"}),o.jsxs("span",{style:{fontWeight:600},children:["₹",A.amount||"0"]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[o.jsx("span",{style:{fontSize:"14px",color:"#64748b"},children:"Tax (18% GST)"}),o.jsxs("span",{style:{fontWeight:600},children:["₹",(Number(A.amount)*.18).toFixed(2)]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"16px",paddingTop:"16px",borderTop:"2px solid #f1f5f9"},children:[o.jsx("span",{style:{fontSize:"16px",fontWeight:700,color:"#1e293b"},children:"Total Amount"}),o.jsxs("span",{style:{fontSize:"20px",fontWeight:800,color:"#2563eb"},children:["₹",(Number(A.amount)*1.18).toFixed(2)]})]})]})]})})]}),o.jsxs("div",{style:{marginTop:"32px",display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"24px",borderTop:"1px solid #f1f5f9"},children:[o.jsx("button",{onClick:Ne,style:{padding:"12px 24px",borderRadius:"12px",border:"1.5px solid #e2e8f0",background:"white",color:"#475569",fontWeight:600,fontSize:"14px",cursor:"pointer"},children:"Discard"}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[x!=="Identity"&&o.jsx("button",{onClick:()=>{const Z=Me.indexOf(x);g(Me[Z-1])},style:{padding:"12px 24px",borderRadius:"12px",border:"1.5px solid #e2e8f0",background:"white",color:"#475569",fontWeight:600,fontSize:"14px",cursor:"pointer"},children:"Back"}),o.jsxs("button",{onClick:()=>{const Z=Me.indexOf(x);Z<Me.length-1?g(Me[Z+1]):je()},disabled:T,style:{padding:"12px 32px",borderRadius:"12px",border:"none",background:"#2563eb",color:"white",fontWeight:600,fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[x==="Review"?T?"Generating...":"Generate & Send":"Save & Next"," ",o.jsx(Ko,{size:18})]})]})]})]})]})})}),k&&L.length===0&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(15, 23, 42, 0.4)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:o.jsx("div",{style:{background:"white",borderRadius:"24px",width:"900px",maxWidth:"95%",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},onClick:Z=>Z.stopPropagation(),children:o.jsxs("div",{style:{padding:"32px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[o.jsxs("div",{children:[o.jsx("h2",{style:{fontSize:"24px",fontWeight:800,color:"#1e293b",margin:0},children:"Create Subscription Plan"}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginTop:"4px"},children:"Create a plan and generate coupons for subscriptions"})]}),o.jsx("button",{onClick:()=>{W(!1),ie("Basic Info"),q($),G([]),Y(null)},style:{padding:"8px",borderRadius:"50%",border:"none",background:"#f1f5f9",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(Nn,{size:20,color:"#64748b"})})]}),o.jsx("div",{style:{display:"flex",borderBottom:"1px solid #f1f5f9",marginBottom:"24px"},children:["Basic Info","Limits","Pricing"].map(Z=>{const ye=F===Z;return o.jsx("div",{onClick:()=>ie(Z),style:{padding:"12px 16px",fontSize:"14px",fontWeight:700,color:ye?"#0f766e":"#64748b",borderBottom:ye?"2.5px solid #0f766e":"2.5px solid transparent",cursor:"pointer"},children:Z},Z)})}),o.jsxs("div",{style:{minHeight:"360px"},children:[F==="Basic Info"&&o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"Plan Name *"}),o.jsx("input",{value:B.planName,onChange:Z=>q({...B,planName:Z.target.value}),placeholder:"Enter plan name",style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"Plan Type"}),o.jsxs("select",{value:B.planType,onChange:Z=>q({...B,planType:Z.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px",background:"white"},children:[o.jsx("option",{value:"",children:"Select plan type"}),o.jsx("option",{value:"Custom",children:"Custom"}),o.jsx("option",{value:"Standard",children:"Standard"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"Description"}),o.jsx("textarea",{value:B.description,onChange:Z=>q({...B,description:Z.target.value}),placeholder:"Describe this plan",style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px",minHeight:"110px",resize:"vertical"}})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"Validity (days)"}),o.jsx("input",{type:"number",value:B.validity,onChange:Z=>q({...B,validity:Z.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"Status"}),o.jsxs("select",{value:B.status,onChange:Z=>q({...B,status:Z.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px",background:"white"},children:[o.jsx("option",{value:"Active",children:"Active"}),o.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),F==="Limits"&&o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"Max Events"}),o.jsx("input",{type:"number",value:B.limits.maxEvents,onChange:Z=>q({...B,limits:{...B.limits,maxEvents:Z.target.value}}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"Max Users"}),o.jsx("input",{type:"number",value:B.limits.maxUsers,onChange:Z=>q({...B,limits:{...B.limits,maxUsers:Z.target.value}}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"Max Leads"}),o.jsx("input",{type:"number",value:B.limits.maxLeads,onChange:Z=>q({...B,limits:{...B.limits,maxLeads:Z.target.value}}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"Max Exhibitors"}),o.jsx("input",{type:"number",value:B.limits.maxExhibitors,onChange:Z=>q({...B,limits:{...B.limits,maxExhibitors:Z.target.value}}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"WhatsApp Messages"}),o.jsx("input",{type:"number",value:B.limits.whatsapp,onChange:Z=>q({...B,limits:{...B.limits,whatsapp:Z.target.value}}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"OCR Credits"}),o.jsx("input",{type:"number",value:B.limits.ocr,onChange:Z=>q({...B,limits:{...B.limits,ocr:Z.target.value}}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]})]})]}),F==="Pricing"&&o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"Monthly Price (₹)"}),o.jsx("input",{type:"number",value:B.pricing.monthly,onChange:Z=>q({...B,pricing:{...B.pricing,monthly:Z.target.value}}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"Annual Price (₹)"}),o.jsx("input",{type:"number",value:B.pricing.annual,onChange:Z=>q({...B,pricing:{...B.pricing,annual:Z.target.value}}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]})]}),o.jsxs("div",{style:{marginTop:"8px",paddingTop:"24px",borderTop:"1px solid #e2e8f0"},children:[o.jsx("h3",{style:{fontSize:"15px",fontWeight:700,color:"#1e293b",marginBottom:"16px"},children:"Trial Settings"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("label",{style:{fontSize:"14px",color:"#475569"},children:"Enable Trial"}),o.jsx("div",{onClick:()=>q({...B,pricing:{...B.pricing,enableTrial:!B.pricing.enableTrial}}),style:{width:"44px",height:"24px",borderRadius:"12px",background:B.pricing.enableTrial?"#0f766e":"#cbd5e1",position:"relative",cursor:"pointer"},children:o.jsx("div",{style:{width:"20px",height:"20px",borderRadius:"50%",background:"white",position:"absolute",top:"2px",left:B.pricing.enableTrial?"22px":"2px",transition:"left 0.2s"}})})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"Trial Days"}),o.jsx("input",{type:"number",value:B.pricing.trialDays,onChange:Z=>q({...B,pricing:{...B.pricing,trialDays:Z.target.value}}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"Grace Period (days)"}),o.jsx("input",{type:"number",value:B.pricing.gracePeriod,onChange:Z=>q({...B,pricing:{...B.pricing,gracePeriod:Z.target.value}}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]})]})]})]}),o.jsxs("div",{style:{marginTop:"8px",paddingTop:"24px",borderTop:"1px solid #e2e8f0"},children:[o.jsx("h3",{style:{fontSize:"15px",fontWeight:700,color:"#1e293b",marginBottom:"16px"},children:"Overage Pricing"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"Per Lead (₹)"}),o.jsx("input",{type:"number",step:"0.01",value:B.pricing.overageLead,onChange:Z=>q({...B,pricing:{...B.pricing,overageLead:Z.target.value}}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"Per Message (₹)"}),o.jsx("input",{type:"number",step:"0.01",value:B.pricing.overageMessage,onChange:Z=>q({...B,pricing:{...B.pricing,overageMessage:Z.target.value}}),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:"14px"}})]})]})]})]})]}),o.jsxs("div",{style:{marginTop:"28px",display:"flex",justifyContent:"space-between",paddingTop:"24px",borderTop:"1px solid #f1f5f9"},children:[o.jsx("button",{onClick:()=>{W(!1),ie("Basic Info"),q($),G([]),Y(null)},style:{padding:"12px 24px",borderRadius:"12px",border:"1.5px solid #e2e8f0",background:"white",color:"#475569",fontWeight:700,fontSize:"14px",cursor:"pointer"},children:"Cancel"}),o.jsx("button",{onClick:async()=>{if(!B.planName||B.planName.trim()===""){alert("Plan name is required");return}await oe()},disabled:re,style:{padding:"12px 32px",borderRadius:"12px",border:"none",background:re?"#94a3b8":"#0f766e",color:"white",fontWeight:700,fontSize:"14px",cursor:re?"not-allowed":"pointer"},children:re?"Creating...":"Create Plan"})]})]})})}),k&&L.length>0&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(15, 23, 42, 0.4)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:o.jsx("div",{style:{background:"white",borderRadius:"24px",width:"800px",maxWidth:"95%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},onClick:Z=>Z.stopPropagation(),children:o.jsxs("div",{style:{padding:"32px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[o.jsxs("div",{children:[o.jsx("h2",{style:{fontSize:"24px",fontWeight:800,color:"#1e293b",margin:0},children:"Plans Created Successfully"}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginTop:"4px"},children:"Copy the coupon codes to use in organization subscriptions"})]}),o.jsx("button",{onClick:()=>{W(!1),G([]),ie("Basic Info"),q($),Y(null)},style:{padding:"8px",borderRadius:"50%",border:"none",background:"#f1f5f9",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(Nn,{size:20,color:"#64748b"})})]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:L.map((Z,ye)=>{var K,fe;return o.jsxs("div",{style:{border:"1.5px solid #e2e8f0",borderRadius:"16px",padding:"24px",background:"#fafafa"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:800,color:"#1e293b",margin:0,marginBottom:"4px"},children:Z.planName}),o.jsxs("p",{style:{fontSize:"13px",color:"#64748b",margin:0},children:["Plan ID: ",(K=Z.plan)==null?void 0:K.id]})]}),o.jsx("span",{style:{padding:"6px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:700,background:"#dcfce7",color:"#166534"},children:"Active"})]}),Z.coupon?o.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"16px",border:"1px solid #e2e8f0"},children:[o.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:700,color:"#475569",marginBottom:"8px"},children:"Coupon Code"}),o.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[o.jsx("div",{style:{flex:1,padding:"12px 16px",background:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"16px",fontWeight:700,fontFamily:"monospace",color:"#1e293b",letterSpacing:"2px"},children:((fe=Z.coupon)==null?void 0:fe.coupon_code)||"N/A"}),o.jsxs("button",{onClick:()=>{var Be;return de(((Be=Z.coupon)==null?void 0:Be.coupon_code)||"")},style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",background:"#0f766e",border:"none",borderRadius:"10px",color:"white",fontSize:"14px",fontWeight:700,cursor:"pointer"},children:[o.jsx(ph,{size:16}),"Copy"]})]}),o.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",marginTop:"8px",marginBottom:0},children:"Use this coupon code when subscribing an organization to this plan"})]}):o.jsx("div",{style:{background:"white",borderRadius:"12px",padding:"16px",border:"1px solid #e2e8f0",textAlign:"center"},children:o.jsx("p",{style:{fontSize:"14px",color:"#059669",fontWeight:600,margin:0},children:"Standard plan created and available in Subscription Plans"})})]},ye)})}),o.jsx("div",{style:{marginTop:"32px",display:"flex",justifyContent:"flex-end",paddingTop:"24px",borderTop:"1px solid #f1f5f9"},children:o.jsx("button",{onClick:()=>{W(!1),G([]),ie("Basic Info"),q($),Y(null)},style:{padding:"12px 32px",borderRadius:"12px",border:"none",background:"#0f766e",color:"white",fontWeight:700,fontSize:"14px",cursor:"pointer"},children:"Done"})})]})})})]})};function $y(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=$y(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ke(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=$y(e))&&(r&&(r+=" "),r+=t);return r}var L4=Array.isArray,Cn=L4,W4=typeof Ir=="object"&&Ir&&Ir.Object===Object&&Ir,Uy=W4,F4=Uy,$4=typeof self=="object"&&self&&self.Object===Object&&self,U4=F4||$4||Function("return this")(),Sr=U4,V4=Sr,H4=V4.Symbol,_s=H4,i0=_s,Vy=Object.prototype,G4=Vy.hasOwnProperty,X4=Vy.toString,Sa=i0?i0.toStringTag:void 0;function Y4(e){var t=G4.call(e,Sa),n=e[Sa];try{e[Sa]=void 0;var r=!0}catch{}var a=X4.call(e);return r&&(t?e[Sa]=n:delete e[Sa]),a}var q4=Y4,K4=Object.prototype,Z4=K4.toString;function Q4(e){return Z4.call(e)}var J4=Q4,o0=_s,eS=q4,tS=J4,nS="[object Null]",rS="[object Undefined]",a0=o0?o0.toStringTag:void 0;function iS(e){return e==null?e===void 0?rS:nS:a0&&a0 in Object(e)?eS(e):tS(e)}var Lr=iS;function oS(e){return e!=null&&typeof e=="object"}var Wr=oS,aS=Lr,sS=Wr,lS="[object Symbol]";function cS(e){return typeof e=="symbol"||sS(e)&&aS(e)==lS}var Jo=cS,dS=Cn,uS=Jo,fS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,hS=/^\w*$/;function pS(e,t){if(dS(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||uS(e)?!0:hS.test(e)||!fS.test(e)||t!=null&&e in Object(t)}var wh=pS;function xS(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ai=xS;const ea=dt(ai);var gS=Lr,yS=ai,mS="[object AsyncFunction]",bS="[object Function]",vS="[object GeneratorFunction]",wS="[object Proxy]";function SS(e){if(!yS(e))return!1;var t=gS(e);return t==bS||t==vS||t==mS||t==wS}var Sh=SS;const Ge=dt(Sh);var AS=Sr,CS=AS["__core-js_shared__"],jS=CS,Kd=jS,s0=function(){var e=/[^.]+$/.exec(Kd&&Kd.keys&&Kd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ES(e){return!!s0&&s0 in e}var IS=ES,OS=Function.prototype,TS=OS.toString;function _S(e){if(e!=null){try{return TS.call(e)}catch{}try{return e+""}catch{}}return""}var Hy=_S,RS=Sh,PS=IS,NS=ai,kS=Hy,MS=/[\\^$.*+?()[\]{}|]/g,DS=/^\[object .+?Constructor\]$/,BS=Function.prototype,zS=Object.prototype,LS=BS.toString,WS=zS.hasOwnProperty,FS=RegExp("^"+LS.call(WS).replace(MS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $S(e){if(!NS(e)||PS(e))return!1;var t=RS(e)?FS:DS;return t.test(kS(e))}var US=$S;function VS(e,t){return e==null?void 0:e[t]}var HS=VS,GS=US,XS=HS;function YS(e,t){var n=XS(e,t);return GS(n)?n:void 0}var Wi=YS,qS=Wi,KS=qS(Object,"create"),_c=KS,l0=_c;function ZS(){this.__data__=l0?l0(null):{},this.size=0}var QS=ZS;function JS(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var eA=JS,tA=_c,nA="__lodash_hash_undefined__",rA=Object.prototype,iA=rA.hasOwnProperty;function oA(e){var t=this.__data__;if(tA){var n=t[e];return n===nA?void 0:n}return iA.call(t,e)?t[e]:void 0}var aA=oA,sA=_c,lA=Object.prototype,cA=lA.hasOwnProperty;function dA(e){var t=this.__data__;return sA?t[e]!==void 0:cA.call(t,e)}var uA=dA,fA=_c,hA="__lodash_hash_undefined__";function pA(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=fA&&t===void 0?hA:t,this}var xA=pA,gA=QS,yA=eA,mA=aA,bA=uA,vA=xA;function ta(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ta.prototype.clear=gA;ta.prototype.delete=yA;ta.prototype.get=mA;ta.prototype.has=bA;ta.prototype.set=vA;var wA=ta;function SA(){this.__data__=[],this.size=0}var AA=SA;function CA(e,t){return e===t||e!==e&&t!==t}var Ah=CA,jA=Ah;function EA(e,t){for(var n=e.length;n--;)if(jA(e[n][0],t))return n;return-1}var Rc=EA,IA=Rc,OA=Array.prototype,TA=OA.splice;function _A(e){var t=this.__data__,n=IA(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():TA.call(t,n,1),--this.size,!0}var RA=_A,PA=Rc;function NA(e){var t=this.__data__,n=PA(t,e);return n<0?void 0:t[n][1]}var kA=NA,MA=Rc;function DA(e){return MA(this.__data__,e)>-1}var BA=DA,zA=Rc;function LA(e,t){var n=this.__data__,r=zA(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var WA=LA,FA=AA,$A=RA,UA=kA,VA=BA,HA=WA;function na(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}na.prototype.clear=FA;na.prototype.delete=$A;na.prototype.get=UA;na.prototype.has=VA;na.prototype.set=HA;var Pc=na,GA=Wi,XA=Sr,YA=GA(XA,"Map"),Ch=YA,c0=wA,qA=Pc,KA=Ch;function ZA(){this.size=0,this.__data__={hash:new c0,map:new(KA||qA),string:new c0}}var QA=ZA;function JA(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var e8=JA,t8=e8;function n8(e,t){var n=e.__data__;return t8(t)?n[typeof t=="string"?"string":"hash"]:n.map}var Nc=n8,r8=Nc;function i8(e){var t=r8(this,e).delete(e);return this.size-=t?1:0,t}var o8=i8,a8=Nc;function s8(e){return a8(this,e).get(e)}var l8=s8,c8=Nc;function d8(e){return c8(this,e).has(e)}var u8=d8,f8=Nc;function h8(e,t){var n=f8(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var p8=h8,x8=QA,g8=o8,y8=l8,m8=u8,b8=p8;function ra(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ra.prototype.clear=x8;ra.prototype.delete=g8;ra.prototype.get=y8;ra.prototype.has=m8;ra.prototype.set=b8;var jh=ra,Gy=jh,v8="Expected a function";function Eh(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(v8);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],l=n.cache;if(l.has(a))return l.get(a);var u=e.apply(this,r);return n.cache=l.set(a,u)||l,u};return n.cache=new(Eh.Cache||Gy),n}Eh.Cache=Gy;var Xy=Eh;const w8=dt(Xy);var S8=Xy,A8=500;function C8(e){var t=S8(e,function(r){return n.size===A8&&n.clear(),r}),n=t.cache;return t}var j8=C8,E8=j8,I8=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,O8=/\\(\\)?/g,T8=E8(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(I8,function(n,r,a,l){t.push(a?l.replace(O8,"$1"):r||n)}),t}),_8=T8;function R8(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var Ih=R8,d0=_s,P8=Ih,N8=Cn,k8=Jo,u0=d0?d0.prototype:void 0,f0=u0?u0.toString:void 0;function Yy(e){if(typeof e=="string")return e;if(N8(e))return P8(e,Yy)+"";if(k8(e))return f0?f0.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var M8=Yy,D8=M8;function B8(e){return e==null?"":D8(e)}var qy=B8,z8=Cn,L8=wh,W8=_8,F8=qy;function $8(e,t){return z8(e)?e:L8(e,t)?[e]:W8(F8(e))}var Ky=$8,U8=Jo;function V8(e){if(typeof e=="string"||U8(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var kc=V8,H8=Ky,G8=kc;function X8(e,t){t=H8(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[G8(t[n++])];return n&&n==r?e:void 0}var Oh=X8,Y8=Oh;function q8(e,t,n){var r=e==null?void 0:Y8(e,t);return r===void 0?n:r}var Zy=q8;const kn=dt(Zy);function K8(e){return e==null}var Z8=K8;const Ye=dt(Z8);var Q8=Lr,J8=Cn,e3=Wr,t3="[object String]";function n3(e){return typeof e=="string"||!J8(e)&&e3(e)&&Q8(e)==t3}var r3=n3;const Ni=dt(r3);var Qy={exports:{}},ut={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th=Symbol.for("react.element"),_h=Symbol.for("react.portal"),Mc=Symbol.for("react.fragment"),Dc=Symbol.for("react.strict_mode"),Bc=Symbol.for("react.profiler"),zc=Symbol.for("react.provider"),Lc=Symbol.for("react.context"),i3=Symbol.for("react.server_context"),Wc=Symbol.for("react.forward_ref"),Fc=Symbol.for("react.suspense"),$c=Symbol.for("react.suspense_list"),Uc=Symbol.for("react.memo"),Vc=Symbol.for("react.lazy"),o3=Symbol.for("react.offscreen"),Jy;Jy=Symbol.for("react.module.reference");function Xn(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Th:switch(e=e.type,e){case Mc:case Bc:case Dc:case Fc:case $c:return e;default:switch(e=e&&e.$$typeof,e){case i3:case Lc:case Wc:case Vc:case Uc:case zc:return e;default:return t}}case _h:return t}}}ut.ContextConsumer=Lc;ut.ContextProvider=zc;ut.Element=Th;ut.ForwardRef=Wc;ut.Fragment=Mc;ut.Lazy=Vc;ut.Memo=Uc;ut.Portal=_h;ut.Profiler=Bc;ut.StrictMode=Dc;ut.Suspense=Fc;ut.SuspenseList=$c;ut.isAsyncMode=function(){return!1};ut.isConcurrentMode=function(){return!1};ut.isContextConsumer=function(e){return Xn(e)===Lc};ut.isContextProvider=function(e){return Xn(e)===zc};ut.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Th};ut.isForwardRef=function(e){return Xn(e)===Wc};ut.isFragment=function(e){return Xn(e)===Mc};ut.isLazy=function(e){return Xn(e)===Vc};ut.isMemo=function(e){return Xn(e)===Uc};ut.isPortal=function(e){return Xn(e)===_h};ut.isProfiler=function(e){return Xn(e)===Bc};ut.isStrictMode=function(e){return Xn(e)===Dc};ut.isSuspense=function(e){return Xn(e)===Fc};ut.isSuspenseList=function(e){return Xn(e)===$c};ut.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Mc||e===Bc||e===Dc||e===Fc||e===$c||e===o3||typeof e=="object"&&e!==null&&(e.$$typeof===Vc||e.$$typeof===Uc||e.$$typeof===zc||e.$$typeof===Lc||e.$$typeof===Wc||e.$$typeof===Jy||e.getModuleId!==void 0)};ut.typeOf=Xn;Qy.exports=ut;var a3=Qy.exports,s3=Lr,l3=Wr,c3="[object Number]";function d3(e){return typeof e=="number"||l3(e)&&s3(e)==c3}var em=d3;const u3=dt(em);var f3=em;function h3(e){return f3(e)&&e!=+e}var p3=h3;const Rs=dt(p3);var pn=function(t){return t===0?0:t>0?1:-1},ji=function(t){return Ni(t)&&t.indexOf("%")===t.length-1},Ce=function(t){return u3(t)&&!Rs(t)},x3=function(t){return Ye(t)},Yt=function(t){return Ce(t)||Ni(t)},g3=0,ia=function(t){var n=++g3;return"".concat(t||"").concat(n)},xn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ce(t)&&!Ni(t))return r;var l;if(ji(t)){var u=t.indexOf("%");l=n*parseFloat(t.slice(0,u))/100}else l=+t;return Rs(l)&&(l=r),a&&l>n&&(l=n),l},Zr=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},y3=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},a=0;a<n;a++)if(!r[t[a]])r[t[a]]=!0;else return!0;return!1},_n=function(t,n){return Ce(t)&&Ce(n)?function(r){return t+r*(n-t)}:function(){return n}};function gl(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):kn(r,t))===n})}var m3=function(t,n){return Ce(t)&&Ce(n)?t-n:Ni(t)&&Ni(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function xo(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Mu(e){"@babel/helpers - typeof";return Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mu(e)}var b3=["viewBox","children"],v3=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],h0=["points","pathLength"],Zd={svg:b3,polygon:h0,polyline:h0},Rh=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],yl=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(X.isValidElement(t)&&(r=t.props),!ea(r))return null;var a={};return Object.keys(r).forEach(function(l){Rh.includes(l)&&(a[l]=n||function(u){return r[l](r,u)})}),a},w3=function(t,n,r){return function(a){return t(n,r,a),null}},ki=function(t,n,r){if(!ea(t)||Mu(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(l){var u=t[l];Rh.includes(l)&&typeof u=="function"&&(a||(a={}),a[l]=w3(u,n,r))}),a},S3=["children"],A3=["children"];function p0(e,t){if(e==null)return{};var n=C3(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function C3(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}var x0={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Rr=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},g0=null,Qd=null,Ph=function e(t){if(t===g0&&Array.isArray(Qd))return Qd;var n=[];return X.Children.forEach(t,function(r){Ye(r)||(a3.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),Qd=n,g0=t,n};function Mn(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(a){return Rr(a)}):r=[Rr(t)],Ph(e).forEach(function(a){var l=kn(a,"type.displayName")||kn(a,"type.name");r.indexOf(l)!==-1&&n.push(a)}),n}function Tn(e,t){var n=Mn(e,t);return n&&n[0]}var y0=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,a=n.height;return!(!Ce(r)||r<=0||!Ce(a)||a<=0)},j3=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],E3=function(t){return t&&t.type&&Ni(t.type)&&j3.indexOf(t.type)>=0},I3=function(t){return t&&Du(t)==="object"&&"clipDot"in t},O3=function(t,n,r,a){var l,u=(l=Zd==null?void 0:Zd[a])!==null&&l!==void 0?l:[];return n.startsWith("data-")||!Ge(t)&&(a&&u.includes(n)||v3.includes(n))||r&&Rh.includes(n)},$e=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(X.isValidElement(t)&&(a=t.props),!ea(a))return null;var l={};return Object.keys(a).forEach(function(u){var h;O3((h=a)===null||h===void 0?void 0:h[u],u,n,r)&&(l[u]=a[u])}),l},Bu=function e(t,n){if(t===n)return!0;var r=X.Children.count(t);if(r!==X.Children.count(n))return!1;if(r===0)return!0;if(r===1)return m0(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<r;a++){var l=t[a],u=n[a];if(Array.isArray(l)||Array.isArray(u)){if(!e(l,u))return!1}else if(!m0(l,u))return!1}return!0},m0=function(t,n){if(Ye(t)&&Ye(n))return!0;if(!Ye(t)&&!Ye(n)){var r=t.props||{},a=r.children,l=p0(r,S3),u=n.props||{},h=u.children,x=p0(u,A3);return a&&h?xo(l,x)&&Bu(a,h):!a&&!h?xo(l,x):!1}return!1},b0=function(t,n){var r=[],a={};return Ph(t).forEach(function(l,u){if(E3(l))r.push(l);else if(l){var h=Rr(l.type),x=n[h]||{},g=x.handler,b=x.once;if(g&&(!b||!a[h])){var m=g(l,h,u);r.push(m),a[h]=!0}}}),r},T3=function(t){var n=t&&t.type;return n&&x0[n]?x0[n]:null},_3=function(t,n){return Ph(n).indexOf(t)},R3=["children","width","height","viewBox","className","style","title","desc"];function zu(){return zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zu.apply(this,arguments)}function P3(e,t){if(e==null)return{};var n=N3(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function N3(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Lu(e){var t=e.children,n=e.width,r=e.height,a=e.viewBox,l=e.className,u=e.style,h=e.title,x=e.desc,g=P3(e,R3),b=a||{width:n,height:r,x:0,y:0},m=Ke("recharts-surface",l);return Q.createElement("svg",zu({},$e(g,!0,"svg"),{className:m,width:n,height:r,style:u,viewBox:"".concat(b.x," ").concat(b.y," ").concat(b.width," ").concat(b.height)}),Q.createElement("title",null,h),Q.createElement("desc",null,x),t)}var k3=["children","className"];function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wu.apply(this,arguments)}function M3(e,t){if(e==null)return{};var n=D3(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function D3(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var it=Q.forwardRef(function(e,t){var n=e.children,r=e.className,a=M3(e,k3),l=Ke("recharts-layer",r);return Q.createElement("g",Wu({className:l},$e(a,!0),{ref:t}),n)}),rr=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l]};function B3(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),n=n>a?a:n,n<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var l=Array(a);++r<a;)l[r]=e[r+t];return l}var z3=B3,L3=z3;function W3(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:L3(e,t,n)}var F3=W3,$3="\\ud800-\\udfff",U3="\\u0300-\\u036f",V3="\\ufe20-\\ufe2f",H3="\\u20d0-\\u20ff",G3=U3+V3+H3,X3="\\ufe0e\\ufe0f",Y3="\\u200d",q3=RegExp("["+Y3+$3+G3+X3+"]");function K3(e){return q3.test(e)}var tm=K3;function Z3(e){return e.split("")}var Q3=Z3,nm="\\ud800-\\udfff",J3="\\u0300-\\u036f",eC="\\ufe20-\\ufe2f",tC="\\u20d0-\\u20ff",nC=J3+eC+tC,rC="\\ufe0e\\ufe0f",iC="["+nm+"]",Fu="["+nC+"]",$u="\\ud83c[\\udffb-\\udfff]",oC="(?:"+Fu+"|"+$u+")",rm="[^"+nm+"]",im="(?:\\ud83c[\\udde6-\\uddff]){2}",om="[\\ud800-\\udbff][\\udc00-\\udfff]",aC="\\u200d",am=oC+"?",sm="["+rC+"]?",sC="(?:"+aC+"(?:"+[rm,im,om].join("|")+")"+sm+am+")*",lC=sm+am+sC,cC="(?:"+[rm+Fu+"?",Fu,im,om,iC].join("|")+")",dC=RegExp($u+"(?="+$u+")|"+cC+lC,"g");function uC(e){return e.match(dC)||[]}var fC=uC,hC=Q3,pC=tm,xC=fC;function gC(e){return pC(e)?xC(e):hC(e)}var yC=gC,mC=F3,bC=tm,vC=yC,wC=qy;function SC(e){return function(t){t=wC(t);var n=bC(t)?vC(t):void 0,r=n?n[0]:t.charAt(0),a=n?mC(n,1).join(""):t.slice(1);return r[e]()+a}}var AC=SC,CC=AC,jC=CC("toUpperCase"),EC=jC;const Hc=dt(EC);function wt(e){return function(){return e}}const lm=Math.cos,ml=Math.sin,or=Math.sqrt,bl=Math.PI,Gc=2*bl,Uu=Math.PI,Vu=2*Uu,wi=1e-6,IC=Vu-wi;function cm(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function OC(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return cm;const n=10**t;return function(r){this._+=r[0];for(let a=1,l=r.length;a<l;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class TC{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?cm:OC(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,l,u){this._append`C${+t},${+n},${+r},${+a},${this._x1=+l},${this._y1=+u}`}arcTo(t,n,r,a,l){if(t=+t,n=+n,r=+r,a=+a,l=+l,l<0)throw new Error(`negative radius: ${l}`);let u=this._x1,h=this._y1,x=r-t,g=a-n,b=u-t,m=h-n,S=b*b+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(S>wi)if(!(Math.abs(m*x-g*b)>wi)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let C=r-u,I=a-h,j=x*x+g*g,E=C*C+I*I,R=Math.sqrt(j),_=Math.sqrt(S),T=l*Math.tan((Uu-Math.acos((j+S-E)/(2*R*_)))/2),P=T/_,A=T/R;Math.abs(P-1)>wi&&this._append`L${t+P*b},${n+P*m}`,this._append`A${l},${l},0,0,${+(m*C>b*I)},${this._x1=t+A*x},${this._y1=n+A*g}`}}arc(t,n,r,a,l,u){if(t=+t,n=+n,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let h=r*Math.cos(a),x=r*Math.sin(a),g=t+h,b=n+x,m=1^u,S=u?a-l:l-a;this._x1===null?this._append`M${g},${b}`:(Math.abs(this._x1-g)>wi||Math.abs(this._y1-b)>wi)&&this._append`L${g},${b}`,r&&(S<0&&(S=S%Vu+Vu),S>IC?this._append`A${r},${r},0,1,${m},${t-h},${n-x}A${r},${r},0,1,${m},${this._x1=g},${this._y1=b}`:S>wi&&this._append`A${r},${r},0,${+(S>=Uu)},${m},${this._x1=t+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Nh(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new TC(t)}function kh(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function dm(e){this._context=e}dm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Xc(e){return new dm(e)}function um(e){return e[0]}function fm(e){return e[1]}function hm(e,t){var n=wt(!0),r=null,a=Xc,l=null,u=Nh(h);e=typeof e=="function"?e:e===void 0?um:wt(e),t=typeof t=="function"?t:t===void 0?fm:wt(t);function h(x){var g,b=(x=kh(x)).length,m,S=!1,C;for(r==null&&(l=a(C=u())),g=0;g<=b;++g)!(g<b&&n(m=x[g],g,x))===S&&((S=!S)?l.lineStart():l.lineEnd()),S&&l.point(+e(m,g,x),+t(m,g,x));if(C)return l=null,C+""||null}return h.x=function(x){return arguments.length?(e=typeof x=="function"?x:wt(+x),h):e},h.y=function(x){return arguments.length?(t=typeof x=="function"?x:wt(+x),h):t},h.defined=function(x){return arguments.length?(n=typeof x=="function"?x:wt(!!x),h):n},h.curve=function(x){return arguments.length?(a=x,r!=null&&(l=a(r)),h):a},h.context=function(x){return arguments.length?(x==null?r=l=null:l=a(r=x),h):r},h}function Ks(e,t,n){var r=null,a=wt(!0),l=null,u=Xc,h=null,x=Nh(g);e=typeof e=="function"?e:e===void 0?um:wt(+e),t=typeof t=="function"?t:wt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?fm:wt(+n);function g(m){var S,C,I,j=(m=kh(m)).length,E,R=!1,_,T=new Array(j),P=new Array(j);for(l==null&&(h=u(_=x())),S=0;S<=j;++S){if(!(S<j&&a(E=m[S],S,m))===R)if(R=!R)C=S,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),I=S-1;I>=C;--I)h.point(T[I],P[I]);h.lineEnd(),h.areaEnd()}R&&(T[S]=+e(E,S,m),P[S]=+t(E,S,m),h.point(r?+r(E,S,m):T[S],n?+n(E,S,m):P[S]))}if(_)return h=null,_+""||null}function b(){return hm().defined(a).curve(u).context(l)}return g.x=function(m){return arguments.length?(e=typeof m=="function"?m:wt(+m),r=null,g):e},g.x0=function(m){return arguments.length?(e=typeof m=="function"?m:wt(+m),g):e},g.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:wt(+m),g):r},g.y=function(m){return arguments.length?(t=typeof m=="function"?m:wt(+m),n=null,g):t},g.y0=function(m){return arguments.length?(t=typeof m=="function"?m:wt(+m),g):t},g.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:wt(+m),g):n},g.lineX0=g.lineY0=function(){return b().x(e).y(t)},g.lineY1=function(){return b().x(e).y(n)},g.lineX1=function(){return b().x(r).y(t)},g.defined=function(m){return arguments.length?(a=typeof m=="function"?m:wt(!!m),g):a},g.curve=function(m){return arguments.length?(u=m,l!=null&&(h=u(l)),g):u},g.context=function(m){return arguments.length?(m==null?l=h=null:h=u(l=m),g):l},g}class pm{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function _C(e){return new pm(e,!0)}function RC(e){return new pm(e,!1)}const Mh={draw(e,t){const n=or(t/bl);e.moveTo(n,0),e.arc(0,0,n,0,Gc)}},PC={draw(e,t){const n=or(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},xm=or(1/3),NC=xm*2,kC={draw(e,t){const n=or(t/NC),r=n*xm;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},MC={draw(e,t){const n=or(t),r=-n/2;e.rect(r,r,n,n)}},DC=.8908130915292852,gm=ml(bl/10)/ml(7*bl/10),BC=ml(Gc/10)*gm,zC=-lm(Gc/10)*gm,LC={draw(e,t){const n=or(t*DC),r=BC*n,a=zC*n;e.moveTo(0,-n),e.lineTo(r,a);for(let l=1;l<5;++l){const u=Gc*l/5,h=lm(u),x=ml(u);e.lineTo(x*n,-h*n),e.lineTo(h*r-x*a,x*r+h*a)}e.closePath()}},Jd=or(3),WC={draw(e,t){const n=-or(t/(Jd*3));e.moveTo(0,n*2),e.lineTo(-Jd*n,-n),e.lineTo(Jd*n,-n),e.closePath()}},Fn=-.5,$n=or(3)/2,Hu=1/or(12),FC=(Hu/2+1)*3,$C={draw(e,t){const n=or(t/FC),r=n/2,a=n*Hu,l=r,u=n*Hu+n,h=-l,x=u;e.moveTo(r,a),e.lineTo(l,u),e.lineTo(h,x),e.lineTo(Fn*r-$n*a,$n*r+Fn*a),e.lineTo(Fn*l-$n*u,$n*l+Fn*u),e.lineTo(Fn*h-$n*x,$n*h+Fn*x),e.lineTo(Fn*r+$n*a,Fn*a-$n*r),e.lineTo(Fn*l+$n*u,Fn*u-$n*l),e.lineTo(Fn*h+$n*x,Fn*x-$n*h),e.closePath()}};function UC(e,t){let n=null,r=Nh(a);e=typeof e=="function"?e:wt(e||Mh),t=typeof t=="function"?t:wt(t===void 0?64:+t);function a(){let l;if(n||(n=l=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),l)return n=null,l+""||null}return a.type=function(l){return arguments.length?(e=typeof l=="function"?l:wt(l),a):e},a.size=function(l){return arguments.length?(t=typeof l=="function"?l:wt(+l),a):t},a.context=function(l){return arguments.length?(n=l??null,a):n},a}function vl(){}function wl(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ym(e){this._context=e}ym.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wl(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function VC(e){return new ym(e)}function mm(e){this._context=e}mm.prototype={areaStart:vl,areaEnd:vl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function HC(e){return new mm(e)}function bm(e){this._context=e}bm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:wl(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function GC(e){return new bm(e)}function vm(e){this._context=e}vm.prototype={areaStart:vl,areaEnd:vl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function XC(e){return new vm(e)}function v0(e){return e<0?-1:1}function w0(e,t,n){var r=e._x1-e._x0,a=t-e._x1,l=(e._y1-e._y0)/(r||a<0&&-0),u=(n-e._y1)/(a||r<0&&-0),h=(l*a+u*r)/(r+a);return(v0(l)+v0(u))*Math.min(Math.abs(l),Math.abs(u),.5*Math.abs(h))||0}function S0(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function eu(e,t,n){var r=e._x0,a=e._y0,l=e._x1,u=e._y1,h=(l-r)/3;e._context.bezierCurveTo(r+h,a+h*t,l-h,u-h*n,l,u)}function Sl(e){this._context=e}Sl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:eu(this,this._t0,S0(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,eu(this,S0(this,n=w0(this,e,t)),n);break;default:eu(this,this._t0,n=w0(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function wm(e){this._context=new Sm(e)}(wm.prototype=Object.create(Sl.prototype)).point=function(e,t){Sl.prototype.point.call(this,t,e)};function Sm(e){this._context=e}Sm.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,l){this._context.bezierCurveTo(t,e,r,n,l,a)}};function YC(e){return new Sl(e)}function qC(e){return new wm(e)}function Am(e){this._context=e}Am.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=A0(e),a=A0(t),l=0,u=1;u<n;++l,++u)this._context.bezierCurveTo(r[0][l],a[0][l],r[1][l],a[1][l],e[u],t[u]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function A0(e){var t,n=e.length-1,r,a=new Array(n),l=new Array(n),u=new Array(n);for(a[0]=0,l[0]=2,u[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,l[t]=4,u[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,l[n-1]=7,u[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/l[t-1],l[t]-=r,u[t]-=r*u[t-1];for(a[n-1]=u[n-1]/l[n-1],t=n-2;t>=0;--t)a[t]=(u[t]-a[t+1])/l[t];for(l[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)l[t]=2*e[t+1]-a[t+1];return[a,l]}function KC(e){return new Am(e)}function Yc(e,t){this._context=e,this._t=t}Yc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function ZC(e){return new Yc(e,.5)}function QC(e){return new Yc(e,0)}function JC(e){return new Yc(e,1)}function jo(e,t){if((u=e.length)>1)for(var n=1,r,a,l=e[t[0]],u,h=l.length;n<u;++n)for(a=l,l=e[t[n]],r=0;r<h;++r)l[r][1]+=l[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Gu(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function ej(e,t){return e[t]}function tj(e){const t=[];return t.key=e,t}function nj(){var e=wt([]),t=Gu,n=jo,r=ej;function a(l){var u=Array.from(e.apply(this,arguments),tj),h,x=u.length,g=-1,b;for(const m of l)for(h=0,++g;h<x;++h)(u[h][g]=[0,+r(m,u[h].key,g,l)]).data=m;for(h=0,b=kh(t(u));h<x;++h)u[b[h]].index=h;return n(u,b),u}return a.keys=function(l){return arguments.length?(e=typeof l=="function"?l:wt(Array.from(l)),a):e},a.value=function(l){return arguments.length?(r=typeof l=="function"?l:wt(+l),a):r},a.order=function(l){return arguments.length?(t=l==null?Gu:typeof l=="function"?l:wt(Array.from(l)),a):t},a.offset=function(l){return arguments.length?(n=l??jo,a):n},a}function rj(e,t){if((r=e.length)>0){for(var n,r,a=0,l=e[0].length,u;a<l;++a){for(u=n=0;n<r;++n)u+=e[n][a][1]||0;if(u)for(n=0;n<r;++n)e[n][a][1]/=u}jo(e,t)}}function ij(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,l=r.length;n<l;++n){for(var u=0,h=0;u<a;++u)h+=e[u][n][1]||0;r[n][1]+=r[n][0]=-h/2}jo(e,t)}}function oj(e,t){if(!(!((u=e.length)>0)||!((l=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,l,u;r<l;++r){for(var h=0,x=0,g=0;h<u;++h){for(var b=e[t[h]],m=b[r][1]||0,S=b[r-1][1]||0,C=(m-S)/2,I=0;I<h;++I){var j=e[t[I]],E=j[r][1]||0,R=j[r-1][1]||0;C+=E-R}x+=m,g+=C*m}a[r-1][1]+=a[r-1][0]=n,x&&(n-=g/x)}a[r-1][1]+=a[r-1][0]=n,jo(e,t)}}function Xa(e){"@babel/helpers - typeof";return Xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xa(e)}var aj=["type","size","sizeType"];function Xu(){return Xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xu.apply(this,arguments)}function C0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function j0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C0(Object(n),!0).forEach(function(r){sj(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sj(e,t,n){return t=lj(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lj(e){var t=cj(e,"string");return Xa(t)=="symbol"?t:t+""}function cj(e,t){if(Xa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dj(e,t){if(e==null)return{};var n=uj(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uj(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Cm={symbolCircle:Mh,symbolCross:PC,symbolDiamond:kC,symbolSquare:MC,symbolStar:LC,symbolTriangle:WC,symbolWye:$C},fj=Math.PI/180,hj=function(t){var n="symbol".concat(Hc(t));return Cm[n]||Mh},pj=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*fj;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},xj=function(t,n){Cm["symbol".concat(Hc(t))]=n},Dh=function(t){var n=t.type,r=n===void 0?"circle":n,a=t.size,l=a===void 0?64:a,u=t.sizeType,h=u===void 0?"area":u,x=dj(t,aj),g=j0(j0({},x),{},{type:r,size:l,sizeType:h}),b=function(){var E=hj(r),R=UC().type(E).size(pj(l,h,r));return R()},m=g.className,S=g.cx,C=g.cy,I=$e(g,!0);return S===+S&&C===+C&&l===+l?Q.createElement("path",Xu({},I,{className:Ke("recharts-symbols",m),transform:"translate(".concat(S,", ").concat(C,")"),d:b()})):null};Dh.registerSymbol=xj;function Eo(e){"@babel/helpers - typeof";return Eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eo(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yu.apply(this,arguments)}function E0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E0(Object(n),!0).forEach(function(r){Ya(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Em(r.key),r)}}function bj(e,t,n){return t&&mj(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vj(e,t,n){return t=Al(t),wj(e,jm()?Reflect.construct(t,n||[],Al(e).constructor):t.apply(e,n))}function wj(e,t){if(t&&(Eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sj(e)}function Sj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jm=function(){return!!e})()}function Al(e){return Al=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Al(e)}function Aj(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qu(e,t)}function qu(e,t){return qu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},qu(e,t)}function Ya(e,t,n){return t=Em(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Em(e){var t=Cj(e,"string");return Eo(t)=="symbol"?t:t+""}function Cj(e,t){if(Eo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Eo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Un=32,Bh=function(e){function t(){return yj(this,t),vj(this,t,arguments)}return Aj(t,e),bj(t,[{key:"renderIcon",value:function(r){var a=this.props.inactiveColor,l=Un/2,u=Un/6,h=Un/3,x=r.inactive?a:r.color;if(r.type==="plainline")return Q.createElement("line",{strokeWidth:4,fill:"none",stroke:x,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:l,x2:Un,y2:l,className:"recharts-legend-icon"});if(r.type==="line")return Q.createElement("path",{strokeWidth:4,fill:"none",stroke:x,d:"M0,".concat(l,"h").concat(h,`
            A`).concat(u,",").concat(u,",0,1,1,").concat(2*h,",").concat(l,`
            H`).concat(Un,"M").concat(2*h,",").concat(l,`
            A`).concat(u,",").concat(u,",0,1,1,").concat(h,",").concat(l),className:"recharts-legend-icon"});if(r.type==="rect")return Q.createElement("path",{stroke:"none",fill:x,d:"M0,".concat(Un/8,"h").concat(Un,"v").concat(Un*3/4,"h").concat(-Un,"z"),className:"recharts-legend-icon"});if(Q.isValidElement(r.legendIcon)){var g=gj({},r);return delete g.legendIcon,Q.cloneElement(r.legendIcon,g)}return Q.createElement(Dh,{fill:x,cx:l,cy:l,size:Un,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,a=this.props,l=a.payload,u=a.iconSize,h=a.layout,x=a.formatter,g=a.inactiveColor,b={x:0,y:0,width:Un,height:Un},m={display:h==="horizontal"?"inline-block":"block",marginRight:10},S={display:"inline-block",verticalAlign:"middle",marginRight:4};return l.map(function(C,I){var j=C.formatter||x,E=Ke(Ya(Ya({"recharts-legend-item":!0},"legend-item-".concat(I),!0),"inactive",C.inactive));if(C.type==="none")return null;var R=Ge(C.value)?null:C.value;rr(!Ge(C.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=C.inactive?g:C.color;return Q.createElement("li",Yu({className:E,style:m,key:"legend-item-".concat(I)},ki(r.props,C,I)),Q.createElement(Lu,{width:u,height:u,viewBox:b,style:S},r.renderIcon(C)),Q.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},j?j(R,C,I):R))})}},{key:"render",value:function(){var r=this.props,a=r.payload,l=r.layout,u=r.align;if(!a||!a.length)return null;var h={padding:0,margin:0,textAlign:l==="horizontal"?u:"left"};return Q.createElement("ul",{className:"recharts-default-legend",style:h},this.renderItems())}}])}(X.PureComponent);Ya(Bh,"displayName","Legend");Ya(Bh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var jj=Pc;function Ej(){this.__data__=new jj,this.size=0}var Ij=Ej;function Oj(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Tj=Oj;function _j(e){return this.__data__.get(e)}var Rj=_j;function Pj(e){return this.__data__.has(e)}var Nj=Pj,kj=Pc,Mj=Ch,Dj=jh,Bj=200;function zj(e,t){var n=this.__data__;if(n instanceof kj){var r=n.__data__;if(!Mj||r.length<Bj-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Dj(r)}return n.set(e,t),this.size=n.size,this}var Lj=zj,Wj=Pc,Fj=Ij,$j=Tj,Uj=Rj,Vj=Nj,Hj=Lj;function oa(e){var t=this.__data__=new Wj(e);this.size=t.size}oa.prototype.clear=Fj;oa.prototype.delete=$j;oa.prototype.get=Uj;oa.prototype.has=Vj;oa.prototype.set=Hj;var Im=oa,Gj="__lodash_hash_undefined__";function Xj(e){return this.__data__.set(e,Gj),this}var Yj=Xj;function qj(e){return this.__data__.has(e)}var Kj=qj,Zj=jh,Qj=Yj,Jj=Kj;function Cl(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Zj;++t<n;)this.add(e[t])}Cl.prototype.add=Cl.prototype.push=Qj;Cl.prototype.has=Jj;var Om=Cl;function e6(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Tm=e6;function t6(e,t){return e.has(t)}var _m=t6,n6=Om,r6=Tm,i6=_m,o6=1,a6=2;function s6(e,t,n,r,a,l){var u=n&o6,h=e.length,x=t.length;if(h!=x&&!(u&&x>h))return!1;var g=l.get(e),b=l.get(t);if(g&&b)return g==t&&b==e;var m=-1,S=!0,C=n&a6?new n6:void 0;for(l.set(e,t),l.set(t,e);++m<h;){var I=e[m],j=t[m];if(r)var E=u?r(j,I,m,t,e,l):r(I,j,m,e,t,l);if(E!==void 0){if(E)continue;S=!1;break}if(C){if(!r6(t,function(R,_){if(!i6(C,_)&&(I===R||a(I,R,n,r,l)))return C.push(_)})){S=!1;break}}else if(!(I===j||a(I,j,n,r,l))){S=!1;break}}return l.delete(e),l.delete(t),S}var Rm=s6,l6=Sr,c6=l6.Uint8Array,d6=c6;function u6(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}var f6=u6;function h6(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var zh=h6,I0=_s,O0=d6,p6=Ah,x6=Rm,g6=f6,y6=zh,m6=1,b6=2,v6="[object Boolean]",w6="[object Date]",S6="[object Error]",A6="[object Map]",C6="[object Number]",j6="[object RegExp]",E6="[object Set]",I6="[object String]",O6="[object Symbol]",T6="[object ArrayBuffer]",_6="[object DataView]",T0=I0?I0.prototype:void 0,tu=T0?T0.valueOf:void 0;function R6(e,t,n,r,a,l,u){switch(n){case _6:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case T6:return!(e.byteLength!=t.byteLength||!l(new O0(e),new O0(t)));case v6:case w6:case C6:return p6(+e,+t);case S6:return e.name==t.name&&e.message==t.message;case j6:case I6:return e==t+"";case A6:var h=g6;case E6:var x=r&m6;if(h||(h=y6),e.size!=t.size&&!x)return!1;var g=u.get(e);if(g)return g==t;r|=b6,u.set(e,t);var b=x6(h(e),h(t),r,a,l,u);return u.delete(e),b;case O6:if(tu)return tu.call(e)==tu.call(t)}return!1}var P6=R6;function N6(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var Pm=N6,k6=Pm,M6=Cn;function D6(e,t,n){var r=t(e);return M6(e)?r:k6(r,n(e))}var B6=D6;function z6(e,t){for(var n=-1,r=e==null?0:e.length,a=0,l=[];++n<r;){var u=e[n];t(u,n,e)&&(l[a++]=u)}return l}var L6=z6;function W6(){return[]}var F6=W6,$6=L6,U6=F6,V6=Object.prototype,H6=V6.propertyIsEnumerable,_0=Object.getOwnPropertySymbols,G6=_0?function(e){return e==null?[]:(e=Object(e),$6(_0(e),function(t){return H6.call(e,t)}))}:U6,X6=G6;function Y6(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var q6=Y6,K6=Lr,Z6=Wr,Q6="[object Arguments]";function J6(e){return Z6(e)&&K6(e)==Q6}var eE=J6,R0=eE,tE=Wr,Nm=Object.prototype,nE=Nm.hasOwnProperty,rE=Nm.propertyIsEnumerable,iE=R0(function(){return arguments}())?R0:function(e){return tE(e)&&nE.call(e,"callee")&&!rE.call(e,"callee")},Lh=iE,jl={exports:{}};function oE(){return!1}var aE=oE;jl.exports;(function(e,t){var n=Sr,r=aE,a=t&&!t.nodeType&&t,l=a&&!0&&e&&!e.nodeType&&e,u=l&&l.exports===a,h=u?n.Buffer:void 0,x=h?h.isBuffer:void 0,g=x||r;e.exports=g})(jl,jl.exports);var km=jl.exports,sE=9007199254740991,lE=/^(?:0|[1-9]\d*)$/;function cE(e,t){var n=typeof e;return t=t??sE,!!t&&(n=="number"||n!="symbol"&&lE.test(e))&&e>-1&&e%1==0&&e<t}var Wh=cE,dE=9007199254740991;function uE(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=dE}var Fh=uE,fE=Lr,hE=Fh,pE=Wr,xE="[object Arguments]",gE="[object Array]",yE="[object Boolean]",mE="[object Date]",bE="[object Error]",vE="[object Function]",wE="[object Map]",SE="[object Number]",AE="[object Object]",CE="[object RegExp]",jE="[object Set]",EE="[object String]",IE="[object WeakMap]",OE="[object ArrayBuffer]",TE="[object DataView]",_E="[object Float32Array]",RE="[object Float64Array]",PE="[object Int8Array]",NE="[object Int16Array]",kE="[object Int32Array]",ME="[object Uint8Array]",DE="[object Uint8ClampedArray]",BE="[object Uint16Array]",zE="[object Uint32Array]",Et={};Et[_E]=Et[RE]=Et[PE]=Et[NE]=Et[kE]=Et[ME]=Et[DE]=Et[BE]=Et[zE]=!0;Et[xE]=Et[gE]=Et[OE]=Et[yE]=Et[TE]=Et[mE]=Et[bE]=Et[vE]=Et[wE]=Et[SE]=Et[AE]=Et[CE]=Et[jE]=Et[EE]=Et[IE]=!1;function LE(e){return pE(e)&&hE(e.length)&&!!Et[fE(e)]}var WE=LE;function FE(e){return function(t){return e(t)}}var Mm=FE,El={exports:{}};El.exports;(function(e,t){var n=Uy,r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,l=a&&a.exports===r,u=l&&n.process,h=function(){try{var x=a&&a.require&&a.require("util").types;return x||u&&u.binding&&u.binding("util")}catch{}}();e.exports=h})(El,El.exports);var $E=El.exports,UE=WE,VE=Mm,P0=$E,N0=P0&&P0.isTypedArray,HE=N0?VE(N0):UE,Dm=HE,GE=q6,XE=Lh,YE=Cn,qE=km,KE=Wh,ZE=Dm,QE=Object.prototype,JE=QE.hasOwnProperty;function eI(e,t){var n=YE(e),r=!n&&XE(e),a=!n&&!r&&qE(e),l=!n&&!r&&!a&&ZE(e),u=n||r||a||l,h=u?GE(e.length,String):[],x=h.length;for(var g in e)(t||JE.call(e,g))&&!(u&&(g=="length"||a&&(g=="offset"||g=="parent")||l&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||KE(g,x)))&&h.push(g);return h}var tI=eI,nI=Object.prototype;function rI(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||nI;return e===n}var iI=rI;function oI(e,t){return function(n){return e(t(n))}}var Bm=oI,aI=Bm,sI=aI(Object.keys,Object),lI=sI,cI=iI,dI=lI,uI=Object.prototype,fI=uI.hasOwnProperty;function hI(e){if(!cI(e))return dI(e);var t=[];for(var n in Object(e))fI.call(e,n)&&n!="constructor"&&t.push(n);return t}var pI=hI,xI=Sh,gI=Fh;function yI(e){return e!=null&&gI(e.length)&&!xI(e)}var Ps=yI,mI=tI,bI=pI,vI=Ps;function wI(e){return vI(e)?mI(e):bI(e)}var qc=wI,SI=B6,AI=X6,CI=qc;function jI(e){return SI(e,CI,AI)}var EI=jI,k0=EI,II=1,OI=Object.prototype,TI=OI.hasOwnProperty;function _I(e,t,n,r,a,l){var u=n&II,h=k0(e),x=h.length,g=k0(t),b=g.length;if(x!=b&&!u)return!1;for(var m=x;m--;){var S=h[m];if(!(u?S in t:TI.call(t,S)))return!1}var C=l.get(e),I=l.get(t);if(C&&I)return C==t&&I==e;var j=!0;l.set(e,t),l.set(t,e);for(var E=u;++m<x;){S=h[m];var R=e[S],_=t[S];if(r)var T=u?r(_,R,S,t,e,l):r(R,_,S,e,t,l);if(!(T===void 0?R===_||a(R,_,n,r,l):T)){j=!1;break}E||(E=S=="constructor")}if(j&&!E){var P=e.constructor,A=t.constructor;P!=A&&"constructor"in e&&"constructor"in t&&!(typeof P=="function"&&P instanceof P&&typeof A=="function"&&A instanceof A)&&(j=!1)}return l.delete(e),l.delete(t),j}var RI=_I,PI=Wi,NI=Sr,kI=PI(NI,"DataView"),MI=kI,DI=Wi,BI=Sr,zI=DI(BI,"Promise"),LI=zI,WI=Wi,FI=Sr,$I=WI(FI,"Set"),zm=$I,UI=Wi,VI=Sr,HI=UI(VI,"WeakMap"),GI=HI,Ku=MI,Zu=Ch,Qu=LI,Ju=zm,ef=GI,Lm=Lr,aa=Hy,M0="[object Map]",XI="[object Object]",D0="[object Promise]",B0="[object Set]",z0="[object WeakMap]",L0="[object DataView]",YI=aa(Ku),qI=aa(Zu),KI=aa(Qu),ZI=aa(Ju),QI=aa(ef),Si=Lm;(Ku&&Si(new Ku(new ArrayBuffer(1)))!=L0||Zu&&Si(new Zu)!=M0||Qu&&Si(Qu.resolve())!=D0||Ju&&Si(new Ju)!=B0||ef&&Si(new ef)!=z0)&&(Si=function(e){var t=Lm(e),n=t==XI?e.constructor:void 0,r=n?aa(n):"";if(r)switch(r){case YI:return L0;case qI:return M0;case KI:return D0;case ZI:return B0;case QI:return z0}return t});var JI=Si,nu=Im,eO=Rm,tO=P6,nO=RI,W0=JI,F0=Cn,$0=km,rO=Dm,iO=1,U0="[object Arguments]",V0="[object Array]",Zs="[object Object]",oO=Object.prototype,H0=oO.hasOwnProperty;function aO(e,t,n,r,a,l){var u=F0(e),h=F0(t),x=u?V0:W0(e),g=h?V0:W0(t);x=x==U0?Zs:x,g=g==U0?Zs:g;var b=x==Zs,m=g==Zs,S=x==g;if(S&&$0(e)){if(!$0(t))return!1;u=!0,b=!1}if(S&&!b)return l||(l=new nu),u||rO(e)?eO(e,t,n,r,a,l):tO(e,t,x,n,r,a,l);if(!(n&iO)){var C=b&&H0.call(e,"__wrapped__"),I=m&&H0.call(t,"__wrapped__");if(C||I){var j=C?e.value():e,E=I?t.value():t;return l||(l=new nu),a(j,E,n,r,l)}}return S?(l||(l=new nu),nO(e,t,n,r,a,l)):!1}var sO=aO,lO=sO,G0=Wr;function Wm(e,t,n,r,a){return e===t?!0:e==null||t==null||!G0(e)&&!G0(t)?e!==e&&t!==t:lO(e,t,n,r,Wm,a)}var $h=Wm,cO=Im,dO=$h,uO=1,fO=2;function hO(e,t,n,r){var a=n.length,l=a,u=!r;if(e==null)return!l;for(e=Object(e);a--;){var h=n[a];if(u&&h[2]?h[1]!==e[h[0]]:!(h[0]in e))return!1}for(;++a<l;){h=n[a];var x=h[0],g=e[x],b=h[1];if(u&&h[2]){if(g===void 0&&!(x in e))return!1}else{var m=new cO;if(r)var S=r(g,b,x,e,t,m);if(!(S===void 0?dO(b,g,uO|fO,r,m):S))return!1}}return!0}var pO=hO,xO=ai;function gO(e){return e===e&&!xO(e)}var Fm=gO,yO=Fm,mO=qc;function bO(e){for(var t=mO(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,yO(a)]}return t}var vO=bO;function wO(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var $m=wO,SO=pO,AO=vO,CO=$m;function jO(e){var t=AO(e);return t.length==1&&t[0][2]?CO(t[0][0],t[0][1]):function(n){return n===e||SO(n,e,t)}}var EO=jO;function IO(e,t){return e!=null&&t in Object(e)}var OO=IO,TO=Ky,_O=Lh,RO=Cn,PO=Wh,NO=Fh,kO=kc;function MO(e,t,n){t=TO(t,e);for(var r=-1,a=t.length,l=!1;++r<a;){var u=kO(t[r]);if(!(l=e!=null&&n(e,u)))break;e=e[u]}return l||++r!=a?l:(a=e==null?0:e.length,!!a&&NO(a)&&PO(u,a)&&(RO(e)||_O(e)))}var DO=MO,BO=OO,zO=DO;function LO(e,t){return e!=null&&zO(e,t,BO)}var WO=LO,FO=$h,$O=Zy,UO=WO,VO=wh,HO=Fm,GO=$m,XO=kc,YO=1,qO=2;function KO(e,t){return VO(e)&&HO(t)?GO(XO(e),t):function(n){var r=$O(n,e);return r===void 0&&r===t?UO(n,e):FO(t,r,YO|qO)}}var ZO=KO;function QO(e){return e}var sa=QO;function JO(e){return function(t){return t==null?void 0:t[e]}}var eT=JO,tT=Oh;function nT(e){return function(t){return tT(t,e)}}var rT=nT,iT=eT,oT=rT,aT=wh,sT=kc;function lT(e){return aT(e)?iT(sT(e)):oT(e)}var cT=lT,dT=EO,uT=ZO,fT=sa,hT=Cn,pT=cT;function xT(e){return typeof e=="function"?e:e==null?fT:typeof e=="object"?hT(e)?uT(e[0],e[1]):dT(e):pT(e)}var Ar=xT;function gT(e,t,n,r){for(var a=e.length,l=n+(r?1:-1);r?l--:++l<a;)if(t(e[l],l,e))return l;return-1}var Um=gT;function yT(e){return e!==e}var mT=yT;function bT(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}var vT=bT,wT=Um,ST=mT,AT=vT;function CT(e,t,n){return t===t?AT(e,t,n):wT(e,ST,n)}var jT=CT,ET=jT;function IT(e,t){var n=e==null?0:e.length;return!!n&&ET(e,t,0)>-1}var OT=IT;function TT(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}var _T=TT;function RT(){}var PT=RT,ru=zm,NT=PT,kT=zh,MT=1/0,DT=ru&&1/kT(new ru([,-0]))[1]==MT?function(e){return new ru(e)}:NT,BT=DT,zT=Om,LT=OT,WT=_T,FT=_m,$T=BT,UT=zh,VT=200;function HT(e,t,n){var r=-1,a=LT,l=e.length,u=!0,h=[],x=h;if(n)u=!1,a=WT;else if(l>=VT){var g=t?null:$T(e);if(g)return UT(g);u=!1,a=FT,x=new zT}else x=t?[]:h;e:for(;++r<l;){var b=e[r],m=t?t(b):b;if(b=n||b!==0?b:0,u&&m===m){for(var S=x.length;S--;)if(x[S]===m)continue e;t&&x.push(m),h.push(b)}else a(x,m,n)||(x!==h&&x.push(m),h.push(b))}return h}var GT=HT,XT=Ar,YT=GT;function qT(e,t){return e&&e.length?YT(e,XT(t)):[]}var KT=qT;const X0=dt(KT);function Vm(e,t,n){return t===!0?X0(e,n):Ge(t)?X0(e,t):e}function Io(e){"@babel/helpers - typeof";return Io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Io(e)}var ZT=["ref"];function Y0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y0(Object(n),!0).forEach(function(r){Kc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y0(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gm(r.key),r)}}function JT(e,t,n){return t&&q0(e.prototype,t),n&&q0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function e5(e,t,n){return t=Il(t),t5(e,Hm()?Reflect.construct(t,n||[],Il(e).constructor):t.apply(e,n))}function t5(e,t){if(t&&(Io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n5(e)}function n5(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hm=function(){return!!e})()}function Il(e){return Il=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Il(e)}function r5(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tf(e,t)}function tf(e,t){return tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},tf(e,t)}function Kc(e,t,n){return t=Gm(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gm(e){var t=i5(e,"string");return Io(t)=="symbol"?t:t+""}function i5(e,t){if(Io(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Io(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function o5(e,t){if(e==null)return{};var n=a5(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function a5(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function s5(e){return e.value}function l5(e,t){if(Q.isValidElement(e))return Q.cloneElement(e,t);if(typeof e=="function")return Q.createElement(e,t);t.ref;var n=o5(t,ZT);return Q.createElement(Bh,n)}var K0=1,ei=function(e){function t(){var n;QT(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return n=e5(this,t,[].concat(a)),Kc(n,"lastBoundingBox",{width:-1,height:-1}),n}return r5(t,e),JT(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>K0||Math.abs(a.height-this.lastBoundingBox.height)>K0)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,r&&r(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Cr({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var a=this.props,l=a.layout,u=a.align,h=a.verticalAlign,x=a.margin,g=a.chartWidth,b=a.chartHeight,m,S;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(u==="center"&&l==="vertical"){var C=this.getBBoxSnapshot();m={left:((g||0)-C.width)/2}}else m=u==="right"?{right:x&&x.right||0}:{left:x&&x.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(h==="middle"){var I=this.getBBoxSnapshot();S={top:((b||0)-I.height)/2}}else S=h==="bottom"?{bottom:x&&x.bottom||0}:{top:x&&x.top||0};return Cr(Cr({},m),S)}},{key:"render",value:function(){var r=this,a=this.props,l=a.content,u=a.width,h=a.height,x=a.wrapperStyle,g=a.payloadUniqBy,b=a.payload,m=Cr(Cr({position:"absolute",width:u||"auto",height:h||"auto"},this.getDefaultPosition(x)),x);return Q.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(C){r.wrapperNode=C}},l5(l,Cr(Cr({},this.props),{},{payload:Vm(b,g,s5)})))}}],[{key:"getWithHeight",value:function(r,a){var l=Cr(Cr({},this.defaultProps),r.props),u=l.layout;return u==="vertical"&&Ce(r.props.height)?{height:r.props.height}:u==="horizontal"?{width:r.props.width||a}:null}}])}(X.PureComponent);Kc(ei,"displayName","Legend");Kc(ei,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Z0=_s,c5=Lh,d5=Cn,Q0=Z0?Z0.isConcatSpreadable:void 0;function u5(e){return d5(e)||c5(e)||!!(Q0&&e&&e[Q0])}var f5=u5,h5=Pm,p5=f5;function Xm(e,t,n,r,a){var l=-1,u=e.length;for(n||(n=p5),a||(a=[]);++l<u;){var h=e[l];t>0&&n(h)?t>1?Xm(h,t-1,n,r,a):h5(a,h):r||(a[a.length]=h)}return a}var Ym=Xm;function x5(e){return function(t,n,r){for(var a=-1,l=Object(t),u=r(t),h=u.length;h--;){var x=u[e?h:++a];if(n(l[x],x,l)===!1)break}return t}}var g5=x5,y5=g5,m5=y5(),b5=m5,v5=b5,w5=qc;function S5(e,t){return e&&v5(e,t,w5)}var qm=S5,A5=Ps;function C5(e,t){return function(n,r){if(n==null)return n;if(!A5(n))return e(n,r);for(var a=n.length,l=t?a:-1,u=Object(n);(t?l--:++l<a)&&r(u[l],l,u)!==!1;);return n}}var j5=C5,E5=qm,I5=j5,O5=I5(E5),Uh=O5,T5=Uh,_5=Ps;function R5(e,t){var n=-1,r=_5(e)?Array(e.length):[];return T5(e,function(a,l,u){r[++n]=t(a,l,u)}),r}var Km=R5;function P5(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var N5=P5,J0=Jo;function k5(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,l=J0(e),u=t!==void 0,h=t===null,x=t===t,g=J0(t);if(!h&&!g&&!l&&e>t||l&&u&&x&&!h&&!g||r&&u&&x||!n&&x||!a)return 1;if(!r&&!l&&!g&&e<t||g&&n&&a&&!r&&!l||h&&n&&a||!u&&a||!x)return-1}return 0}var M5=k5,D5=M5;function B5(e,t,n){for(var r=-1,a=e.criteria,l=t.criteria,u=a.length,h=n.length;++r<u;){var x=D5(a[r],l[r]);if(x){if(r>=h)return x;var g=n[r];return x*(g=="desc"?-1:1)}}return e.index-t.index}var z5=B5,iu=Ih,L5=Oh,W5=Ar,F5=Km,$5=N5,U5=Mm,V5=z5,H5=sa,G5=Cn;function X5(e,t,n){t.length?t=iu(t,function(l){return G5(l)?function(u){return L5(u,l.length===1?l[0]:l)}:l}):t=[H5];var r=-1;t=iu(t,U5(W5));var a=F5(e,function(l,u,h){var x=iu(t,function(g){return g(l)});return{criteria:x,index:++r,value:l}});return $5(a,function(l,u){return V5(l,u,n)})}var Y5=X5;function q5(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var K5=q5,Z5=K5,e1=Math.max;function Q5(e,t,n){return t=e1(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,l=e1(r.length-t,0),u=Array(l);++a<l;)u[a]=r[t+a];a=-1;for(var h=Array(t+1);++a<t;)h[a]=r[a];return h[t]=n(u),Z5(e,this,h)}}var J5=Q5;function e_(e){return function(){return e}}var t_=e_,n_=Wi,r_=function(){try{var e=n_(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Zm=r_,i_=t_,t1=Zm,o_=sa,a_=t1?function(e,t){return t1(e,"toString",{configurable:!0,enumerable:!1,value:i_(t),writable:!0})}:o_,s_=a_,l_=800,c_=16,d_=Date.now;function u_(e){var t=0,n=0;return function(){var r=d_(),a=c_-(r-n);if(n=r,a>0){if(++t>=l_)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var f_=u_,h_=s_,p_=f_,x_=p_(h_),g_=x_,y_=sa,m_=J5,b_=g_;function v_(e,t){return b_(m_(e,t,y_),e+"")}var w_=v_,S_=Ah,A_=Ps,C_=Wh,j_=ai;function E_(e,t,n){if(!j_(n))return!1;var r=typeof t;return(r=="number"?A_(n)&&C_(t,n.length):r=="string"&&t in n)?S_(n[t],e):!1}var Zc=E_,I_=Ym,O_=Y5,T_=w_,n1=Zc,__=T_(function(e,t){if(e==null)return[];var n=t.length;return n>1&&n1(e,t[0],t[1])?t=[]:n>2&&n1(t[0],t[1],t[2])&&(t=[t[0]]),O_(e,I_(t,1),[])}),R_=__;const Vh=dt(R_);function qa(e){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nf.apply(this,arguments)}function P_(e,t){return D_(e)||M_(e,t)||k_(e,t)||N_()}function N_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k_(e,t){if(e){if(typeof e=="string")return r1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r1(e,t)}}function r1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M_(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,l,u,h=[],x=!0,g=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(x=(r=l.call(n)).done)&&(h.push(r.value),h.length!==t);x=!0);}catch(b){g=!0,a=b}finally{try{if(!x&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(g)throw a}}return h}}function D_(e){if(Array.isArray(e))return e}function i1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ou(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i1(Object(n),!0).forEach(function(r){B_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B_(e,t,n){return t=z_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function z_(e){var t=L_(e,"string");return qa(t)=="symbol"?t:t+""}function L_(e,t){if(qa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W_(e){return Array.isArray(e)&&Yt(e[0])&&Yt(e[1])?e.join(" ~ "):e}var F_=function(t){var n=t.separator,r=n===void 0?" : ":n,a=t.contentStyle,l=a===void 0?{}:a,u=t.itemStyle,h=u===void 0?{}:u,x=t.labelStyle,g=x===void 0?{}:x,b=t.payload,m=t.formatter,S=t.itemSorter,C=t.wrapperClassName,I=t.labelClassName,j=t.label,E=t.labelFormatter,R=t.accessibilityLayer,_=R===void 0?!1:R,T=function(){if(b&&b.length){var Y={padding:0,margin:0},re=(S?Vh(b,S):b).map(function(ae,L){if(ae.type==="none")return null;var G=ou({display:"block",paddingTop:4,paddingBottom:4,color:ae.color||"#000"},h),ee=ae.formatter||m||W_,ue=ae.value,$=ae.name,B=ue,q=$;if(ee&&B!=null&&q!=null){var oe=ee(ue,$,ae,L,b);if(Array.isArray(oe)){var de=P_(oe,2);B=de[0],q=de[1]}else B=oe}return Q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:G},Yt(q)?Q.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Yt(q)?Q.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Q.createElement("span",{className:"recharts-tooltip-item-value"},B),Q.createElement("span",{className:"recharts-tooltip-item-unit"},ae.unit||""))});return Q.createElement("ul",{className:"recharts-tooltip-item-list",style:Y},re)}return null},P=ou({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},l),A=ou({margin:0},g),N=!Ye(j),k=N?j:"",W=Ke("recharts-default-tooltip",C),F=Ke("recharts-tooltip-label",I);N&&E&&b!==void 0&&b!==null&&(k=E(j,b));var ie=_?{role:"status","aria-live":"assertive"}:{};return Q.createElement("div",nf({className:W,style:P},ie),Q.createElement("p",{className:F,style:A},Q.isValidElement(k)?k:"".concat(k)),T())};function Ka(e){"@babel/helpers - typeof";return Ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(e)}function Qs(e,t,n){return t=$_(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $_(e){var t=U_(e,"string");return Ka(t)=="symbol"?t:t+""}function U_(e,t){if(Ka(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ka(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aa="recharts-tooltip-wrapper",V_={visibility:"hidden"};function H_(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Ke(Aa,Qs(Qs(Qs(Qs({},"".concat(Aa,"-right"),Ce(n)&&t&&Ce(t.x)&&n>=t.x),"".concat(Aa,"-left"),Ce(n)&&t&&Ce(t.x)&&n<t.x),"".concat(Aa,"-bottom"),Ce(r)&&t&&Ce(t.y)&&r>=t.y),"".concat(Aa,"-top"),Ce(r)&&t&&Ce(t.y)&&r<t.y))}function o1(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,a=e.offsetTopLeft,l=e.position,u=e.reverseDirection,h=e.tooltipDimension,x=e.viewBox,g=e.viewBoxDimension;if(l&&Ce(l[r]))return l[r];var b=n[r]-h-a,m=n[r]+a;if(t[r])return u[r]?b:m;if(u[r]){var S=b,C=x[r];return S<C?Math.max(m,x[r]):Math.max(b,x[r])}var I=m+h,j=x[r]+g;return I>j?Math.max(b,x[r]):Math.max(m,x[r])}function G_(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function X_(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,a=e.position,l=e.reverseDirection,u=e.tooltipBox,h=e.useTranslate3d,x=e.viewBox,g,b,m;return u.height>0&&u.width>0&&n?(b=o1({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:l,tooltipDimension:u.width,viewBox:x,viewBoxDimension:x.width}),m=o1({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:l,tooltipDimension:u.height,viewBox:x,viewBoxDimension:x.height}),g=G_({translateX:b,translateY:m,useTranslate3d:h})):g=V_,{cssProperties:g,cssClasses:H_({translateX:b,translateY:m,coordinate:n})}}function Oo(e){"@babel/helpers - typeof";return Oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oo(e)}function a1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function s1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?a1(Object(n),!0).forEach(function(r){of(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Y_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jm(r.key),r)}}function K_(e,t,n){return t&&q_(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z_(e,t,n){return t=Ol(t),Q_(e,Qm()?Reflect.construct(t,n||[],Ol(e).constructor):t.apply(e,n))}function Q_(e,t){if(t&&(Oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J_(e)}function J_(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qm=function(){return!!e})()}function Ol(e){return Ol=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ol(e)}function eR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rf(e,t)}function rf(e,t){return rf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},rf(e,t)}function of(e,t,n){return t=Jm(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jm(e){var t=tR(e,"string");return Oo(t)=="symbol"?t:t+""}function tR(e,t){if(Oo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Oo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var l1=1,nR=function(e){function t(){var n;Y_(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return n=Z_(this,t,[].concat(a)),of(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),of(n,"handleKeyDown",function(u){if(u.key==="Escape"){var h,x,g,b;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(h=(x=n.props.coordinate)===null||x===void 0?void 0:x.x)!==null&&h!==void 0?h:0,y:(g=(b=n.props.coordinate)===null||b===void 0?void 0:b.y)!==null&&g!==void 0?g:0}})}}),n}return eR(t,e),K_(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>l1||Math.abs(r.height-this.state.lastBoundingBox.height)>l1)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,a=this.props,l=a.active,u=a.allowEscapeViewBox,h=a.animationDuration,x=a.animationEasing,g=a.children,b=a.coordinate,m=a.hasPayload,S=a.isAnimationActive,C=a.offset,I=a.position,j=a.reverseDirection,E=a.useTranslate3d,R=a.viewBox,_=a.wrapperStyle,T=X_({allowEscapeViewBox:u,coordinate:b,offsetTopLeft:C,position:I,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:E,viewBox:R}),P=T.cssClasses,A=T.cssProperties,N=s1(s1({transition:S&&l?"transform ".concat(h,"ms ").concat(x):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&l&&m?"visible":"hidden",position:"absolute",top:0,left:0},_);return Q.createElement("div",{tabIndex:-1,className:P,style:N,ref:function(W){r.wrapperNode=W}},g)}}])}(X.PureComponent),rR=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fi={isSsr:rR()};function To(e){"@babel/helpers - typeof";return To=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(e)}function c1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function d1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c1(Object(n),!0).forEach(function(r){Hh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tb(r.key),r)}}function aR(e,t,n){return t&&oR(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sR(e,t,n){return t=Tl(t),lR(e,eb()?Reflect.construct(t,n||[],Tl(e).constructor):t.apply(e,n))}function lR(e,t){if(t&&(To(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cR(e)}function cR(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eb=function(){return!!e})()}function Tl(e){return Tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tl(e)}function dR(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&af(e,t)}function af(e,t){return af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},af(e,t)}function Hh(e,t,n){return t=tb(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tb(e){var t=uR(e,"string");return To(t)=="symbol"?t:t+""}function uR(e,t){if(To(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(To(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function fR(e){return e.dataKey}function hR(e,t){return Q.isValidElement(e)?Q.cloneElement(e,t):typeof e=="function"?Q.createElement(e,t):Q.createElement(F_,t)}var Sn=function(e){function t(){return iR(this,t),sR(this,t,arguments)}return dR(t,e),aR(t,[{key:"render",value:function(){var r=this,a=this.props,l=a.active,u=a.allowEscapeViewBox,h=a.animationDuration,x=a.animationEasing,g=a.content,b=a.coordinate,m=a.filterNull,S=a.isAnimationActive,C=a.offset,I=a.payload,j=a.payloadUniqBy,E=a.position,R=a.reverseDirection,_=a.useTranslate3d,T=a.viewBox,P=a.wrapperStyle,A=I??[];m&&A.length&&(A=Vm(I.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),j,fR));var N=A.length>0;return Q.createElement(nR,{allowEscapeViewBox:u,animationDuration:h,animationEasing:x,isAnimationActive:S,active:l,coordinate:b,hasPayload:N,offset:C,position:E,reverseDirection:R,useTranslate3d:_,viewBox:T,wrapperStyle:P},hR(g,d1(d1({},this.props),{},{payload:A})))}}])}(X.PureComponent);Hh(Sn,"displayName","Tooltip");Hh(Sn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var pR=Sr,xR=function(){return pR.Date.now()},gR=xR,yR=/\s/;function mR(e){for(var t=e.length;t--&&yR.test(e.charAt(t)););return t}var bR=mR,vR=bR,wR=/^\s+/;function SR(e){return e&&e.slice(0,vR(e)+1).replace(wR,"")}var AR=SR,CR=AR,u1=ai,jR=Jo,f1=NaN,ER=/^[-+]0x[0-9a-f]+$/i,IR=/^0b[01]+$/i,OR=/^0o[0-7]+$/i,TR=parseInt;function _R(e){if(typeof e=="number")return e;if(jR(e))return f1;if(u1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=u1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=CR(e);var n=IR.test(e);return n||OR.test(e)?TR(e.slice(2),n?2:8):ER.test(e)?f1:+e}var nb=_R,RR=ai,au=gR,h1=nb,PR="Expected a function",NR=Math.max,kR=Math.min;function MR(e,t,n){var r,a,l,u,h,x,g=0,b=!1,m=!1,S=!0;if(typeof e!="function")throw new TypeError(PR);t=h1(t)||0,RR(n)&&(b=!!n.leading,m="maxWait"in n,l=m?NR(h1(n.maxWait)||0,t):l,S="trailing"in n?!!n.trailing:S);function C(N){var k=r,W=a;return r=a=void 0,g=N,u=e.apply(W,k),u}function I(N){return g=N,h=setTimeout(R,t),b?C(N):u}function j(N){var k=N-x,W=N-g,F=t-k;return m?kR(F,l-W):F}function E(N){var k=N-x,W=N-g;return x===void 0||k>=t||k<0||m&&W>=l}function R(){var N=au();if(E(N))return _(N);h=setTimeout(R,j(N))}function _(N){return h=void 0,S&&r?C(N):(r=a=void 0,u)}function T(){h!==void 0&&clearTimeout(h),g=0,r=x=a=h=void 0}function P(){return h===void 0?u:_(au())}function A(){var N=au(),k=E(N);if(r=arguments,a=this,x=N,k){if(h===void 0)return I(x);if(m)return clearTimeout(h),h=setTimeout(R,t),C(x)}return h===void 0&&(h=setTimeout(R,t)),u}return A.cancel=T,A.flush=P,A}var DR=MR,BR=DR,zR=ai,LR="Expected a function";function WR(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(LR);return zR(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),BR(e,t,{leading:r,maxWait:t,trailing:a})}var FR=WR;const rb=dt(FR);function Za(e){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Za(e)}function p1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Js(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p1(Object(n),!0).forEach(function(r){$R(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $R(e,t,n){return t=UR(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UR(e){var t=VR(e,"string");return Za(t)=="symbol"?t:t+""}function VR(e,t){if(Za(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Za(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HR(e,t){return qR(e)||YR(e,t)||XR(e,t)||GR()}function GR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XR(e,t){if(e){if(typeof e=="string")return x1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x1(e,t)}}function x1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function YR(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,l,u,h=[],x=!0,g=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(x=(r=l.call(n)).done)&&(h.push(r.value),h.length!==t);x=!0);}catch(b){g=!0,a=b}finally{try{if(!x&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(g)throw a}}return h}}function qR(e){if(Array.isArray(e))return e}var Da=X.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,a=r===void 0?{width:-1,height:-1}:r,l=e.width,u=l===void 0?"100%":l,h=e.height,x=h===void 0?"100%":h,g=e.minWidth,b=g===void 0?0:g,m=e.minHeight,S=e.maxHeight,C=e.children,I=e.debounce,j=I===void 0?0:I,E=e.id,R=e.className,_=e.onResize,T=e.style,P=T===void 0?{}:T,A=X.useRef(null),N=X.useRef();N.current=_,X.useImperativeHandle(t,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var k=X.useState({containerWidth:a.width,containerHeight:a.height}),W=HR(k,2),F=W[0],ie=W[1],H=X.useCallback(function(re,ae){ie(function(L){var G=Math.round(re),ee=Math.round(ae);return L.containerWidth===G&&L.containerHeight===ee?L:{containerWidth:G,containerHeight:ee}})},[]);X.useEffect(function(){var re=function($){var B,q=$[0].contentRect,oe=q.width,de=q.height;H(oe,de),(B=N.current)===null||B===void 0||B.call(N,oe,de)};j>0&&(re=rb(re,j,{trailing:!0,leading:!1}));var ae=new ResizeObserver(re),L=A.current.getBoundingClientRect(),G=L.width,ee=L.height;return H(G,ee),ae.observe(A.current),function(){ae.disconnect()}},[H,j]);var Y=X.useMemo(function(){var re=F.containerWidth,ae=F.containerHeight;if(re<0||ae<0)return null;rr(ji(u)||ji(x),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,u,x),rr(!n||n>0,"The aspect(%s) must be greater than zero.",n);var L=ji(u)?re:u,G=ji(x)?ae:x;n&&n>0&&(L?G=L/n:G&&(L=G*n),S&&G>S&&(G=S)),rr(L>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,G,u,x,b,m,n);var ee=!Array.isArray(C)&&Rr(C.type).endsWith("Chart");return Q.Children.map(C,function(ue){return Q.isValidElement(ue)?X.cloneElement(ue,Js({width:L,height:G},ee?{style:Js({height:"100%",width:"100%",maxHeight:G,maxWidth:L},ue.props.style)}:{})):ue})},[n,C,x,S,m,b,F,u]);return Q.createElement("div",{id:E?"".concat(E):void 0,className:Ke("recharts-responsive-container",R),style:Js(Js({},P),{},{width:u,height:x,minWidth:b,minHeight:m,maxHeight:S}),ref:A},Y)}),Qc=function(t){return null};Qc.displayName="Cell";function Qa(e){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(e)}function g1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function sf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g1(Object(n),!0).forEach(function(r){KR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g1(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KR(e,t,n){return t=ZR(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZR(e){var t=QR(e,"string");return Qa(t)=="symbol"?t:t+""}function QR(e,t){if(Qa(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eo={widthCache:{},cacheCount:0},JR=2e3,eP={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},y1="recharts_measurement_span";function tP(e){var t=sf({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Ba=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Fi.isSsr)return{width:0,height:0};var r=tP(n),a=JSON.stringify({text:t,copyStyle:r});if(eo.widthCache[a])return eo.widthCache[a];try{var l=document.getElementById(y1);l||(l=document.createElement("span"),l.setAttribute("id",y1),l.setAttribute("aria-hidden","true"),document.body.appendChild(l));var u=sf(sf({},eP),r);Object.assign(l.style,u),l.textContent="".concat(t);var h=l.getBoundingClientRect(),x={width:h.width,height:h.height};return eo.widthCache[a]=x,++eo.cacheCount>JR&&(eo.cacheCount=0,eo.widthCache={}),x}catch{return{width:0,height:0}}},nP=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Ja(e){"@babel/helpers - typeof";return Ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(e)}function _l(e,t){return aP(e)||oP(e,t)||iP(e,t)||rP()}function rP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iP(e,t){if(e){if(typeof e=="string")return m1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m1(e,t)}}function m1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oP(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,l,u,h=[],x=!0,g=!1;try{if(l=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;x=!1}else for(;!(x=(r=l.call(n)).done)&&(h.push(r.value),h.length!==t);x=!0);}catch(b){g=!0,a=b}finally{try{if(!x&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(g)throw a}}return h}}function aP(e){if(Array.isArray(e))return e}function sP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b1(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cP(r.key),r)}}function lP(e,t,n){return t&&b1(e.prototype,t),n&&b1(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cP(e){var t=dP(e,"string");return Ja(t)=="symbol"?t:t+""}function dP(e,t){if(Ja(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ja(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var v1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,w1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uP=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fP=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ib={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hP=Object.keys(ib),io="NaN";function pP(e,t){return e*ib[t]}var el=function(){function e(t,n){sP(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!uP.test(n)&&(this.num=NaN,this.unit=""),hP.includes(n)&&(this.num=pP(t,n),this.unit="px")}return lP(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,a=(r=fP.exec(n))!==null&&r!==void 0?r:[],l=_l(a,3),u=l[1],h=l[2];return new e(parseFloat(u),h??"")}}])}();function ob(e){if(e.includes(io))return io;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=v1.exec(t))!==null&&n!==void 0?n:[],a=_l(r,4),l=a[1],u=a[2],h=a[3],x=el.parse(l??""),g=el.parse(h??""),b=u==="*"?x.multiply(g):x.divide(g);if(b.isNaN())return io;t=t.replace(v1,b.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,S=(m=w1.exec(t))!==null&&m!==void 0?m:[],C=_l(S,4),I=C[1],j=C[2],E=C[3],R=el.parse(I??""),_=el.parse(E??""),T=j==="+"?R.add(_):R.subtract(_);if(T.isNaN())return io;t=t.replace(w1,T.toString())}return t}var S1=/\(([^()]*)\)/;function xP(e){for(var t=e;t.includes("(");){var n=S1.exec(t),r=_l(n,2),a=r[1];t=t.replace(S1,ob(a))}return t}function gP(e){var t=e.replace(/\s+/g,"");return t=xP(t),t=ob(t),t}function yP(e){try{return gP(e)}catch{return io}}function su(e){var t=yP(e.slice(5,-1));return t===io?"":t}var mP=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],bP=["dx","dy","angle","className","breakAll"];function lf(){return lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lf.apply(this,arguments)}function A1(e,t){if(e==null)return{};var n=vP(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function vP(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function C1(e,t){return CP(e)||AP(e,t)||SP(e,t)||wP()}function wP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SP(e,t){if(e){if(typeof e=="string")return j1(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j1(e,t)}}function j1(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function AP(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,l,u,h=[],x=!0,g=!1;try{if(l=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;x=!1}else for(;!(x=(r=l.call(n)).done)&&(h.push(r.value),h.length!==t);x=!0);}catch(b){g=!0,a=b}finally{try{if(!x&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(g)throw a}}return h}}function CP(e){if(Array.isArray(e))return e}var ab=/[ \f\n\r\t\v\u2028\u2029]+/,sb=function(t){var n=t.children,r=t.breakAll,a=t.style;try{var l=[];Ye(n)||(r?l=n.toString().split(""):l=n.toString().split(ab));var u=l.map(function(x){return{word:x,width:Ba(x,a).width}}),h=r?0:Ba(" ",a).width;return{wordsWithComputedWidth:u,spaceWidth:h}}catch{return null}},jP=function(t,n,r,a,l){var u=t.maxLines,h=t.children,x=t.style,g=t.breakAll,b=Ce(u),m=h,S=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(G,ee){var ue=ee.word,$=ee.width,B=G[G.length-1];if(B&&(a==null||l||B.width+$+r<Number(a)))B.words.push(ue),B.width+=$+r;else{var q={words:[ue],width:$};G.push(q)}return G},[])},C=S(n),I=function(L){return L.reduce(function(G,ee){return G.width>ee.width?G:ee})};if(!b)return C;for(var j="…",E=function(L){var G=m.slice(0,L),ee=sb({breakAll:g,style:x,children:G+j}).wordsWithComputedWidth,ue=S(ee),$=ue.length>u||I(ue).width>Number(a);return[$,ue]},R=0,_=m.length-1,T=0,P;R<=_&&T<=m.length-1;){var A=Math.floor((R+_)/2),N=A-1,k=E(N),W=C1(k,2),F=W[0],ie=W[1],H=E(A),Y=C1(H,1),re=Y[0];if(!F&&!re&&(R=A+1),F&&re&&(_=A-1),!F&&re){P=ie;break}T++}return P||C},E1=function(t){var n=Ye(t)?[]:t.toString().split(ab);return[{words:n}]},EP=function(t){var n=t.width,r=t.scaleToFit,a=t.children,l=t.style,u=t.breakAll,h=t.maxLines;if((n||r)&&!Fi.isSsr){var x,g,b=sb({breakAll:u,children:a,style:l});if(b){var m=b.wordsWithComputedWidth,S=b.spaceWidth;x=m,g=S}else return E1(a);return jP({breakAll:u,children:a,maxLines:h,style:l},x,g,n,r)}return E1(a)},I1="#808080",Mi=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,l=a===void 0?0:a,u=t.lineHeight,h=u===void 0?"1em":u,x=t.capHeight,g=x===void 0?"0.71em":x,b=t.scaleToFit,m=b===void 0?!1:b,S=t.textAnchor,C=S===void 0?"start":S,I=t.verticalAnchor,j=I===void 0?"end":I,E=t.fill,R=E===void 0?I1:E,_=A1(t,mP),T=X.useMemo(function(){return EP({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:m,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,m,_.style,_.width]),P=_.dx,A=_.dy,N=_.angle,k=_.className,W=_.breakAll,F=A1(_,bP);if(!Yt(r)||!Yt(l))return null;var ie=r+(Ce(P)?P:0),H=l+(Ce(A)?A:0),Y;switch(j){case"start":Y=su("calc(".concat(g,")"));break;case"middle":Y=su("calc(".concat((T.length-1)/2," * -").concat(h," + (").concat(g," / 2))"));break;default:Y=su("calc(".concat(T.length-1," * -").concat(h,")"));break}var re=[];if(m){var ae=T[0].width,L=_.width;re.push("scale(".concat((Ce(L)?L/ae:1)/ae,")"))}return N&&re.push("rotate(".concat(N,", ").concat(ie,", ").concat(H,")")),re.length&&(F.transform=re.join(" ")),Q.createElement("text",lf({},$e(F,!0),{x:ie,y:H,className:Ke("recharts-text",k),textAnchor:C,fill:R.includes("url")?I1:R}),T.map(function(G,ee){var ue=G.words.join(W?"":" ");return Q.createElement("tspan",{x:ie,dy:ee===0?Y:h,key:"".concat(ue,"-").concat(ee)},ue)}))};function ti(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function IP(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gh(e){let t,n,r;e.length!==2?(t=ti,n=(h,x)=>ti(e(h),x),r=(h,x)=>e(h)-x):(t=e===ti||e===IP?e:OP,n=e,r=e);function a(h,x,g=0,b=h.length){if(g<b){if(t(x,x)!==0)return b;do{const m=g+b>>>1;n(h[m],x)<0?g=m+1:b=m}while(g<b)}return g}function l(h,x,g=0,b=h.length){if(g<b){if(t(x,x)!==0)return b;do{const m=g+b>>>1;n(h[m],x)<=0?g=m+1:b=m}while(g<b)}return g}function u(h,x,g=0,b=h.length){const m=a(h,x,g,b-1);return m>g&&r(h[m-1],x)>-r(h[m],x)?m-1:m}return{left:a,center:u,right:l}}function OP(){return 0}function lb(e){return e===null?NaN:+e}function*TP(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const _P=Gh(ti),Ns=_P.right;Gh(lb).center;class O1 extends Map{constructor(t,n=NP){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(T1(this,t))}has(t){return super.has(T1(this,t))}set(t,n){return super.set(RP(this,t),n)}delete(t){return super.delete(PP(this,t))}}function T1({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function RP({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function PP({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function NP(e){return e!==null&&typeof e=="object"?e.valueOf():e}function kP(e=ti){if(e===ti)return cb;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function cb(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const MP=Math.sqrt(50),DP=Math.sqrt(10),BP=Math.sqrt(2);function Rl(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),l=r/Math.pow(10,a),u=l>=MP?10:l>=DP?5:l>=BP?2:1;let h,x,g;return a<0?(g=Math.pow(10,-a)/u,h=Math.round(e*g),x=Math.round(t*g),h/g<e&&++h,x/g>t&&--x,g=-g):(g=Math.pow(10,a)*u,h=Math.round(e/g),x=Math.round(t/g),h*g<e&&++h,x*g>t&&--x),x<h&&.5<=n&&n<2?Rl(e,t,n*2):[h,x,g]}function cf(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,l,u]=r?Rl(t,e,n):Rl(e,t,n);if(!(l>=a))return[];const h=l-a+1,x=new Array(h);if(r)if(u<0)for(let g=0;g<h;++g)x[g]=(l-g)/-u;else for(let g=0;g<h;++g)x[g]=(l-g)*u;else if(u<0)for(let g=0;g<h;++g)x[g]=(a+g)/-u;else for(let g=0;g<h;++g)x[g]=(a+g)*u;return x}function df(e,t,n){return t=+t,e=+e,n=+n,Rl(e,t,n)[2]}function uf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?df(t,e,n):df(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function _1(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function R1(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function db(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?cb:kP(a);r>n;){if(r-n>600){const x=r-n+1,g=t-n+1,b=Math.log(x),m=.5*Math.exp(2*b/3),S=.5*Math.sqrt(b*m*(x-m)/x)*(g-x/2<0?-1:1),C=Math.max(n,Math.floor(t-g*m/x+S)),I=Math.min(r,Math.floor(t+(x-g)*m/x+S));db(e,t,C,I,a)}const l=e[t];let u=n,h=r;for(Ca(e,n,t),a(e[r],l)>0&&Ca(e,n,r);u<h;){for(Ca(e,u,h),++u,--h;a(e[u],l)<0;)++u;for(;a(e[h],l)>0;)--h}a(e[n],l)===0?Ca(e,n,h):(++h,Ca(e,h,r)),h<=t&&(n=h+1),t<=h&&(r=h-1)}return e}function Ca(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function zP(e,t,n){if(e=Float64Array.from(TP(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return R1(e);if(t>=1)return _1(e);var r,a=(r-1)*t,l=Math.floor(a),u=_1(db(e,l).subarray(0,l+1)),h=R1(e.subarray(l+1));return u+(h-u)*(a-l)}}function LP(e,t,n=lb){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,l=Math.floor(a),u=+n(e[l],l,e),h=+n(e[l+1],l+1,e);return u+(h-u)*(a-l)}}function WP(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(a);++r<a;)l[r]=e+r*n;return l}function Yn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Fr(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ff=Symbol("implicit");function Xh(){var e=new O1,t=[],n=[],r=ff;function a(l){let u=e.get(l);if(u===void 0){if(r!==ff)return r;e.set(l,u=t.push(l)-1)}return n[u%n.length]}return a.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new O1;for(const u of l)e.has(u)||e.set(u,t.push(u)-1);return a},a.range=function(l){return arguments.length?(n=Array.from(l),a):n.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return Xh(t,n).unknown(r)},Yn.apply(a,arguments),a}function es(){var e=Xh().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,l,u,h=!1,x=0,g=0,b=.5;delete e.unknown;function m(){var S=t().length,C=a<r,I=C?a:r,j=C?r:a;l=(j-I)/Math.max(1,S-x+g*2),h&&(l=Math.floor(l)),I+=(j-I-l*(S-x))*b,u=l*(1-x),h&&(I=Math.round(I),u=Math.round(u));var E=WP(S).map(function(R){return I+l*R});return n(C?E.reverse():E)}return e.domain=function(S){return arguments.length?(t(S),m()):t()},e.range=function(S){return arguments.length?([r,a]=S,r=+r,a=+a,m()):[r,a]},e.rangeRound=function(S){return[r,a]=S,r=+r,a=+a,h=!0,m()},e.bandwidth=function(){return u},e.step=function(){return l},e.round=function(S){return arguments.length?(h=!!S,m()):h},e.padding=function(S){return arguments.length?(x=Math.min(1,g=+S),m()):x},e.paddingInner=function(S){return arguments.length?(x=Math.min(1,S),m()):x},e.paddingOuter=function(S){return arguments.length?(g=+S,m()):g},e.align=function(S){return arguments.length?(b=Math.max(0,Math.min(1,S)),m()):b},e.copy=function(){return es(t(),[r,a]).round(h).paddingInner(x).paddingOuter(g).align(b)},Yn.apply(m(),arguments)}function ub(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ub(t())},e}function za(){return ub(es.apply(null,arguments).paddingInner(1))}function Yh(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function fb(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ks(){}var ts=.7,Pl=1/ts,go="\\s*([+-]?\\d+)\\s*",ns="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FP=/^#([0-9a-f]{3,8})$/,$P=new RegExp(`^rgb\\(${go},${go},${go}\\)$`),UP=new RegExp(`^rgb\\(${gr},${gr},${gr}\\)$`),VP=new RegExp(`^rgba\\(${go},${go},${go},${ns}\\)$`),HP=new RegExp(`^rgba\\(${gr},${gr},${gr},${ns}\\)$`),GP=new RegExp(`^hsl\\(${ns},${gr},${gr}\\)$`),XP=new RegExp(`^hsla\\(${ns},${gr},${gr},${ns}\\)$`),P1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Yh(ks,rs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:N1,formatHex:N1,formatHex8:YP,formatHsl:qP,formatRgb:k1,toString:k1});function N1(){return this.rgb().formatHex()}function YP(){return this.rgb().formatHex8()}function qP(){return hb(this).formatHsl()}function k1(){return this.rgb().formatRgb()}function rs(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=FP.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?M1(t):n===3?new An(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?tl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?tl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=$P.exec(e))?new An(t[1],t[2],t[3],1):(t=UP.exec(e))?new An(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=VP.exec(e))?tl(t[1],t[2],t[3],t[4]):(t=HP.exec(e))?tl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=GP.exec(e))?z1(t[1],t[2]/100,t[3]/100,1):(t=XP.exec(e))?z1(t[1],t[2]/100,t[3]/100,t[4]):P1.hasOwnProperty(e)?M1(P1[e]):e==="transparent"?new An(NaN,NaN,NaN,0):null}function M1(e){return new An(e>>16&255,e>>8&255,e&255,1)}function tl(e,t,n,r){return r<=0&&(e=t=n=NaN),new An(e,t,n,r)}function KP(e){return e instanceof ks||(e=rs(e)),e?(e=e.rgb(),new An(e.r,e.g,e.b,e.opacity)):new An}function hf(e,t,n,r){return arguments.length===1?KP(e):new An(e,t,n,r??1)}function An(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Yh(An,hf,fb(ks,{brighter(e){return e=e==null?Pl:Math.pow(Pl,e),new An(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ts:Math.pow(ts,e),new An(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new An(Ri(this.r),Ri(this.g),Ri(this.b),Nl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:D1,formatHex:D1,formatHex8:ZP,formatRgb:B1,toString:B1}));function D1(){return`#${Ei(this.r)}${Ei(this.g)}${Ei(this.b)}`}function ZP(){return`#${Ei(this.r)}${Ei(this.g)}${Ei(this.b)}${Ei((isNaN(this.opacity)?1:this.opacity)*255)}`}function B1(){const e=Nl(this.opacity);return`${e===1?"rgb(":"rgba("}${Ri(this.r)}, ${Ri(this.g)}, ${Ri(this.b)}${e===1?")":`, ${e})`}`}function Nl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ri(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ei(e){return e=Ri(e),(e<16?"0":"")+e.toString(16)}function z1(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tr(e,t,n,r)}function hb(e){if(e instanceof tr)return new tr(e.h,e.s,e.l,e.opacity);if(e instanceof ks||(e=rs(e)),!e)return new tr;if(e instanceof tr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),l=Math.max(t,n,r),u=NaN,h=l-a,x=(l+a)/2;return h?(t===l?u=(n-r)/h+(n<r)*6:n===l?u=(r-t)/h+2:u=(t-n)/h+4,h/=x<.5?l+a:2-l-a,u*=60):h=x>0&&x<1?0:u,new tr(u,h,x,e.opacity)}function QP(e,t,n,r){return arguments.length===1?hb(e):new tr(e,t,n,r??1)}function tr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Yh(tr,QP,fb(ks,{brighter(e){return e=e==null?Pl:Math.pow(Pl,e),new tr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ts:Math.pow(ts,e),new tr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new An(lu(e>=240?e-240:e+120,a,r),lu(e,a,r),lu(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new tr(L1(this.h),nl(this.s),nl(this.l),Nl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nl(this.opacity);return`${e===1?"hsl(":"hsla("}${L1(this.h)}, ${nl(this.s)*100}%, ${nl(this.l)*100}%${e===1?")":`, ${e})`}`}}));function L1(e){return e=(e||0)%360,e<0?e+360:e}function nl(e){return Math.max(0,Math.min(1,e||0))}function lu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const qh=e=>()=>e;function JP(e,t){return function(n){return e+n*t}}function e7(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function t7(e){return(e=+e)==1?pb:function(t,n){return n-t?e7(t,n,e):qh(isNaN(t)?n:t)}}function pb(e,t){var n=t-e;return n?JP(e,n):qh(isNaN(e)?t:e)}const W1=function e(t){var n=t7(t);function r(a,l){var u=n((a=hf(a)).r,(l=hf(l)).r),h=n(a.g,l.g),x=n(a.b,l.b),g=pb(a.opacity,l.opacity);return function(b){return a.r=u(b),a.g=h(b),a.b=x(b),a.opacity=g(b),a+""}}return r.gamma=e,r}(1);function n7(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(l){for(a=0;a<n;++a)r[a]=e[a]*(1-l)+t[a]*l;return r}}function r7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function i7(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),l=new Array(n),u;for(u=0;u<r;++u)a[u]=la(e[u],t[u]);for(;u<n;++u)l[u]=t[u];return function(h){for(u=0;u<r;++u)l[u]=a[u](h);return l}}function o7(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function kl(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function a7(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=la(e[a],t[a]):r[a]=t[a];return function(l){for(a in n)r[a]=n[a](l);return r}}var pf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,cu=new RegExp(pf.source,"g");function s7(e){return function(){return e}}function l7(e){return function(t){return e(t)+""}}function c7(e,t){var n=pf.lastIndex=cu.lastIndex=0,r,a,l,u=-1,h=[],x=[];for(e=e+"",t=t+"";(r=pf.exec(e))&&(a=cu.exec(t));)(l=a.index)>n&&(l=t.slice(n,l),h[u]?h[u]+=l:h[++u]=l),(r=r[0])===(a=a[0])?h[u]?h[u]+=a:h[++u]=a:(h[++u]=null,x.push({i:u,x:kl(r,a)})),n=cu.lastIndex;return n<t.length&&(l=t.slice(n),h[u]?h[u]+=l:h[++u]=l),h.length<2?x[0]?l7(x[0].x):s7(t):(t=x.length,function(g){for(var b=0,m;b<t;++b)h[(m=x[b]).i]=m.x(g);return h.join("")})}function la(e,t){var n=typeof t,r;return t==null||n==="boolean"?qh(t):(n==="number"?kl:n==="string"?(r=rs(t))?(t=r,W1):c7:t instanceof rs?W1:t instanceof Date?o7:r7(t)?n7:Array.isArray(t)?i7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?a7:kl)(e,t)}function Kh(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function d7(e,t){t===void 0&&(t=e,e=la);for(var n=0,r=t.length-1,a=t[0],l=new Array(r<0?0:r);n<r;)l[n]=e(a,a=t[++n]);return function(u){var h=Math.max(0,Math.min(r-1,Math.floor(u*=r)));return l[h](u-h)}}function u7(e){return function(){return e}}function Ml(e){return+e}var F1=[0,1];function gn(e){return e}function xf(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:u7(isNaN(t)?NaN:.5)}function f7(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function h7(e,t,n){var r=e[0],a=e[1],l=t[0],u=t[1];return a<r?(r=xf(a,r),l=n(u,l)):(r=xf(r,a),l=n(l,u)),function(h){return l(r(h))}}function p7(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),l=new Array(r),u=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<r;)a[u]=xf(e[u],e[u+1]),l[u]=n(t[u],t[u+1]);return function(h){var x=Ns(e,h,1,r)-1;return l[x](a[x](h))}}function Ms(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Jc(){var e=F1,t=F1,n=la,r,a,l,u=gn,h,x,g;function b(){var S=Math.min(e.length,t.length);return u!==gn&&(u=f7(e[0],e[S-1])),h=S>2?p7:h7,x=g=null,m}function m(S){return S==null||isNaN(S=+S)?l:(x||(x=h(e.map(r),t,n)))(r(u(S)))}return m.invert=function(S){return u(a((g||(g=h(t,e.map(r),kl)))(S)))},m.domain=function(S){return arguments.length?(e=Array.from(S,Ml),b()):e.slice()},m.range=function(S){return arguments.length?(t=Array.from(S),b()):t.slice()},m.rangeRound=function(S){return t=Array.from(S),n=Kh,b()},m.clamp=function(S){return arguments.length?(u=S?!0:gn,b()):u!==gn},m.interpolate=function(S){return arguments.length?(n=S,b()):n},m.unknown=function(S){return arguments.length?(l=S,m):l},function(S,C){return r=S,a=C,b()}}function Zh(){return Jc()(gn,gn)}function x7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Dl(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function _o(e){return e=Dl(Math.abs(e)),e?e[1]:NaN}function g7(e,t){return function(n,r){for(var a=n.length,l=[],u=0,h=e[0],x=0;a>0&&h>0&&(x+h+1>r&&(h=Math.max(1,r-x)),l.push(n.substring(a-=h,a+h)),!((x+=h+1)>r));)h=e[u=(u+1)%e.length];return l.reverse().join(t)}}function y7(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var m7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function is(e){if(!(t=m7.exec(e)))throw new Error("invalid format: "+e);var t;return new Qh({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}is.prototype=Qh.prototype;function Qh(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Qh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function b7(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var xb;function v7(e,t){var n=Dl(e,t);if(!n)return e+"";var r=n[0],a=n[1],l=a-(xb=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,u=r.length;return l===u?r:l>u?r+new Array(l-u+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+Dl(e,Math.max(0,t+l-1))[0]}function $1(e,t){var n=Dl(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const U1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:x7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$1(e*100,t),r:$1,s:v7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function V1(e){return e}var H1=Array.prototype.map,G1=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function w7(e){var t=e.grouping===void 0||e.thousands===void 0?V1:g7(H1.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?V1:y7(H1.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",h=e.minus===void 0?"−":e.minus+"",x=e.nan===void 0?"NaN":e.nan+"";function g(m){m=is(m);var S=m.fill,C=m.align,I=m.sign,j=m.symbol,E=m.zero,R=m.width,_=m.comma,T=m.precision,P=m.trim,A=m.type;A==="n"?(_=!0,A="g"):U1[A]||(T===void 0&&(T=12),P=!0,A="g"),(E||S==="0"&&C==="=")&&(E=!0,S="0",C="=");var N=j==="$"?n:j==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",k=j==="$"?r:/[%p]/.test(A)?u:"",W=U1[A],F=/[defgprs%]/.test(A);T=T===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function ie(H){var Y=N,re=k,ae,L,G;if(A==="c")re=W(H)+re,H="";else{H=+H;var ee=H<0||1/H<0;if(H=isNaN(H)?x:W(Math.abs(H),T),P&&(H=b7(H)),ee&&+H==0&&I!=="+"&&(ee=!1),Y=(ee?I==="("?I:h:I==="-"||I==="("?"":I)+Y,re=(A==="s"?G1[8+xb/3]:"")+re+(ee&&I==="("?")":""),F){for(ae=-1,L=H.length;++ae<L;)if(G=H.charCodeAt(ae),48>G||G>57){re=(G===46?a+H.slice(ae+1):H.slice(ae))+re,H=H.slice(0,ae);break}}}_&&!E&&(H=t(H,1/0));var ue=Y.length+H.length+re.length,$=ue<R?new Array(R-ue+1).join(S):"";switch(_&&E&&(H=t($+H,$.length?R-re.length:1/0),$=""),C){case"<":H=Y+H+re+$;break;case"=":H=Y+$+H+re;break;case"^":H=$.slice(0,ue=$.length>>1)+Y+H+re+$.slice(ue);break;default:H=$+Y+H+re;break}return l(H)}return ie.toString=function(){return m+""},ie}function b(m,S){var C=g((m=is(m),m.type="f",m)),I=Math.max(-8,Math.min(8,Math.floor(_o(S)/3)))*3,j=Math.pow(10,-I),E=G1[8+I/3];return function(R){return C(j*R)+E}}return{format:g,formatPrefix:b}}var rl,Jh,gb;S7({thousands:",",grouping:[3],currency:["$",""]});function S7(e){return rl=w7(e),Jh=rl.format,gb=rl.formatPrefix,rl}function A7(e){return Math.max(0,-_o(Math.abs(e)))}function C7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_o(t)/3)))*3-_o(Math.abs(e)))}function j7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,_o(t)-_o(e))+1}function yb(e,t,n,r){var a=uf(e,t,n),l;switch(r=is(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=C7(a,u))&&(r.precision=l),gb(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=j7(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=A7(a))&&(r.precision=l-(r.type==="%")*2);break}}return Jh(r)}function si(e){var t=e.domain;return e.ticks=function(n){var r=t();return cf(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return yb(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,l=r.length-1,u=r[a],h=r[l],x,g,b=10;for(h<u&&(g=u,u=h,h=g,g=a,a=l,l=g);b-- >0;){if(g=df(u,h,n),g===x)return r[a]=u,r[l]=h,t(r);if(g>0)u=Math.floor(u/g)*g,h=Math.ceil(h/g)*g;else if(g<0)u=Math.ceil(u*g)/g,h=Math.floor(h*g)/g;else break;x=g}return e},e}function Bl(){var e=Zh();return e.copy=function(){return Ms(e,Bl())},Yn.apply(e,arguments),si(e)}function mb(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Ml),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return mb(e).unknown(t)},e=arguments.length?Array.from(e,Ml):[0,1],si(n)}function bb(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],l=e[r],u;return l<a&&(u=n,n=r,r=u,u=a,a=l,l=u),e[n]=t.floor(a),e[r]=t.ceil(l),e}function X1(e){return Math.log(e)}function Y1(e){return Math.exp(e)}function E7(e){return-Math.log(-e)}function I7(e){return-Math.exp(-e)}function O7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function T7(e){return e===10?O7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function q1(e){return(t,n)=>-e(-t,n)}function ep(e){const t=e(X1,Y1),n=t.domain;let r=10,a,l;function u(){return a=_7(r),l=T7(r),n()[0]<0?(a=q1(a),l=q1(l),e(E7,I7)):e(X1,Y1),t}return t.base=function(h){return arguments.length?(r=+h,u()):r},t.domain=function(h){return arguments.length?(n(h),u()):n()},t.ticks=h=>{const x=n();let g=x[0],b=x[x.length-1];const m=b<g;m&&([g,b]=[b,g]);let S=a(g),C=a(b),I,j;const E=h==null?10:+h;let R=[];if(!(r%1)&&C-S<E){if(S=Math.floor(S),C=Math.ceil(C),g>0){for(;S<=C;++S)for(I=1;I<r;++I)if(j=S<0?I/l(-S):I*l(S),!(j<g)){if(j>b)break;R.push(j)}}else for(;S<=C;++S)for(I=r-1;I>=1;--I)if(j=S>0?I/l(-S):I*l(S),!(j<g)){if(j>b)break;R.push(j)}R.length*2<E&&(R=cf(g,b,E))}else R=cf(S,C,Math.min(C-S,E)).map(l);return m?R.reverse():R},t.tickFormat=(h,x)=>{if(h==null&&(h=10),x==null&&(x=r===10?"s":","),typeof x!="function"&&(!(r%1)&&(x=is(x)).precision==null&&(x.trim=!0),x=Jh(x)),h===1/0)return x;const g=Math.max(1,r*h/t.ticks().length);return b=>{let m=b/l(Math.round(a(b)));return m*r<r-.5&&(m*=r),m<=g?x(b):""}},t.nice=()=>n(bb(n(),{floor:h=>l(Math.floor(a(h))),ceil:h=>l(Math.ceil(a(h)))})),t}function vb(){const e=ep(Jc()).domain([1,10]);return e.copy=()=>Ms(e,vb()).base(e.base()),Yn.apply(e,arguments),e}function K1(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Z1(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function tp(e){var t=1,n=e(K1(t),Z1(t));return n.constant=function(r){return arguments.length?e(K1(t=+r),Z1(t)):t},si(n)}function wb(){var e=tp(Jc());return e.copy=function(){return Ms(e,wb()).constant(e.constant())},Yn.apply(e,arguments)}function Q1(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function R7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function P7(e){return e<0?-e*e:e*e}function np(e){var t=e(gn,gn),n=1;function r(){return n===1?e(gn,gn):n===.5?e(R7,P7):e(Q1(n),Q1(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},si(t)}function rp(){var e=np(Jc());return e.copy=function(){return Ms(e,rp()).exponent(e.exponent())},Yn.apply(e,arguments),e}function N7(){return rp.apply(null,arguments).exponent(.5)}function J1(e){return Math.sign(e)*e*e}function k7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Sb(){var e=Zh(),t=[0,1],n=!1,r;function a(l){var u=k7(e(l));return isNaN(u)?r:n?Math.round(u):u}return a.invert=function(l){return e.invert(J1(l))},a.domain=function(l){return arguments.length?(e.domain(l),a):e.domain()},a.range=function(l){return arguments.length?(e.range((t=Array.from(l,Ml)).map(J1)),a):t.slice()},a.rangeRound=function(l){return a.range(l).round(!0)},a.round=function(l){return arguments.length?(n=!!l,a):n},a.clamp=function(l){return arguments.length?(e.clamp(l),a):e.clamp()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return Sb(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Yn.apply(a,arguments),si(a)}function Ab(){var e=[],t=[],n=[],r;function a(){var u=0,h=Math.max(1,t.length);for(n=new Array(h-1);++u<h;)n[u-1]=LP(e,u/h);return l}function l(u){return u==null||isNaN(u=+u)?r:t[Ns(n,u)]}return l.invertExtent=function(u){var h=t.indexOf(u);return h<0?[NaN,NaN]:[h>0?n[h-1]:e[0],h<n.length?n[h]:e[e.length-1]]},l.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let h of u)h!=null&&!isNaN(h=+h)&&e.push(h);return e.sort(ti),a()},l.range=function(u){return arguments.length?(t=Array.from(u),a()):t.slice()},l.unknown=function(u){return arguments.length?(r=u,l):r},l.quantiles=function(){return n.slice()},l.copy=function(){return Ab().domain(e).range(t).unknown(r)},Yn.apply(l,arguments)}function Cb(){var e=0,t=1,n=1,r=[.5],a=[0,1],l;function u(x){return x!=null&&x<=x?a[Ns(r,x,0,n)]:l}function h(){var x=-1;for(r=new Array(n);++x<n;)r[x]=((x+1)*t-(x-n)*e)/(n+1);return u}return u.domain=function(x){return arguments.length?([e,t]=x,e=+e,t=+t,h()):[e,t]},u.range=function(x){return arguments.length?(n=(a=Array.from(x)).length-1,h()):a.slice()},u.invertExtent=function(x){var g=a.indexOf(x);return g<0?[NaN,NaN]:g<1?[e,r[0]]:g>=n?[r[n-1],t]:[r[g-1],r[g]]},u.unknown=function(x){return arguments.length&&(l=x),u},u.thresholds=function(){return r.slice()},u.copy=function(){return Cb().domain([e,t]).range(a).unknown(l)},Yn.apply(si(u),arguments)}function jb(){var e=[.5],t=[0,1],n,r=1;function a(l){return l!=null&&l<=l?t[Ns(e,l,0,r)]:n}return a.domain=function(l){return arguments.length?(e=Array.from(l),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(l){return arguments.length?(t=Array.from(l),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(l){var u=t.indexOf(l);return[e[u-1],e[u]]},a.unknown=function(l){return arguments.length?(n=l,a):n},a.copy=function(){return jb().domain(e).range(t).unknown(n)},Yn.apply(a,arguments)}const du=new Date,uu=new Date;function qt(e,t,n,r){function a(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return a.floor=l=>(e(l=new Date(+l)),l),a.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),a.round=l=>{const u=a(l),h=a.ceil(l);return l-u<h-l?u:h},a.offset=(l,u)=>(t(l=new Date(+l),u==null?1:Math.floor(u)),l),a.range=(l,u,h)=>{const x=[];if(l=a.ceil(l),h=h==null?1:Math.floor(h),!(l<u)||!(h>0))return x;let g;do x.push(g=new Date(+l)),t(l,h),e(l);while(g<l&&l<u);return x},a.filter=l=>qt(u=>{if(u>=u)for(;e(u),!l(u);)u.setTime(u-1)},(u,h)=>{if(u>=u)if(h<0)for(;++h<=0;)for(;t(u,-1),!l(u););else for(;--h>=0;)for(;t(u,1),!l(u););}),n&&(a.count=(l,u)=>(du.setTime(+l),uu.setTime(+u),e(du),e(uu),Math.floor(n(du,uu))),a.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?a.filter(r?u=>r(u)%l===0:u=>a.count(0,u)%l===0):a)),a}const zl=qt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zl.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qt(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):zl);zl.range;const Or=1e3,Hn=Or*60,Tr=Hn*60,Dr=Tr*24,ip=Dr*7,ex=Dr*30,fu=Dr*365,Ii=qt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Or)},(e,t)=>(t-e)/Or,e=>e.getUTCSeconds());Ii.range;const op=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Or)},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getMinutes());op.range;const ap=qt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Hn)},(e,t)=>(t-e)/Hn,e=>e.getUTCMinutes());ap.range;const sp=qt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Or-e.getMinutes()*Hn)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getHours());sp.range;const lp=qt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getUTCHours());lp.range;const Ds=qt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Hn)/Dr,e=>e.getDate()-1);Ds.range;const ed=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Dr,e=>e.getUTCDate()-1);ed.range;const Eb=qt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Dr,e=>Math.floor(e/Dr));Eb.range;function $i(e){return qt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Hn)/ip)}const td=$i(0),Ll=$i(1),M7=$i(2),D7=$i(3),Ro=$i(4),B7=$i(5),z7=$i(6);td.range;Ll.range;M7.range;D7.range;Ro.range;B7.range;z7.range;function Ui(e){return qt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/ip)}const nd=Ui(0),Wl=Ui(1),L7=Ui(2),W7=Ui(3),Po=Ui(4),F7=Ui(5),$7=Ui(6);nd.range;Wl.range;L7.range;W7.range;Po.range;F7.range;$7.range;const cp=qt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());cp.range;const dp=qt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());dp.range;const Br=qt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Br.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Br.range;const zr=qt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});zr.range;function Ib(e,t,n,r,a,l){const u=[[Ii,1,Or],[Ii,5,5*Or],[Ii,15,15*Or],[Ii,30,30*Or],[l,1,Hn],[l,5,5*Hn],[l,15,15*Hn],[l,30,30*Hn],[a,1,Tr],[a,3,3*Tr],[a,6,6*Tr],[a,12,12*Tr],[r,1,Dr],[r,2,2*Dr],[n,1,ip],[t,1,ex],[t,3,3*ex],[e,1,fu]];function h(g,b,m){const S=b<g;S&&([g,b]=[b,g]);const C=m&&typeof m.range=="function"?m:x(g,b,m),I=C?C.range(g,+b+1):[];return S?I.reverse():I}function x(g,b,m){const S=Math.abs(b-g)/m,C=Gh(([,,E])=>E).right(u,S);if(C===u.length)return e.every(uf(g/fu,b/fu,m));if(C===0)return zl.every(Math.max(uf(g,b,m),1));const[I,j]=u[S/u[C-1][2]<u[C][2]/S?C-1:C];return I.every(j)}return[h,x]}const[U7,V7]=Ib(zr,dp,nd,Eb,lp,ap),[H7,G7]=Ib(Br,cp,td,Ds,sp,op);function hu(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function pu(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ja(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function X7(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,l=e.days,u=e.shortDays,h=e.months,x=e.shortMonths,g=Ea(a),b=Ia(a),m=Ea(l),S=Ia(l),C=Ea(u),I=Ia(u),j=Ea(h),E=Ia(h),R=Ea(x),_=Ia(x),T={a:ee,A:ue,b:$,B,c:null,d:ax,e:ax,f:gN,g:EN,G:ON,H:hN,I:pN,j:xN,L:Ob,m:yN,M:mN,p:q,q:oe,Q:cx,s:dx,S:bN,u:vN,U:wN,V:SN,w:AN,W:CN,x:null,X:null,y:jN,Y:IN,Z:TN,"%":lx},P={a:de,A:be,b:Me,B:te,c:null,d:sx,e:sx,f:NN,g:UN,G:HN,H:_N,I:RN,j:PN,L:_b,m:kN,M:MN,p:Ne,q:Ee,Q:cx,s:dx,S:DN,u:BN,U:zN,V:LN,w:WN,W:FN,x:null,X:null,y:$N,Y:VN,Z:GN,"%":lx},A={a:ie,A:H,b:Y,B:re,c:ae,d:ix,e:ix,f:cN,g:rx,G:nx,H:ox,I:ox,j:oN,L:lN,m:iN,M:aN,p:F,q:rN,Q:uN,s:fN,S:sN,u:Q7,U:J7,V:eN,w:Z7,W:tN,x:L,X:G,y:rx,Y:nx,Z:nN,"%":dN};T.x=N(n,T),T.X=N(r,T),T.c=N(t,T),P.x=N(n,P),P.X=N(r,P),P.c=N(t,P);function N(ve,Oe){return function(Te){var ge=[],se=-1,je=0,_e=ve.length,Fe,De,Z;for(Te instanceof Date||(Te=new Date(+Te));++se<_e;)ve.charCodeAt(se)===37&&(ge.push(ve.slice(je,se)),(De=tx[Fe=ve.charAt(++se)])!=null?Fe=ve.charAt(++se):De=Fe==="e"?" ":"0",(Z=Oe[Fe])&&(Fe=Z(Te,De)),ge.push(Fe),je=se+1);return ge.push(ve.slice(je,se)),ge.join("")}}function k(ve,Oe){return function(Te){var ge=ja(1900,void 0,1),se=W(ge,ve,Te+="",0),je,_e;if(se!=Te.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Oe&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(je=pu(ja(ge.y,0,1)),_e=je.getUTCDay(),je=_e>4||_e===0?Wl.ceil(je):Wl(je),je=ed.offset(je,(ge.V-1)*7),ge.y=je.getUTCFullYear(),ge.m=je.getUTCMonth(),ge.d=je.getUTCDate()+(ge.w+6)%7):(je=hu(ja(ge.y,0,1)),_e=je.getDay(),je=_e>4||_e===0?Ll.ceil(je):Ll(je),je=Ds.offset(je,(ge.V-1)*7),ge.y=je.getFullYear(),ge.m=je.getMonth(),ge.d=je.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),_e="Z"in ge?pu(ja(ge.y,0,1)).getUTCDay():hu(ja(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(_e+5)%7:ge.w+ge.U*7-(_e+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,pu(ge)):hu(ge)}}function W(ve,Oe,Te,ge){for(var se=0,je=Oe.length,_e=Te.length,Fe,De;se<je;){if(ge>=_e)return-1;if(Fe=Oe.charCodeAt(se++),Fe===37){if(Fe=Oe.charAt(se++),De=A[Fe in tx?Oe.charAt(se++):Fe],!De||(ge=De(ve,Te,ge))<0)return-1}else if(Fe!=Te.charCodeAt(ge++))return-1}return ge}function F(ve,Oe,Te){var ge=g.exec(Oe.slice(Te));return ge?(ve.p=b.get(ge[0].toLowerCase()),Te+ge[0].length):-1}function ie(ve,Oe,Te){var ge=C.exec(Oe.slice(Te));return ge?(ve.w=I.get(ge[0].toLowerCase()),Te+ge[0].length):-1}function H(ve,Oe,Te){var ge=m.exec(Oe.slice(Te));return ge?(ve.w=S.get(ge[0].toLowerCase()),Te+ge[0].length):-1}function Y(ve,Oe,Te){var ge=R.exec(Oe.slice(Te));return ge?(ve.m=_.get(ge[0].toLowerCase()),Te+ge[0].length):-1}function re(ve,Oe,Te){var ge=j.exec(Oe.slice(Te));return ge?(ve.m=E.get(ge[0].toLowerCase()),Te+ge[0].length):-1}function ae(ve,Oe,Te){return W(ve,t,Oe,Te)}function L(ve,Oe,Te){return W(ve,n,Oe,Te)}function G(ve,Oe,Te){return W(ve,r,Oe,Te)}function ee(ve){return u[ve.getDay()]}function ue(ve){return l[ve.getDay()]}function $(ve){return x[ve.getMonth()]}function B(ve){return h[ve.getMonth()]}function q(ve){return a[+(ve.getHours()>=12)]}function oe(ve){return 1+~~(ve.getMonth()/3)}function de(ve){return u[ve.getUTCDay()]}function be(ve){return l[ve.getUTCDay()]}function Me(ve){return x[ve.getUTCMonth()]}function te(ve){return h[ve.getUTCMonth()]}function Ne(ve){return a[+(ve.getUTCHours()>=12)]}function Ee(ve){return 1+~~(ve.getUTCMonth()/3)}return{format:function(ve){var Oe=N(ve+="",T);return Oe.toString=function(){return ve},Oe},parse:function(ve){var Oe=k(ve+="",!1);return Oe.toString=function(){return ve},Oe},utcFormat:function(ve){var Oe=N(ve+="",P);return Oe.toString=function(){return ve},Oe},utcParse:function(ve){var Oe=k(ve+="",!0);return Oe.toString=function(){return ve},Oe}}}var tx={"-":"",_:" ",0:"0"},en=/^\s*\d+/,Y7=/^%/,q7=/[\\^$*+?|[\]().{}]/g;function ot(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",l=a.length;return r+(l<n?new Array(n-l+1).join(t)+a:a)}function K7(e){return e.replace(q7,"\\$&")}function Ea(e){return new RegExp("^(?:"+e.map(K7).join("|")+")","i")}function Ia(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Z7(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Q7(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function J7(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function eN(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function tN(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function nx(e,t,n){var r=en.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function rx(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nN(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rN(e,t,n){var r=en.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function iN(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function ix(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function oN(e,t,n){var r=en.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ox(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function aN(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function sN(e,t,n){var r=en.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function lN(e,t,n){var r=en.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function cN(e,t,n){var r=en.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function dN(e,t,n){var r=Y7.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function uN(e,t,n){var r=en.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function fN(e,t,n){var r=en.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ax(e,t){return ot(e.getDate(),t,2)}function hN(e,t){return ot(e.getHours(),t,2)}function pN(e,t){return ot(e.getHours()%12||12,t,2)}function xN(e,t){return ot(1+Ds.count(Br(e),e),t,3)}function Ob(e,t){return ot(e.getMilliseconds(),t,3)}function gN(e,t){return Ob(e,t)+"000"}function yN(e,t){return ot(e.getMonth()+1,t,2)}function mN(e,t){return ot(e.getMinutes(),t,2)}function bN(e,t){return ot(e.getSeconds(),t,2)}function vN(e){var t=e.getDay();return t===0?7:t}function wN(e,t){return ot(td.count(Br(e)-1,e),t,2)}function Tb(e){var t=e.getDay();return t>=4||t===0?Ro(e):Ro.ceil(e)}function SN(e,t){return e=Tb(e),ot(Ro.count(Br(e),e)+(Br(e).getDay()===4),t,2)}function AN(e){return e.getDay()}function CN(e,t){return ot(Ll.count(Br(e)-1,e),t,2)}function jN(e,t){return ot(e.getFullYear()%100,t,2)}function EN(e,t){return e=Tb(e),ot(e.getFullYear()%100,t,2)}function IN(e,t){return ot(e.getFullYear()%1e4,t,4)}function ON(e,t){var n=e.getDay();return e=n>=4||n===0?Ro(e):Ro.ceil(e),ot(e.getFullYear()%1e4,t,4)}function TN(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ot(t/60|0,"0",2)+ot(t%60,"0",2)}function sx(e,t){return ot(e.getUTCDate(),t,2)}function _N(e,t){return ot(e.getUTCHours(),t,2)}function RN(e,t){return ot(e.getUTCHours()%12||12,t,2)}function PN(e,t){return ot(1+ed.count(zr(e),e),t,3)}function _b(e,t){return ot(e.getUTCMilliseconds(),t,3)}function NN(e,t){return _b(e,t)+"000"}function kN(e,t){return ot(e.getUTCMonth()+1,t,2)}function MN(e,t){return ot(e.getUTCMinutes(),t,2)}function DN(e,t){return ot(e.getUTCSeconds(),t,2)}function BN(e){var t=e.getUTCDay();return t===0?7:t}function zN(e,t){return ot(nd.count(zr(e)-1,e),t,2)}function Rb(e){var t=e.getUTCDay();return t>=4||t===0?Po(e):Po.ceil(e)}function LN(e,t){return e=Rb(e),ot(Po.count(zr(e),e)+(zr(e).getUTCDay()===4),t,2)}function WN(e){return e.getUTCDay()}function FN(e,t){return ot(Wl.count(zr(e)-1,e),t,2)}function $N(e,t){return ot(e.getUTCFullYear()%100,t,2)}function UN(e,t){return e=Rb(e),ot(e.getUTCFullYear()%100,t,2)}function VN(e,t){return ot(e.getUTCFullYear()%1e4,t,4)}function HN(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Po(e):Po.ceil(e),ot(e.getUTCFullYear()%1e4,t,4)}function GN(){return"+0000"}function lx(){return"%"}function cx(e){return+e}function dx(e){return Math.floor(+e/1e3)}var to,Pb,Nb;XN({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function XN(e){return to=X7(e),Pb=to.format,to.parse,Nb=to.utcFormat,to.utcParse,to}function YN(e){return new Date(e)}function qN(e){return e instanceof Date?+e:+new Date(+e)}function up(e,t,n,r,a,l,u,h,x,g){var b=Zh(),m=b.invert,S=b.domain,C=g(".%L"),I=g(":%S"),j=g("%I:%M"),E=g("%I %p"),R=g("%a %d"),_=g("%b %d"),T=g("%B"),P=g("%Y");function A(N){return(x(N)<N?C:h(N)<N?I:u(N)<N?j:l(N)<N?E:r(N)<N?a(N)<N?R:_:n(N)<N?T:P)(N)}return b.invert=function(N){return new Date(m(N))},b.domain=function(N){return arguments.length?S(Array.from(N,qN)):S().map(YN)},b.ticks=function(N){var k=S();return e(k[0],k[k.length-1],N??10)},b.tickFormat=function(N,k){return k==null?A:g(k)},b.nice=function(N){var k=S();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?S(bb(k,N)):b},b.copy=function(){return Ms(b,up(e,t,n,r,a,l,u,h,x,g))},b}function KN(){return Yn.apply(up(H7,G7,Br,cp,td,Ds,sp,op,Ii,Pb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZN(){return Yn.apply(up(U7,V7,zr,dp,nd,ed,lp,ap,Ii,Nb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rd(){var e=0,t=1,n,r,a,l,u=gn,h=!1,x;function g(m){return m==null||isNaN(m=+m)?x:u(a===0?.5:(m=(l(m)-n)*a,h?Math.max(0,Math.min(1,m)):m))}g.domain=function(m){return arguments.length?([e,t]=m,n=l(e=+e),r=l(t=+t),a=n===r?0:1/(r-n),g):[e,t]},g.clamp=function(m){return arguments.length?(h=!!m,g):h},g.interpolator=function(m){return arguments.length?(u=m,g):u};function b(m){return function(S){var C,I;return arguments.length?([C,I]=S,u=m(C,I),g):[u(0),u(1)]}}return g.range=b(la),g.rangeRound=b(Kh),g.unknown=function(m){return arguments.length?(x=m,g):x},function(m){return l=m,n=m(e),r=m(t),a=n===r?0:1/(r-n),g}}function li(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function kb(){var e=si(rd()(gn));return e.copy=function(){return li(e,kb())},Fr.apply(e,arguments)}function Mb(){var e=ep(rd()).domain([1,10]);return e.copy=function(){return li(e,Mb()).base(e.base())},Fr.apply(e,arguments)}function Db(){var e=tp(rd());return e.copy=function(){return li(e,Db()).constant(e.constant())},Fr.apply(e,arguments)}function fp(){var e=np(rd());return e.copy=function(){return li(e,fp()).exponent(e.exponent())},Fr.apply(e,arguments)}function QN(){return fp.apply(null,arguments).exponent(.5)}function Bb(){var e=[],t=gn;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ns(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(ti),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,l)=>zP(e,l/r))},n.copy=function(){return Bb(t).domain(e)},Fr.apply(n,arguments)}function id(){var e=0,t=.5,n=1,r=1,a,l,u,h,x,g=gn,b,m=!1,S;function C(j){return isNaN(j=+j)?S:(j=.5+((j=+b(j))-l)*(r*j<r*l?h:x),g(m?Math.max(0,Math.min(1,j)):j))}C.domain=function(j){return arguments.length?([e,t,n]=j,a=b(e=+e),l=b(t=+t),u=b(n=+n),h=a===l?0:.5/(l-a),x=l===u?0:.5/(u-l),r=l<a?-1:1,C):[e,t,n]},C.clamp=function(j){return arguments.length?(m=!!j,C):m},C.interpolator=function(j){return arguments.length?(g=j,C):g};function I(j){return function(E){var R,_,T;return arguments.length?([R,_,T]=E,g=d7(j,[R,_,T]),C):[g(0),g(.5),g(1)]}}return C.range=I(la),C.rangeRound=I(Kh),C.unknown=function(j){return arguments.length?(S=j,C):S},function(j){return b=j,a=j(e),l=j(t),u=j(n),h=a===l?0:.5/(l-a),x=l===u?0:.5/(u-l),r=l<a?-1:1,C}}function zb(){var e=si(id()(gn));return e.copy=function(){return li(e,zb())},Fr.apply(e,arguments)}function Lb(){var e=ep(id()).domain([.1,1,10]);return e.copy=function(){return li(e,Lb()).base(e.base())},Fr.apply(e,arguments)}function Wb(){var e=tp(id());return e.copy=function(){return li(e,Wb()).constant(e.constant())},Fr.apply(e,arguments)}function hp(){var e=np(id());return e.copy=function(){return li(e,hp()).exponent(e.exponent())},Fr.apply(e,arguments)}function JN(){return hp.apply(null,arguments).exponent(.5)}const ux=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:es,scaleDiverging:zb,scaleDivergingLog:Lb,scaleDivergingPow:hp,scaleDivergingSqrt:JN,scaleDivergingSymlog:Wb,scaleIdentity:mb,scaleImplicit:ff,scaleLinear:Bl,scaleLog:vb,scaleOrdinal:Xh,scalePoint:za,scalePow:rp,scaleQuantile:Ab,scaleQuantize:Cb,scaleRadial:Sb,scaleSequential:kb,scaleSequentialLog:Mb,scaleSequentialPow:fp,scaleSequentialQuantile:Bb,scaleSequentialSqrt:QN,scaleSequentialSymlog:Db,scaleSqrt:N7,scaleSymlog:wb,scaleThreshold:jb,scaleTime:KN,scaleUtc:ZN,tickFormat:yb},Symbol.toStringTag,{value:"Module"}));var e9=Jo;function t9(e,t,n){for(var r=-1,a=e.length;++r<a;){var l=e[r],u=t(l);if(u!=null&&(h===void 0?u===u&&!e9(u):n(u,h)))var h=u,x=l}return x}var od=t9;function n9(e,t){return e>t}var Fb=n9,r9=od,i9=Fb,o9=sa;function a9(e){return e&&e.length?r9(e,o9,i9):void 0}var s9=a9;const ad=dt(s9);function l9(e,t){return e<t}var $b=l9,c9=od,d9=$b,u9=sa;function f9(e){return e&&e.length?c9(e,u9,d9):void 0}var h9=f9;const sd=dt(h9);var p9=Ih,x9=Ar,g9=Km,y9=Cn;function m9(e,t){var n=y9(e)?p9:g9;return n(e,x9(t))}var b9=m9,v9=Ym,w9=b9;function S9(e,t){return v9(w9(e,t),1)}var A9=S9;const C9=dt(A9);var j9=$h;function E9(e,t){return j9(e,t)}var I9=E9;const Bs=dt(I9);var ca=1e9,O9={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},xp,_t=!0,Gn="[DecimalError] ",Pi=Gn+"Invalid argument: ",pp=Gn+"Exponent out of range: ",da=Math.floor,Ai=Math.pow,T9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Rn,Qt=1e7,It=7,Ub=9007199254740991,Fl=da(Ub/It),ke={};ke.absoluteValue=ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ke.comparedTo=ke.cmp=function(e){var t,n,r,a,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(r=l.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return r===a?0:r>a^l.s<0?1:-1};ke.decimalPlaces=ke.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*It;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ke.dividedBy=ke.div=function(e){return Pr(this,new this.constructor(e))};ke.dividedToIntegerBy=ke.idiv=function(e){var t=this,n=t.constructor;return mt(Pr(t,new n(e),0,1),n.precision)};ke.equals=ke.eq=function(e){return!this.cmp(e)};ke.exponent=function(){return Ft(this)};ke.greaterThan=ke.gt=function(e){return this.cmp(e)>0};ke.greaterThanOrEqualTo=ke.gte=function(e){return this.cmp(e)>=0};ke.isInteger=ke.isint=function(){return this.e>this.d.length-2};ke.isNegative=ke.isneg=function(){return this.s<0};ke.isPositive=ke.ispos=function(){return this.s>0};ke.isZero=function(){return this.s===0};ke.lessThan=ke.lt=function(e){return this.cmp(e)<0};ke.lessThanOrEqualTo=ke.lte=function(e){return this.cmp(e)<1};ke.logarithm=ke.log=function(e){var t,n=this,r=n.constructor,a=r.precision,l=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Rn))throw Error(Gn+"NaN");if(n.s<1)throw Error(Gn+(n.s?"NaN":"-Infinity"));return n.eq(Rn)?new r(0):(_t=!1,t=Pr(os(n,l),os(e,l),l),_t=!0,mt(t,a))};ke.minus=ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Gb(t,e):Vb(t,(e.s=-e.s,e))};ke.modulo=ke.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(Gn+"NaN");return n.s?(_t=!1,t=Pr(n,e,0,1).times(e),_t=!0,n.minus(t)):mt(new r(n),a)};ke.naturalExponential=ke.exp=function(){return Hb(this)};ke.naturalLogarithm=ke.ln=function(){return os(this)};ke.negated=ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ke.plus=ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Vb(t,e):Gb(t,(e.s=-e.s,e))};ke.precision=ke.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Pi+e);if(t=Ft(a)+1,r=a.d.length-1,n=r*It+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ke.squareRoot=ke.sqrt=function(){var e,t,n,r,a,l,u,h=this,x=h.constructor;if(h.s<1){if(!h.s)return new x(0);throw Error(Gn+"NaN")}for(e=Ft(h),_t=!1,a=Math.sqrt(+h),a==0||a==1/0?(t=hr(h.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=da((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new x(t)):r=new x(a.toString()),n=x.precision,a=u=n+3;;)if(l=r,r=l.plus(Pr(h,l,u+2)).times(.5),hr(l.d).slice(0,u)===(t=hr(r.d)).slice(0,u)){if(t=t.slice(u-3,u+1),a==u&&t=="4999"){if(mt(l,n+1,0),l.times(l).eq(h)){r=l;break}}else if(t!="9999")break;u+=4}return _t=!0,mt(r,n)};ke.times=ke.mul=function(e){var t,n,r,a,l,u,h,x,g,b=this,m=b.constructor,S=b.d,C=(e=new m(e)).d;if(!b.s||!e.s)return new m(0);for(e.s*=b.s,n=b.e+e.e,x=S.length,g=C.length,x<g&&(l=S,S=C,C=l,u=x,x=g,g=u),l=[],u=x+g,r=u;r--;)l.push(0);for(r=g;--r>=0;){for(t=0,a=x+r;a>r;)h=l[a]+C[r]*S[a-r-1]+t,l[a--]=h%Qt|0,t=h/Qt|0;l[a]=(l[a]+t)%Qt|0}for(;!l[--u];)l.pop();return t?++n:l.shift(),e.d=l,e.e=n,_t?mt(e,m.precision):e};ke.toDecimalPlaces=ke.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(br(e,0,ca),t===void 0?t=r.rounding:br(t,0,8),mt(n,e+Ft(n)+1,t))};ke.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Di(r,!0):(br(e,0,ca),t===void 0?t=a.rounding:br(t,0,8),r=mt(new a(r),e+1,t),n=Di(r,!0,e+1)),n};ke.toFixed=function(e,t){var n,r,a=this,l=a.constructor;return e===void 0?Di(a):(br(e,0,ca),t===void 0?t=l.rounding:br(t,0,8),r=mt(new l(a),e+Ft(a)+1,t),n=Di(r.abs(),!1,e+Ft(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};ke.toInteger=ke.toint=function(){var e=this,t=e.constructor;return mt(new t(e),Ft(e)+1,t.rounding)};ke.toNumber=function(){return+this};ke.toPower=ke.pow=function(e){var t,n,r,a,l,u,h=this,x=h.constructor,g=12,b=+(e=new x(e));if(!e.s)return new x(Rn);if(h=new x(h),!h.s){if(e.s<1)throw Error(Gn+"Infinity");return h}if(h.eq(Rn))return h;if(r=x.precision,e.eq(Rn))return mt(h,r);if(t=e.e,n=e.d.length-1,u=t>=n,l=h.s,u){if((n=b<0?-b:b)<=Ub){for(a=new x(Rn),t=Math.ceil(r/It+4),_t=!1;n%2&&(a=a.times(h),hx(a.d,t)),n=da(n/2),n!==0;)h=h.times(h),hx(h.d,t);return _t=!0,e.s<0?new x(Rn).div(a):mt(a,r)}}else if(l<0)throw Error(Gn+"NaN");return l=l<0&&e.d[Math.max(t,n)]&1?-1:1,h.s=1,_t=!1,a=e.times(os(h,r+g)),_t=!0,a=Hb(a),a.s=l,a};ke.toPrecision=function(e,t){var n,r,a=this,l=a.constructor;return e===void 0?(n=Ft(a),r=Di(a,n<=l.toExpNeg||n>=l.toExpPos)):(br(e,1,ca),t===void 0?t=l.rounding:br(t,0,8),a=mt(new l(a),e,t),n=Ft(a),r=Di(a,e<=n||n<=l.toExpNeg,e)),r};ke.toSignificantDigits=ke.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(br(e,1,ca),t===void 0?t=r.rounding:br(t,0,8)),mt(new r(n),e,t)};ke.toString=ke.valueOf=ke.val=ke.toJSON=ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ft(e),n=e.constructor;return Di(e,t<=n.toExpNeg||t>=n.toExpPos)};function Vb(e,t){var n,r,a,l,u,h,x,g,b=e.constructor,m=b.precision;if(!e.s||!t.s)return t.s||(t=new b(e)),_t?mt(t,m):t;if(x=e.d,g=t.d,u=e.e,a=t.e,x=x.slice(),l=u-a,l){for(l<0?(r=x,l=-l,h=g.length):(r=g,a=u,h=x.length),u=Math.ceil(m/It),h=u>h?u+1:h+1,l>h&&(l=h,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(h=x.length,l=g.length,h-l<0&&(l=h,r=g,g=x,x=r),n=0;l;)n=(x[--l]=x[l]+g[l]+n)/Qt|0,x[l]%=Qt;for(n&&(x.unshift(n),++a),h=x.length;x[--h]==0;)x.pop();return t.d=x,t.e=a,_t?mt(t,m):t}function br(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Pi+e)}function hr(e){var t,n,r,a=e.length-1,l="",u=e[0];if(a>0){for(l+=u,t=1;t<a;t++)r=e[t]+"",n=It-r.length,n&&(l+=Kr(n)),l+=r;u=e[t],r=u+"",n=It-r.length,n&&(l+=Kr(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return l+u}var Pr=function(){function e(r,a){var l,u=0,h=r.length;for(r=r.slice();h--;)l=r[h]*a+u,r[h]=l%Qt|0,u=l/Qt|0;return u&&r.unshift(u),r}function t(r,a,l,u){var h,x;if(l!=u)x=l>u?1:-1;else for(h=x=0;h<l;h++)if(r[h]!=a[h]){x=r[h]>a[h]?1:-1;break}return x}function n(r,a,l){for(var u=0;l--;)r[l]-=u,u=r[l]<a[l]?1:0,r[l]=u*Qt+r[l]-a[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,l,u){var h,x,g,b,m,S,C,I,j,E,R,_,T,P,A,N,k,W,F=r.constructor,ie=r.s==a.s?1:-1,H=r.d,Y=a.d;if(!r.s)return new F(r);if(!a.s)throw Error(Gn+"Division by zero");for(x=r.e-a.e,k=Y.length,A=H.length,C=new F(ie),I=C.d=[],g=0;Y[g]==(H[g]||0);)++g;if(Y[g]>(H[g]||0)&&--x,l==null?_=l=F.precision:u?_=l+(Ft(r)-Ft(a))+1:_=l,_<0)return new F(0);if(_=_/It+2|0,g=0,k==1)for(b=0,Y=Y[0],_++;(g<A||b)&&_--;g++)T=b*Qt+(H[g]||0),I[g]=T/Y|0,b=T%Y|0;else{for(b=Qt/(Y[0]+1)|0,b>1&&(Y=e(Y,b),H=e(H,b),k=Y.length,A=H.length),P=k,j=H.slice(0,k),E=j.length;E<k;)j[E++]=0;W=Y.slice(),W.unshift(0),N=Y[0],Y[1]>=Qt/2&&++N;do b=0,h=t(Y,j,k,E),h<0?(R=j[0],k!=E&&(R=R*Qt+(j[1]||0)),b=R/N|0,b>1?(b>=Qt&&(b=Qt-1),m=e(Y,b),S=m.length,E=j.length,h=t(m,j,S,E),h==1&&(b--,n(m,k<S?W:Y,S))):(b==0&&(h=b=1),m=Y.slice()),S=m.length,S<E&&m.unshift(0),n(j,m,E),h==-1&&(E=j.length,h=t(Y,j,k,E),h<1&&(b++,n(j,k<E?W:Y,E))),E=j.length):h===0&&(b++,j=[0]),I[g++]=b,h&&j[0]?j[E++]=H[P]||0:(j=[H[P]],E=1);while((P++<A||j[0]!==void 0)&&_--)}return I[0]||I.shift(),C.e=x,mt(C,u?l+Ft(C)+1:l)}}();function Hb(e,t){var n,r,a,l,u,h,x=0,g=0,b=e.constructor,m=b.precision;if(Ft(e)>16)throw Error(pp+Ft(e));if(!e.s)return new b(Rn);for(_t=!1,h=m,u=new b(.03125);e.abs().gte(.1);)e=e.times(u),g+=5;for(r=Math.log(Ai(2,g))/Math.LN10*2+5|0,h+=r,n=a=l=new b(Rn),b.precision=h;;){if(a=mt(a.times(e),h),n=n.times(++x),u=l.plus(Pr(a,n,h)),hr(u.d).slice(0,h)===hr(l.d).slice(0,h)){for(;g--;)l=mt(l.times(l),h);return b.precision=m,t==null?(_t=!0,mt(l,m)):l}l=u}}function Ft(e){for(var t=e.e*It,n=e.d[0];n>=10;n/=10)t++;return t}function xu(e,t,n){if(t>e.LN10.sd())throw _t=!0,n&&(e.precision=n),Error(Gn+"LN10 precision limit exceeded");return mt(new e(e.LN10),t)}function Kr(e){for(var t="";e--;)t+="0";return t}function os(e,t){var n,r,a,l,u,h,x,g,b,m=1,S=10,C=e,I=C.d,j=C.constructor,E=j.precision;if(C.s<1)throw Error(Gn+(C.s?"NaN":"-Infinity"));if(C.eq(Rn))return new j(0);if(t==null?(_t=!1,g=E):g=t,C.eq(10))return t==null&&(_t=!0),xu(j,g);if(g+=S,j.precision=g,n=hr(I),r=n.charAt(0),l=Ft(C),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)C=C.times(e),n=hr(C.d),r=n.charAt(0),m++;l=Ft(C),r>1?(C=new j("0."+n),l++):C=new j(r+"."+n.slice(1))}else return x=xu(j,g+2,E).times(l+""),C=os(new j(r+"."+n.slice(1)),g-S).plus(x),j.precision=E,t==null?(_t=!0,mt(C,E)):C;for(h=u=C=Pr(C.minus(Rn),C.plus(Rn),g),b=mt(C.times(C),g),a=3;;){if(u=mt(u.times(b),g),x=h.plus(Pr(u,new j(a),g)),hr(x.d).slice(0,g)===hr(h.d).slice(0,g))return h=h.times(2),l!==0&&(h=h.plus(xu(j,g+2,E).times(l+""))),h=Pr(h,new j(m),g),j.precision=E,t==null?(_t=!0,mt(h,E)):h;h=x,a+=2}}function fx(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=da(n/It),e.d=[],r=(n+1)%It,n<0&&(r+=It),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=It;r<a;)e.d.push(+t.slice(r,r+=It));t=t.slice(r),r=It-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),_t&&(e.e>Fl||e.e<-Fl))throw Error(pp+n)}else e.s=0,e.e=0,e.d=[0];return e}function mt(e,t,n){var r,a,l,u,h,x,g,b,m=e.d;for(u=1,l=m[0];l>=10;l/=10)u++;if(r=t-u,r<0)r+=It,a=t,g=m[b=0];else{if(b=Math.ceil((r+1)/It),l=m.length,b>=l)return e;for(g=l=m[b],u=1;l>=10;l/=10)u++;r%=It,a=r-It+u}if(n!==void 0&&(l=Ai(10,u-a-1),h=g/l%10|0,x=t<0||m[b+1]!==void 0||g%l,x=n<4?(h||x)&&(n==0||n==(e.s<0?3:2)):h>5||h==5&&(n==4||x||n==6&&(r>0?a>0?g/Ai(10,u-a):0:m[b-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return x?(l=Ft(e),m.length=1,t=t-l-1,m[0]=Ai(10,(It-t%It)%It),e.e=da(-t/It)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=b,l=1,b--):(m.length=b+1,l=Ai(10,It-r),m[b]=a>0?(g/Ai(10,u-a)%Ai(10,a)|0)*l:0),x)for(;;)if(b==0){(m[0]+=l)==Qt&&(m[0]=1,++e.e);break}else{if(m[b]+=l,m[b]!=Qt)break;m[b--]=0,l=1}for(r=m.length;m[--r]===0;)m.pop();if(_t&&(e.e>Fl||e.e<-Fl))throw Error(pp+Ft(e));return e}function Gb(e,t){var n,r,a,l,u,h,x,g,b,m,S=e.constructor,C=S.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new S(e),_t?mt(t,C):t;if(x=e.d,m=t.d,r=t.e,g=e.e,x=x.slice(),u=g-r,u){for(b=u<0,b?(n=x,u=-u,h=m.length):(n=m,r=g,h=x.length),a=Math.max(Math.ceil(C/It),h)+2,u>a&&(u=a,n.length=1),n.reverse(),a=u;a--;)n.push(0);n.reverse()}else{for(a=x.length,h=m.length,b=a<h,b&&(h=a),a=0;a<h;a++)if(x[a]!=m[a]){b=x[a]<m[a];break}u=0}for(b&&(n=x,x=m,m=n,t.s=-t.s),h=x.length,a=m.length-h;a>0;--a)x[h++]=0;for(a=m.length;a>u;){if(x[--a]<m[a]){for(l=a;l&&x[--l]===0;)x[l]=Qt-1;--x[l],x[a]+=Qt}x[a]-=m[a]}for(;x[--h]===0;)x.pop();for(;x[0]===0;x.shift())--r;return x[0]?(t.d=x,t.e=r,_t?mt(t,C):t):new S(0)}function Di(e,t,n){var r,a=Ft(e),l=hr(e.d),u=l.length;return t?(n&&(r=n-u)>0?l=l.charAt(0)+"."+l.slice(1)+Kr(r):u>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(a<0?"e":"e+")+a):a<0?(l="0."+Kr(-a-1)+l,n&&(r=n-u)>0&&(l+=Kr(r))):a>=u?(l+=Kr(a+1-u),n&&(r=n-a-1)>0&&(l=l+"."+Kr(r))):((r=a+1)<u&&(l=l.slice(0,r)+"."+l.slice(r)),n&&(r=n-u)>0&&(a+1===u&&(l+="."),l+=Kr(r))),e.s<0?"-"+l:l}function hx(e,t){if(e.length>t)return e.length=t,!0}function Xb(e){var t,n,r;function a(l){var u=this;if(!(u instanceof a))return new a(l);if(u.constructor=a,l instanceof a){u.s=l.s,u.e=l.e,u.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Pi+l);if(l>0)u.s=1;else if(l<0)l=-l,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(l===~~l&&l<1e7){u.e=0,u.d=[l];return}return fx(u,l.toString())}else if(typeof l!="string")throw Error(Pi+l);if(l.charCodeAt(0)===45?(l=l.slice(1),u.s=-1):u.s=1,T9.test(l))fx(u,l);else throw Error(Pi+l)}if(a.prototype=ke,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Xb,a.config=a.set=_9,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function _9(e){if(!e||typeof e!="object")throw Error(Gn+"Object expected");var t,n,r,a=["precision",1,ca,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(da(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Pi+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Pi+n+": "+r);return this}var xp=Xb(O9);Rn=new xp(1);const pt=xp;function R9(e){return M9(e)||k9(e)||N9(e)||P9()}function P9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N9(e,t){if(e){if(typeof e=="string")return gf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gf(e,t)}}function k9(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function M9(e){if(Array.isArray(e))return gf(e)}function gf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D9=function(t){return t},Yb={},qb=function(t){return t===Yb},px=function(t){return function n(){return arguments.length===0||arguments.length===1&&qb(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},B9=function e(t,n){return t===1?n:px(function(){for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];var u=a.filter(function(h){return h!==Yb}).length;return u>=t?n.apply(void 0,a):e(t-u,px(function(){for(var h=arguments.length,x=new Array(h),g=0;g<h;g++)x[g]=arguments[g];var b=a.map(function(m){return qb(m)?x.shift():m});return n.apply(void 0,R9(b).concat(x))}))})},ld=function(t){return B9(t.length,t)},yf=function(t,n){for(var r=[],a=t;a<n;++a)r[a-t]=a;return r},z9=ld(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),L9=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return D9;var a=n.reverse(),l=a[0],u=a.slice(1);return function(){return u.reduce(function(h,x){return x(h)},l.apply(void 0,arguments))}},mf=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Kb=function(t){var n=null,r=null;return function(){for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return n&&l.every(function(h,x){return h===n[x]})||(n=l,r=t.apply(void 0,l)),r}};function W9(e){var t;return e===0?t=1:t=Math.floor(new pt(e).abs().log(10).toNumber())+1,t}function F9(e,t,n){for(var r=new pt(e),a=0,l=[];r.lt(t)&&a<1e5;)l.push(r.toNumber()),r=r.add(n),a++;return l}var $9=ld(function(e,t,n){var r=+e,a=+t;return r+n*(a-r)}),U9=ld(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),V9=ld(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const cd={rangeStep:F9,getDigitCount:W9,interpolateNumber:$9,uninterpolateNumber:U9,uninterpolateTruncation:V9};function bf(e){return X9(e)||G9(e)||Zb(e)||H9()}function H9(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G9(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function X9(e){if(Array.isArray(e))return vf(e)}function as(e,t){return K9(e)||q9(e,t)||Zb(e,t)||Y9()}function Y9(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zb(e,t){if(e){if(typeof e=="string")return vf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vf(e,t)}}function vf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q9(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,a=!1,l=void 0;try{for(var u=e[Symbol.iterator](),h;!(r=(h=u.next()).done)&&(n.push(h.value),!(t&&n.length===t));r=!0);}catch(x){a=!0,l=x}finally{try{!r&&u.return!=null&&u.return()}finally{if(a)throw l}}return n}}function K9(e){if(Array.isArray(e))return e}function Qb(e){var t=as(e,2),n=t[0],r=t[1],a=n,l=r;return n>r&&(a=r,l=n),[a,l]}function Jb(e,t,n){if(e.lte(0))return new pt(0);var r=cd.getDigitCount(e.toNumber()),a=new pt(10).pow(r),l=e.div(a),u=r!==1?.05:.1,h=new pt(Math.ceil(l.div(u).toNumber())).add(n).mul(u),x=h.mul(a);return t?x:new pt(Math.ceil(x))}function Z9(e,t,n){var r=1,a=new pt(e);if(!a.isint()&&n){var l=Math.abs(e);l<1?(r=new pt(10).pow(cd.getDigitCount(e)-1),a=new pt(Math.floor(a.div(r).toNumber())).mul(r)):l>1&&(a=new pt(Math.floor(e)))}else e===0?a=new pt(Math.floor((t-1)/2)):n||(a=new pt(Math.floor(e)));var u=Math.floor((t-1)/2),h=L9(z9(function(x){return a.add(new pt(x-u).mul(r)).toNumber()}),yf);return h(0,t)}function ev(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new pt(0),tickMin:new pt(0),tickMax:new pt(0)};var l=Jb(new pt(t).sub(e).div(n-1),r,a),u;e<=0&&t>=0?u=new pt(0):(u=new pt(e).add(t).div(2),u=u.sub(new pt(u).mod(l)));var h=Math.ceil(u.sub(e).div(l).toNumber()),x=Math.ceil(new pt(t).sub(u).div(l).toNumber()),g=h+x+1;return g>n?ev(e,t,n,r,a+1):(g<n&&(x=t>0?x+(n-g):x,h=t>0?h:h+(n-g)),{step:l,tickMin:u.sub(new pt(h).mul(l)),tickMax:u.add(new pt(x).mul(l))})}function Q9(e){var t=as(e,2),n=t[0],r=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=Math.max(a,2),h=Qb([n,r]),x=as(h,2),g=x[0],b=x[1];if(g===-1/0||b===1/0){var m=b===1/0?[g].concat(bf(yf(0,a-1).map(function(){return 1/0}))):[].concat(bf(yf(0,a-1).map(function(){return-1/0})),[b]);return n>r?mf(m):m}if(g===b)return Z9(g,a,l);var S=ev(g,b,u,l),C=S.step,I=S.tickMin,j=S.tickMax,E=cd.rangeStep(I,j.add(new pt(.1).mul(C)),C);return n>r?mf(E):E}function J9(e,t){var n=as(e,2),r=n[0],a=n[1],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=Qb([r,a]),h=as(u,2),x=h[0],g=h[1];if(x===-1/0||g===1/0)return[r,a];if(x===g)return[x];var b=Math.max(t,2),m=Jb(new pt(g).sub(x).div(b-1),l,0),S=[].concat(bf(cd.rangeStep(new pt(x),new pt(g).sub(new pt(.99).mul(m)),m)),[g]);return r>a?mf(S):S}var ek=Kb(Q9),tk=Kb(J9),nk="Invariant failed";function Bi(e,t){throw new Error(nk)}var rk=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function No(e){"@babel/helpers - typeof";return No=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},No(e)}function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$l.apply(this,arguments)}function ik(e,t){return lk(e)||sk(e,t)||ak(e,t)||ok()}function ok(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ak(e,t){if(e){if(typeof e=="string")return xx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xx(e,t)}}function xx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sk(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,l,u,h=[],x=!0,g=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(x=(r=l.call(n)).done)&&(h.push(r.value),h.length!==t);x=!0);}catch(b){g=!0,a=b}finally{try{if(!x&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(g)throw a}}return h}}function lk(e){if(Array.isArray(e))return e}function ck(e,t){if(e==null)return{};var n=dk(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dk(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function uk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rv(r.key),r)}}function hk(e,t,n){return t&&fk(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pk(e,t,n){return t=Ul(t),xk(e,tv()?Reflect.construct(t,n||[],Ul(e).constructor):t.apply(e,n))}function xk(e,t){if(t&&(No(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gk(e)}function gk(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tv=function(){return!!e})()}function Ul(e){return Ul=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ul(e)}function yk(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wf(e,t)}function wf(e,t){return wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},wf(e,t)}function nv(e,t,n){return t=rv(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rv(e){var t=mk(e,"string");return No(t)=="symbol"?t:t+""}function mk(e,t){if(No(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(No(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zs=function(e){function t(){return uk(this,t),pk(this,t,arguments)}return yk(t,e),hk(t,[{key:"render",value:function(){var r=this.props,a=r.offset,l=r.layout,u=r.width,h=r.dataKey,x=r.data,g=r.dataPointFormatter,b=r.xAxis,m=r.yAxis,S=ck(r,rk),C=$e(S,!1);this.props.direction==="x"&&b.type!=="number"&&Bi();var I=x.map(function(j){var E=g(j,h),R=E.x,_=E.y,T=E.value,P=E.errorVal;if(!P)return null;var A=[],N,k;if(Array.isArray(P)){var W=ik(P,2);N=W[0],k=W[1]}else N=k=P;if(l==="vertical"){var F=b.scale,ie=_+a,H=ie+u,Y=ie-u,re=F(T-N),ae=F(T+k);A.push({x1:ae,y1:H,x2:ae,y2:Y}),A.push({x1:re,y1:ie,x2:ae,y2:ie}),A.push({x1:re,y1:H,x2:re,y2:Y})}else if(l==="horizontal"){var L=m.scale,G=R+a,ee=G-u,ue=G+u,$=L(T-N),B=L(T+k);A.push({x1:ee,y1:B,x2:ue,y2:B}),A.push({x1:G,y1:$,x2:G,y2:B}),A.push({x1:ee,y1:$,x2:ue,y2:$})}return Q.createElement(it,$l({className:"recharts-errorBar",key:"bar-".concat(A.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},C),A.map(function(q){return Q.createElement("line",$l({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return Q.createElement(it,{className:"recharts-errorBars"},I)}}])}(Q.Component);nv(zs,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});nv(zs,"displayName","ErrorBar");function ss(e){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ss(e)}function gx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gx(Object(n),!0).forEach(function(r){bk(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bk(e,t,n){return t=vk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vk(e){var t=wk(e,"string");return ss(t)=="symbol"?t:t+""}function wk(e,t){if(ss(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iv=function(t){var n=t.children,r=t.formattedGraphicalItems,a=t.legendWidth,l=t.legendContent,u=Tn(n,ei);if(!u)return null;var h=ei.defaultProps,x=h!==void 0?yi(yi({},h),u.props):{},g;return u.props&&u.props.payload?g=u.props&&u.props.payload:l==="children"?g=(r||[]).reduce(function(b,m){var S=m.item,C=m.props,I=C.sectors||C.data||[];return b.concat(I.map(function(j){return{type:u.props.iconType||S.props.legendType,value:j.name,color:j.fill,payload:j}}))},[]):g=(r||[]).map(function(b){var m=b.item,S=m.type.defaultProps,C=S!==void 0?yi(yi({},S),m.props):{},I=C.dataKey,j=C.name,E=C.legendType,R=C.hide;return{inactive:R,dataKey:I,type:x.iconType||E||"square",color:gp(m),value:j||I,payload:C}}),yi(yi(yi({},x),ei.getWithHeight(u,a)),{},{payload:g,item:u})};function ls(e){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function yx(e){return jk(e)||Ck(e)||Ak(e)||Sk()}function Sk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ak(e,t){if(e){if(typeof e=="string")return Sf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sf(e,t)}}function Ck(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jk(e){if(Array.isArray(e))return Sf(e)}function Sf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mx(Object(n),!0).forEach(function(r){yo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yo(e,t,n){return t=Ek(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ek(e){var t=Ik(e,"string");return ls(t)=="symbol"?t:t+""}function Ik(e,t){if(ls(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xt(e,t,n){return Ye(e)||Ye(t)?n:Yt(t)?kn(e,t,n):Ge(t)?t(e):n}function La(e,t,n,r){var a=C9(e,function(h){return Xt(h,t)});if(n==="number"){var l=a.filter(function(h){return Ce(h)||parseFloat(h)});return l.length?[sd(l),ad(l)]:[1/0,-1/0]}var u=r?a.filter(function(h){return!Ye(h)}):a;return u.map(function(h){return Yt(h)||h instanceof Date?h:""})}var Ok=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,u=-1,h=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(h<=1)return 0;if(l&&l.axisType==="angleAxis"&&Math.abs(Math.abs(l.range[1]-l.range[0])-360)<=1e-6)for(var x=l.range,g=0;g<h;g++){var b=g>0?a[g-1].coordinate:a[h-1].coordinate,m=a[g].coordinate,S=g>=h-1?a[0].coordinate:a[g+1].coordinate,C=void 0;if(pn(m-b)!==pn(S-m)){var I=[];if(pn(S-m)===pn(x[1]-x[0])){C=S;var j=m+x[1]-x[0];I[0]=Math.min(j,(j+b)/2),I[1]=Math.max(j,(j+b)/2)}else{C=b;var E=S+x[1]-x[0];I[0]=Math.min(m,(E+m)/2),I[1]=Math.max(m,(E+m)/2)}var R=[Math.min(m,(C+m)/2),Math.max(m,(C+m)/2)];if(t>R[0]&&t<=R[1]||t>=I[0]&&t<=I[1]){u=a[g].index;break}}else{var _=Math.min(b,S),T=Math.max(b,S);if(t>(_+m)/2&&t<=(T+m)/2){u=a[g].index;break}}}else for(var P=0;P<h;P++)if(P===0&&t<=(r[P].coordinate+r[P+1].coordinate)/2||P>0&&P<h-1&&t>(r[P].coordinate+r[P-1].coordinate)/2&&t<=(r[P].coordinate+r[P+1].coordinate)/2||P===h-1&&t>(r[P].coordinate+r[P-1].coordinate)/2){u=r[P].index;break}return u},gp=function(t){var n,r=t,a=r.type.displayName,l=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Bt(Bt({},t.type.defaultProps),t.props):t.props,u=l.stroke,h=l.fill,x;switch(a){case"Line":x=u;break;case"Area":case"Radar":x=u&&u!=="none"?u:h;break;default:x=h;break}return x},Tk=function(t){var n=t.barSize,r=t.totalSize,a=t.stackGroups,l=a===void 0?{}:a;if(!l)return{};for(var u={},h=Object.keys(l),x=0,g=h.length;x<g;x++)for(var b=l[h[x]].stackGroups,m=Object.keys(b),S=0,C=m.length;S<C;S++){var I=b[m[S]],j=I.items,E=I.cateAxisId,R=j.filter(function(k){return Rr(k.type).indexOf("Bar")>=0});if(R&&R.length){var _=R[0].type.defaultProps,T=_!==void 0?Bt(Bt({},_),R[0].props):R[0].props,P=T.barSize,A=T[E];u[A]||(u[A]=[]);var N=Ye(P)?n:P;u[A].push({item:R[0],stackList:R.slice(1),barSize:Ye(N)?void 0:xn(N,r,0)})}}return u},_k=function(t){var n=t.barGap,r=t.barCategoryGap,a=t.bandSize,l=t.sizeList,u=l===void 0?[]:l,h=t.maxBarSize,x=u.length;if(x<1)return null;var g=xn(n,a,0,!0),b,m=[];if(u[0].barSize===+u[0].barSize){var S=!1,C=a/x,I=u.reduce(function(P,A){return P+A.barSize||0},0);I+=(x-1)*g,I>=a&&(I-=(x-1)*g,g=0),I>=a&&C>0&&(S=!0,C*=.9,I=x*C);var j=(a-I)/2>>0,E={offset:j-g,size:0};b=u.reduce(function(P,A){var N={item:A.item,position:{offset:E.offset+E.size+g,size:S?C:A.barSize}},k=[].concat(yx(P),[N]);return E=k[k.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(W){k.push({item:W,position:E})}),k},m)}else{var R=xn(r,a,0,!0);a-2*R-(x-1)*g<=0&&(g=0);var _=(a-2*R-(x-1)*g)/x;_>1&&(_>>=0);var T=h===+h?Math.min(_,h):_;b=u.reduce(function(P,A,N){var k=[].concat(yx(P),[{item:A.item,position:{offset:R+(_+g)*N+(_-T)/2,size:T}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(W){k.push({item:W,position:k[k.length-1].position})}),k},m)}return b},Rk=function(t,n,r,a){var l=r.children,u=r.width,h=r.margin,x=u-(h.left||0)-(h.right||0),g=iv({children:l,legendWidth:x});if(g){var b=a||{},m=b.width,S=b.height,C=g.align,I=g.verticalAlign,j=g.layout;if((j==="vertical"||j==="horizontal"&&I==="middle")&&C!=="center"&&Ce(t[C]))return Bt(Bt({},t),{},yo({},C,t[C]+(m||0)));if((j==="horizontal"||j==="vertical"&&C==="center")&&I!=="middle"&&Ce(t[I]))return Bt(Bt({},t),{},yo({},I,t[I]+(S||0)))}return t},Pk=function(t,n,r){return Ye(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},ov=function(t,n,r,a,l){var u=n.props.children,h=Mn(u,zs).filter(function(g){return Pk(a,l,g.props.direction)});if(h&&h.length){var x=h.map(function(g){return g.props.dataKey});return t.reduce(function(g,b){var m=Xt(b,r);if(Ye(m))return g;var S=Array.isArray(m)?[sd(m),ad(m)]:[m,m],C=x.reduce(function(I,j){var E=Xt(b,j,0),R=S[0]-Math.abs(Array.isArray(E)?E[0]:E),_=S[1]+Math.abs(Array.isArray(E)?E[1]:E);return[Math.min(R,I[0]),Math.max(_,I[1])]},[1/0,-1/0]);return[Math.min(C[0],g[0]),Math.max(C[1],g[1])]},[1/0,-1/0])}return null},Nk=function(t,n,r,a,l){var u=n.map(function(h){return ov(t,h,r,l,a)}).filter(function(h){return!Ye(h)});return u&&u.length?u.reduce(function(h,x){return[Math.min(h[0],x[0]),Math.max(h[1],x[1])]},[1/0,-1/0]):null},av=function(t,n,r,a,l){var u=n.map(function(x){var g=x.props.dataKey;return r==="number"&&g&&ov(t,x,g,a)||La(t,g,r,l)});if(r==="number")return u.reduce(function(x,g){return[Math.min(x[0],g[0]),Math.max(x[1],g[1])]},[1/0,-1/0]);var h={};return u.reduce(function(x,g){for(var b=0,m=g.length;b<m;b++)h[g[b]]||(h[g[b]]=!0,x.push(g[b]));return x},[])},sv=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},lv=function(t,n,r,a){if(a)return t.map(function(x){return x.coordinate});var l,u,h=t.map(function(x){return x.coordinate===n&&(l=!0),x.coordinate===r&&(u=!0),x.coordinate});return l||h.push(n),u||h.push(r),h},_r=function(t,n,r){if(!t)return null;var a=t.scale,l=t.duplicateDomain,u=t.type,h=t.range,x=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,g=(n||r)&&u==="category"&&a.bandwidth?a.bandwidth()/x:0;if(g=t.axisType==="angleAxis"&&(h==null?void 0:h.length)>=2?pn(h[0]-h[1])*2*g:g,n&&(t.ticks||t.niceTicks)){var b=(t.ticks||t.niceTicks).map(function(m){var S=l?l.indexOf(m):m;return{coordinate:a(S)+g,value:m,offset:g}});return b.filter(function(m){return!Rs(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,S){return{coordinate:a(m)+g,value:m,index:S,offset:g}}):a.ticks&&!r?a.ticks(t.tickCount).map(function(m){return{coordinate:a(m)+g,value:m,offset:g}}):a.domain().map(function(m,S){return{coordinate:a(m)+g,value:l?l[m]:m,index:S,offset:g}})},gu=new WeakMap,il=function(t,n){if(typeof n!="function")return t;gu.has(t)||gu.set(t,new WeakMap);var r=gu.get(t);if(r.has(n))return r.get(n);var a=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,a),a},cv=function(t,n,r){var a=t.scale,l=t.type,u=t.layout,h=t.axisType;if(a==="auto")return u==="radial"&&h==="radiusAxis"?{scale:es(),realScaleType:"band"}:u==="radial"&&h==="angleAxis"?{scale:Bl(),realScaleType:"linear"}:l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:za(),realScaleType:"point"}:l==="category"?{scale:es(),realScaleType:"band"}:{scale:Bl(),realScaleType:"linear"};if(Ni(a)){var x="scale".concat(Hc(a));return{scale:(ux[x]||za)(),realScaleType:ux[x]?x:"point"}}return Ge(a)?{scale:a}:{scale:za(),realScaleType:"point"}},bx=1e-4,dv=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,a=t.range(),l=Math.min(a[0],a[1])-bx,u=Math.max(a[0],a[1])+bx,h=t(n[0]),x=t(n[r-1]);(h<l||h>u||x<l||x>u)&&t.domain([n[0],n[r-1]])}},kk=function(t,n){if(!t)return null;for(var r=0,a=t.length;r<a;r++)if(t[r].item===n)return t[r].position;return null},Mk=function(t,n){if(!n||n.length!==2||!Ce(n[0])||!Ce(n[1]))return t;var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),l=[t[0],t[1]];return(!Ce(t[0])||t[0]<r)&&(l[0]=r),(!Ce(t[1])||t[1]>a)&&(l[1]=a),l[0]>a&&(l[0]=a),l[1]<r&&(l[1]=r),l},Dk=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var l=0,u=0,h=0;h<n;++h){var x=Rs(t[h][r][1])?t[h][r][0]:t[h][r][1];x>=0?(t[h][r][0]=l,t[h][r][1]=l+x,l=t[h][r][1]):(t[h][r][0]=u,t[h][r][1]=u+x,u=t[h][r][1])}},Bk=function(t){var n=t.length;if(!(n<=0))for(var r=0,a=t[0].length;r<a;++r)for(var l=0,u=0;u<n;++u){var h=Rs(t[u][r][1])?t[u][r][0]:t[u][r][1];h>=0?(t[u][r][0]=l,t[u][r][1]=l+h,l=t[u][r][1]):(t[u][r][0]=0,t[u][r][1]=0)}},zk={sign:Dk,expand:rj,none:jo,silhouette:ij,wiggle:oj,positive:Bk},Lk=function(t,n,r){var a=n.map(function(h){return h.props.dataKey}),l=zk[r],u=nj().keys(a).value(function(h,x){return+Xt(h,x,0)}).order(Gu).offset(l);return u(t)},Wk=function(t,n,r,a,l,u){if(!t)return null;var h=u?n.reverse():n,x={},g=h.reduce(function(m,S){var C,I=(C=S.type)!==null&&C!==void 0&&C.defaultProps?Bt(Bt({},S.type.defaultProps),S.props):S.props,j=I.stackId,E=I.hide;if(E)return m;var R=I[r],_=m[R]||{hasStack:!1,stackGroups:{}};if(Yt(j)){var T=_.stackGroups[j]||{numericAxisId:r,cateAxisId:a,items:[]};T.items.push(S),_.hasStack=!0,_.stackGroups[j]=T}else _.stackGroups[ia("_stackId_")]={numericAxisId:r,cateAxisId:a,items:[S]};return Bt(Bt({},m),{},yo({},R,_))},x),b={};return Object.keys(g).reduce(function(m,S){var C=g[S];if(C.hasStack){var I={};C.stackGroups=Object.keys(C.stackGroups).reduce(function(j,E){var R=C.stackGroups[E];return Bt(Bt({},j),{},yo({},E,{numericAxisId:r,cateAxisId:a,items:R.items,stackedData:Lk(t,R.items,l)}))},I)}return Bt(Bt({},m),{},yo({},S,C))},b)},uv=function(t,n){var r=n.realScaleType,a=n.type,l=n.tickCount,u=n.originalDomain,h=n.allowDecimals,x=r||n.scale;if(x!=="auto"&&x!=="linear")return null;if(l&&a==="number"&&u&&(u[0]==="auto"||u[1]==="auto")){var g=t.domain();if(!g.length)return null;var b=ek(g,l,h);return t.domain([sd(b),ad(b)]),{niceTicks:b}}if(l&&a==="number"){var m=t.domain(),S=tk(m,l,h);return{niceTicks:S}}return null};function vx(e){var t=e.axis,n=e.ticks,r=e.bandSize,a=e.entry,l=e.index,u=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ye(a[t.dataKey])){var h=gl(n,"value",a[t.dataKey]);if(h)return h.coordinate+r/2}return n[l]?n[l].coordinate+r/2:null}var x=Xt(a,Ye(u)?t.dataKey:u);return Ye(x)?null:t.scale(x)}var wx=function(t){var n=t.axis,r=t.ticks,a=t.offset,l=t.bandSize,u=t.entry,h=t.index;if(n.type==="category")return r[h]?r[h].coordinate+a:null;var x=Xt(u,n.dataKey,n.domain[h]);return Ye(x)?null:n.scale(x)-l/2+a},Fk=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var a=Math.min(r[0],r[1]),l=Math.max(r[0],r[1]);return a<=0&&l>=0?0:l<0?l:a}return r[0]},$k=function(t,n){var r,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Bt(Bt({},t.type.defaultProps),t.props):t.props,l=a.stackId;if(Yt(l)){var u=n[l];if(u){var h=u.items.indexOf(t);return h>=0?u.stackedData[h]:null}}return null},Uk=function(t){return t.reduce(function(n,r){return[sd(r.concat([n[0]]).filter(Ce)),ad(r.concat([n[1]]).filter(Ce))]},[1/0,-1/0])},fv=function(t,n,r){return Object.keys(t).reduce(function(a,l){var u=t[l],h=u.stackedData,x=h.reduce(function(g,b){var m=Uk(b.slice(n,r+1));return[Math.min(g[0],m[0]),Math.max(g[1],m[1])]},[1/0,-1/0]);return[Math.min(x[0],a[0]),Math.max(x[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},Sx=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ax=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Af=function(t,n,r){if(Ge(t))return t(n,r);if(!Array.isArray(t))return n;var a=[];if(Ce(t[0]))a[0]=r?t[0]:Math.min(t[0],n[0]);else if(Sx.test(t[0])){var l=+Sx.exec(t[0])[1];a[0]=n[0]-l}else Ge(t[0])?a[0]=t[0](n[0]):a[0]=n[0];if(Ce(t[1]))a[1]=r?t[1]:Math.max(t[1],n[1]);else if(Ax.test(t[1])){var u=+Ax.exec(t[1])[1];a[1]=n[1]+u}else Ge(t[1])?a[1]=t[1](n[1]):a[1]=n[1];return a},Vl=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!r||a>0)return a}if(t&&n&&n.length>=2){for(var l=Vh(n,function(m){return m.coordinate}),u=1/0,h=1,x=l.length;h<x;h++){var g=l[h],b=l[h-1];u=Math.min((g.coordinate||0)-(b.coordinate||0),u)}return u===1/0?0:u}return r?void 0:0},Cx=function(t,n,r){return!t||!t.length||Bs(t,kn(r,"type.defaultProps.domain"))?n:t},hv=function(t,n){var r=t.type.defaultProps?Bt(Bt({},t.type.defaultProps),t.props):t.props,a=r.dataKey,l=r.name,u=r.unit,h=r.formatter,x=r.tooltipType,g=r.chartType,b=r.hide;return Bt(Bt({},$e(t,!1)),{},{dataKey:a,unit:u,formatter:h,name:l||a,color:gp(t),value:Xt(n,a),type:x,payload:n,chartType:g,hide:b})};function cs(e){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(e)}function jx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jx(Object(n),!0).forEach(function(r){pv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pv(e,t,n){return t=Vk(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vk(e){var t=Hk(e,"string");return cs(t)=="symbol"?t:t+""}function Hk(e,t){if(cs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gk(e,t){return Kk(e)||qk(e,t)||Yk(e,t)||Xk()}function Xk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yk(e,t){if(e){if(typeof e=="string")return Ex(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ex(e,t)}}function Ex(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qk(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,l,u,h=[],x=!0,g=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(x=(r=l.call(n)).done)&&(h.push(r.value),h.length!==t);x=!0);}catch(b){g=!0,a=b}finally{try{if(!x&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(g)throw a}}return h}}function Kk(e){if(Array.isArray(e))return e}var Hl=Math.PI/180,Zk=function(t){return t*180/Math.PI},St=function(t,n,r,a){return{x:t+Math.cos(-Hl*a)*r,y:n+Math.sin(-Hl*a)*r}},xv=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Qk=function(t,n,r,a,l){var u=t.width,h=t.height,x=t.startAngle,g=t.endAngle,b=xn(t.cx,u,u/2),m=xn(t.cy,h,h/2),S=xv(u,h,r),C=xn(t.innerRadius,S,0),I=xn(t.outerRadius,S,S*.8),j=Object.keys(n);return j.reduce(function(E,R){var _=n[R],T=_.domain,P=_.reversed,A;if(Ye(_.range))a==="angleAxis"?A=[x,g]:a==="radiusAxis"&&(A=[C,I]),P&&(A=[A[1],A[0]]);else{A=_.range;var N=A,k=Gk(N,2);x=k[0],g=k[1]}var W=cv(_,l),F=W.realScaleType,ie=W.scale;ie.domain(T).range(A),dv(ie);var H=uv(ie,Er(Er({},_),{},{realScaleType:F})),Y=Er(Er(Er({},_),H),{},{range:A,radius:I,realScaleType:F,scale:ie,cx:b,cy:m,innerRadius:C,outerRadius:I,startAngle:x,endAngle:g});return Er(Er({},E),{},pv({},R,Y))},{})},Jk=function(t,n){var r=t.x,a=t.y,l=n.x,u=n.y;return Math.sqrt(Math.pow(r-l,2)+Math.pow(a-u,2))},eM=function(t,n){var r=t.x,a=t.y,l=n.cx,u=n.cy,h=Jk({x:r,y:a},{x:l,y:u});if(h<=0)return{radius:h};var x=(r-l)/h,g=Math.acos(x);return a>u&&(g=2*Math.PI-g),{radius:h,angle:Zk(g),angleInRadian:g}},tM=function(t){var n=t.startAngle,r=t.endAngle,a=Math.floor(n/360),l=Math.floor(r/360),u=Math.min(a,l);return{startAngle:n-u*360,endAngle:r-u*360}},nM=function(t,n){var r=n.startAngle,a=n.endAngle,l=Math.floor(r/360),u=Math.floor(a/360),h=Math.min(l,u);return t+h*360},Ix=function(t,n){var r=t.x,a=t.y,l=eM({x:r,y:a},n),u=l.radius,h=l.angle,x=n.innerRadius,g=n.outerRadius;if(u<x||u>g)return!1;if(u===0)return!0;var b=tM(n),m=b.startAngle,S=b.endAngle,C=h,I;if(m<=S){for(;C>S;)C-=360;for(;C<m;)C+=360;I=C>=m&&C<=S}else{for(;C>m;)C-=360;for(;C<S;)C+=360;I=C>=S&&C<=m}return I?Er(Er({},n),{},{radius:u,angle:nM(C,n)}):null},gv=function(t){return!X.isValidElement(t)&&!Ge(t)&&typeof t!="boolean"?t.className:""};function ds(e){"@babel/helpers - typeof";return ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}var rM=["offset"];function iM(e){return lM(e)||sM(e)||aM(e)||oM()}function oM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aM(e,t){if(e){if(typeof e=="string")return Cf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cf(e,t)}}function sM(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lM(e){if(Array.isArray(e))return Cf(e)}function Cf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function cM(e,t){if(e==null)return{};var n=dM(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dM(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ox(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ox(Object(n),!0).forEach(function(r){uM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ox(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uM(e,t,n){return t=fM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fM(e){var t=hM(e,"string");return ds(t)=="symbol"?t:t+""}function hM(e,t){if(ds(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ds(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},us.apply(this,arguments)}var pM=function(t){var n=t.value,r=t.formatter,a=Ye(t.children)?n:t.children;return Ge(r)?r(a):a},xM=function(t,n){var r=pn(n-t),a=Math.min(Math.abs(n-t),360);return r*a},gM=function(t,n,r){var a=t.position,l=t.viewBox,u=t.offset,h=t.className,x=l,g=x.cx,b=x.cy,m=x.innerRadius,S=x.outerRadius,C=x.startAngle,I=x.endAngle,j=x.clockWise,E=(m+S)/2,R=xM(C,I),_=R>=0?1:-1,T,P;a==="insideStart"?(T=C+_*u,P=j):a==="insideEnd"?(T=I-_*u,P=!j):a==="end"&&(T=I+_*u,P=j),P=R<=0?P:!P;var A=St(g,b,E,T),N=St(g,b,E,T+(P?1:-1)*359),k="M".concat(A.x,",").concat(A.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(P?0:1,`,
    `).concat(N.x,",").concat(N.y),W=Ye(t.id)?ia("recharts-radial-line-"):t.id;return Q.createElement("text",us({},r,{dominantBaseline:"central",className:Ke("recharts-radial-bar-label",h)}),Q.createElement("defs",null,Q.createElement("path",{id:W,d:k})),Q.createElement("textPath",{xlinkHref:"#".concat(W)},n))},yM=function(t){var n=t.viewBox,r=t.offset,a=t.position,l=n,u=l.cx,h=l.cy,x=l.innerRadius,g=l.outerRadius,b=l.startAngle,m=l.endAngle,S=(b+m)/2;if(a==="outside"){var C=St(u,h,g+r,S),I=C.x,j=C.y;return{x:I,y:j,textAnchor:I>=u?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:u,y:h,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:u,y:h,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:u,y:h,textAnchor:"middle",verticalAnchor:"end"};var E=(x+g)/2,R=St(u,h,E,S),_=R.x,T=R.y;return{x:_,y:T,textAnchor:"middle",verticalAnchor:"middle"}},mM=function(t){var n=t.viewBox,r=t.parentViewBox,a=t.offset,l=t.position,u=n,h=u.x,x=u.y,g=u.width,b=u.height,m=b>=0?1:-1,S=m*a,C=m>0?"end":"start",I=m>0?"start":"end",j=g>=0?1:-1,E=j*a,R=j>0?"end":"start",_=j>0?"start":"end";if(l==="top"){var T={x:h+g/2,y:x-m*a,textAnchor:"middle",verticalAnchor:C};return Gt(Gt({},T),r?{height:Math.max(x-r.y,0),width:g}:{})}if(l==="bottom"){var P={x:h+g/2,y:x+b+S,textAnchor:"middle",verticalAnchor:I};return Gt(Gt({},P),r?{height:Math.max(r.y+r.height-(x+b),0),width:g}:{})}if(l==="left"){var A={x:h-E,y:x+b/2,textAnchor:R,verticalAnchor:"middle"};return Gt(Gt({},A),r?{width:Math.max(A.x-r.x,0),height:b}:{})}if(l==="right"){var N={x:h+g+E,y:x+b/2,textAnchor:_,verticalAnchor:"middle"};return Gt(Gt({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:b}:{})}var k=r?{width:g,height:b}:{};return l==="insideLeft"?Gt({x:h+E,y:x+b/2,textAnchor:_,verticalAnchor:"middle"},k):l==="insideRight"?Gt({x:h+g-E,y:x+b/2,textAnchor:R,verticalAnchor:"middle"},k):l==="insideTop"?Gt({x:h+g/2,y:x+S,textAnchor:"middle",verticalAnchor:I},k):l==="insideBottom"?Gt({x:h+g/2,y:x+b-S,textAnchor:"middle",verticalAnchor:C},k):l==="insideTopLeft"?Gt({x:h+E,y:x+S,textAnchor:_,verticalAnchor:I},k):l==="insideTopRight"?Gt({x:h+g-E,y:x+S,textAnchor:R,verticalAnchor:I},k):l==="insideBottomLeft"?Gt({x:h+E,y:x+b-S,textAnchor:_,verticalAnchor:C},k):l==="insideBottomRight"?Gt({x:h+g-E,y:x+b-S,textAnchor:R,verticalAnchor:C},k):ea(l)&&(Ce(l.x)||ji(l.x))&&(Ce(l.y)||ji(l.y))?Gt({x:h+xn(l.x,g),y:x+xn(l.y,b),textAnchor:"end",verticalAnchor:"end"},k):Gt({x:h+g/2,y:x+b/2,textAnchor:"middle",verticalAnchor:"middle"},k)},bM=function(t){return"cx"in t&&Ce(t.cx)};function Jt(e){var t=e.offset,n=t===void 0?5:t,r=cM(e,rM),a=Gt({offset:n},r),l=a.viewBox,u=a.position,h=a.value,x=a.children,g=a.content,b=a.className,m=b===void 0?"":b,S=a.textBreakAll;if(!l||Ye(h)&&Ye(x)&&!X.isValidElement(g)&&!Ge(g))return null;if(X.isValidElement(g))return X.cloneElement(g,a);var C;if(Ge(g)){if(C=X.createElement(g,a),X.isValidElement(C))return C}else C=pM(a);var I=bM(l),j=$e(a,!0);if(I&&(u==="insideStart"||u==="insideEnd"||u==="end"))return gM(a,C,j);var E=I?yM(a):mM(a);return Q.createElement(Mi,us({className:Ke("recharts-label",m)},j,E,{breakAll:S}),C)}Jt.displayName="Label";var yv=function(t){var n=t.cx,r=t.cy,a=t.angle,l=t.startAngle,u=t.endAngle,h=t.r,x=t.radius,g=t.innerRadius,b=t.outerRadius,m=t.x,S=t.y,C=t.top,I=t.left,j=t.width,E=t.height,R=t.clockWise,_=t.labelViewBox;if(_)return _;if(Ce(j)&&Ce(E)){if(Ce(m)&&Ce(S))return{x:m,y:S,width:j,height:E};if(Ce(C)&&Ce(I))return{x:C,y:I,width:j,height:E}}return Ce(m)&&Ce(S)?{x:m,y:S,width:0,height:0}:Ce(n)&&Ce(r)?{cx:n,cy:r,startAngle:l||a||0,endAngle:u||a||0,innerRadius:g||0,outerRadius:b||x||h||0,clockWise:R}:t.viewBox?t.viewBox:{}},vM=function(t,n){return t?t===!0?Q.createElement(Jt,{key:"label-implicit",viewBox:n}):Yt(t)?Q.createElement(Jt,{key:"label-implicit",viewBox:n,value:t}):X.isValidElement(t)?t.type===Jt?X.cloneElement(t,{key:"label-implicit",viewBox:n}):Q.createElement(Jt,{key:"label-implicit",content:t,viewBox:n}):Ge(t)?Q.createElement(Jt,{key:"label-implicit",content:t,viewBox:n}):ea(t)?Q.createElement(Jt,us({viewBox:n},t,{key:"label-implicit"})):null:null},wM=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var a=t.children,l=yv(t),u=Mn(a,Jt).map(function(x,g){return X.cloneElement(x,{viewBox:n||l,key:"label-".concat(g)})});if(!r)return u;var h=vM(t.label,n||l);return[h].concat(iM(u))};Jt.parseViewBox=yv;Jt.renderCallByParent=wM;function SM(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var AM=SM;const CM=dt(AM);function fs(e){"@babel/helpers - typeof";return fs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}var jM=["valueAccessor"],EM=["data","dataKey","clockWise","id","textBreakAll"];function IM(e){return RM(e)||_M(e)||TM(e)||OM()}function OM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TM(e,t){if(e){if(typeof e=="string")return jf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jf(e,t)}}function _M(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RM(e){if(Array.isArray(e))return jf(e)}function jf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gl.apply(this,arguments)}function Tx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _x(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tx(Object(n),!0).forEach(function(r){PM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function PM(e,t,n){return t=NM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NM(e){var t=kM(e,"string");return fs(t)=="symbol"?t:t+""}function kM(e,t){if(fs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rx(e,t){if(e==null)return{};var n=MM(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function MM(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var DM=function(t){return Array.isArray(t.value)?CM(t.value):t.value};function Nr(e){var t=e.valueAccessor,n=t===void 0?DM:t,r=Rx(e,jM),a=r.data,l=r.dataKey,u=r.clockWise,h=r.id,x=r.textBreakAll,g=Rx(r,EM);return!a||!a.length?null:Q.createElement(it,{className:"recharts-label-list"},a.map(function(b,m){var S=Ye(l)?n(b,m):Xt(b&&b.payload,l),C=Ye(h)?{}:{id:"".concat(h,"-").concat(m)};return Q.createElement(Jt,Gl({},$e(b,!0),g,C,{parentViewBox:b.parentViewBox,value:S,textBreakAll:x,viewBox:Jt.parseViewBox(Ye(u)?b:_x(_x({},b),{},{clockWise:u})),key:"label-".concat(m),index:m}))}))}Nr.displayName="LabelList";function BM(e,t){return e?e===!0?Q.createElement(Nr,{key:"labelList-implicit",data:t}):Q.isValidElement(e)||Ge(e)?Q.createElement(Nr,{key:"labelList-implicit",data:t,content:e}):ea(e)?Q.createElement(Nr,Gl({data:t},e,{key:"labelList-implicit"})):null:null}function zM(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,a=Mn(r,Nr).map(function(u,h){return X.cloneElement(u,{data:t,key:"labelList-".concat(h)})});if(!n)return a;var l=BM(e.label,t);return[l].concat(IM(a))}Nr.renderCallByParent=zM;function hs(e){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}function Ef(){return Ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ef.apply(this,arguments)}function Px(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Px(Object(n),!0).forEach(function(r){LM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Px(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LM(e,t,n){return t=WM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WM(e){var t=FM(e,"string");return hs(t)=="symbol"?t:t+""}function FM(e,t){if(hs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $M=function(t,n){var r=pn(n-t),a=Math.min(Math.abs(n-t),359.999);return r*a},ol=function(t){var n=t.cx,r=t.cy,a=t.radius,l=t.angle,u=t.sign,h=t.isExternal,x=t.cornerRadius,g=t.cornerIsExternal,b=x*(h?1:-1)+a,m=Math.asin(x/b)/Hl,S=g?l:l+u*m,C=St(n,r,b,S),I=St(n,r,a,S),j=g?l-u*m:l,E=St(n,r,b*Math.cos(m*Hl),j);return{center:C,circleTangency:I,lineTangency:E,theta:m}},mv=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,l=t.outerRadius,u=t.startAngle,h=t.endAngle,x=$M(u,h),g=u+x,b=St(n,r,l,u),m=St(n,r,l,g),S="M ".concat(b.x,",").concat(b.y,`
    A `).concat(l,",").concat(l,`,0,
    `).concat(+(Math.abs(x)>180),",").concat(+(u>g),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var C=St(n,r,a,u),I=St(n,r,a,g);S+="L ".concat(I.x,",").concat(I.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(x)>180),",").concat(+(u<=g),`,
            `).concat(C.x,",").concat(C.y," Z")}else S+="L ".concat(n,",").concat(r," Z");return S},UM=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,l=t.outerRadius,u=t.cornerRadius,h=t.forceCornerRadius,x=t.cornerIsExternal,g=t.startAngle,b=t.endAngle,m=pn(b-g),S=ol({cx:n,cy:r,radius:l,angle:g,sign:m,cornerRadius:u,cornerIsExternal:x}),C=S.circleTangency,I=S.lineTangency,j=S.theta,E=ol({cx:n,cy:r,radius:l,angle:b,sign:-m,cornerRadius:u,cornerIsExternal:x}),R=E.circleTangency,_=E.lineTangency,T=E.theta,P=x?Math.abs(g-b):Math.abs(g-b)-j-T;if(P<0)return h?"M ".concat(I.x,",").concat(I.y,`
        a`).concat(u,",").concat(u,",0,0,1,").concat(u*2,`,0
        a`).concat(u,",").concat(u,",0,0,1,").concat(-u*2,`,0
      `):mv({cx:n,cy:r,innerRadius:a,outerRadius:l,startAngle:g,endAngle:b});var A="M ".concat(I.x,",").concat(I.y,`
    A`).concat(u,",").concat(u,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
    A`).concat(l,",").concat(l,",0,").concat(+(P>180),",").concat(+(m<0),",").concat(R.x,",").concat(R.y,`
    A`).concat(u,",").concat(u,",0,0,").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
  `);if(a>0){var N=ol({cx:n,cy:r,radius:a,angle:g,sign:m,isExternal:!0,cornerRadius:u,cornerIsExternal:x}),k=N.circleTangency,W=N.lineTangency,F=N.theta,ie=ol({cx:n,cy:r,radius:a,angle:b,sign:-m,isExternal:!0,cornerRadius:u,cornerIsExternal:x}),H=ie.circleTangency,Y=ie.lineTangency,re=ie.theta,ae=x?Math.abs(g-b):Math.abs(g-b)-F-re;if(ae<0&&u===0)return"".concat(A,"L").concat(n,",").concat(r,"Z");A+="L".concat(Y.x,",").concat(Y.y,`
      A`).concat(u,",").concat(u,",0,0,").concat(+(m<0),",").concat(H.x,",").concat(H.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(ae>180),",").concat(+(m>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(u,",").concat(u,",0,0,").concat(+(m<0),",").concat(W.x,",").concat(W.y,"Z")}else A+="L".concat(n,",").concat(r,"Z");return A},VM={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},bv=function(t){var n=Nx(Nx({},VM),t),r=n.cx,a=n.cy,l=n.innerRadius,u=n.outerRadius,h=n.cornerRadius,x=n.forceCornerRadius,g=n.cornerIsExternal,b=n.startAngle,m=n.endAngle,S=n.className;if(u<l||b===m)return null;var C=Ke("recharts-sector",S),I=u-l,j=xn(h,I,0,!0),E;return j>0&&Math.abs(b-m)<360?E=UM({cx:r,cy:a,innerRadius:l,outerRadius:u,cornerRadius:Math.min(j,I/2),forceCornerRadius:x,cornerIsExternal:g,startAngle:b,endAngle:m}):E=mv({cx:r,cy:a,innerRadius:l,outerRadius:u,startAngle:b,endAngle:m}),Q.createElement("path",Ef({},$e(n,!0),{className:C,d:E,role:"img"}))};function ps(e){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ps(e)}function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},If.apply(this,arguments)}function kx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kx(Object(n),!0).forEach(function(r){HM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HM(e,t,n){return t=GM(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GM(e){var t=XM(e,"string");return ps(t)=="symbol"?t:t+""}function XM(e,t){if(ps(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dx={curveBasisClosed:HC,curveBasisOpen:GC,curveBasis:VC,curveBumpX:_C,curveBumpY:RC,curveLinearClosed:XC,curveLinear:Xc,curveMonotoneX:YC,curveMonotoneY:qC,curveNatural:KC,curveStep:ZC,curveStepAfter:JC,curveStepBefore:QC},al=function(t){return t.x===+t.x&&t.y===+t.y},Oa=function(t){return t.x},Ta=function(t){return t.y},YM=function(t,n){if(Ge(t))return t;var r="curve".concat(Hc(t));return(r==="curveMonotone"||r==="curveBump")&&n?Dx["".concat(r).concat(n==="vertical"?"Y":"X")]:Dx[r]||Xc},qM=function(t){var n=t.type,r=n===void 0?"linear":n,a=t.points,l=a===void 0?[]:a,u=t.baseLine,h=t.layout,x=t.connectNulls,g=x===void 0?!1:x,b=YM(r,h),m=g?l.filter(function(j){return al(j)}):l,S;if(Array.isArray(u)){var C=g?u.filter(function(j){return al(j)}):u,I=m.map(function(j,E){return Mx(Mx({},j),{},{base:C[E]})});return h==="vertical"?S=Ks().y(Ta).x1(Oa).x0(function(j){return j.base.x}):S=Ks().x(Oa).y1(Ta).y0(function(j){return j.base.y}),S.defined(al).curve(b),S(I)}return h==="vertical"&&Ce(u)?S=Ks().y(Ta).x1(Oa).x0(u):Ce(u)?S=Ks().x(Oa).y1(Ta).y0(u):S=hm().x(Oa).y(Ta),S.defined(al).curve(b),S(m)},Xl=function(t){var n=t.className,r=t.points,a=t.path,l=t.pathRef;if((!r||!r.length)&&!a)return null;var u=r&&r.length?qM(t):a;return X.createElement("path",If({},$e(t,!1),yl(t),{className:Ke("recharts-curve",n),d:u,ref:l}))},vv={exports:{}},KM="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ZM=KM,QM=ZM;function wv(){}function Sv(){}Sv.resetWarningCache=wv;var JM=function(){function e(r,a,l,u,h,x){if(x!==QM){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Sv,resetWarningCache:wv};return n.PropTypes=n,n};vv.exports=JM();var eD=vv.exports;const ct=dt(eD),{getOwnPropertyNames:tD,getOwnPropertySymbols:nD}=Object,{hasOwnProperty:rD}=Object.prototype;function yu(e,t){return function(r,a,l){return e(r,a,l)&&t(r,a,l)}}function sl(e){return function(n,r,a){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,a);const{cache:l}=a,u=l.get(n),h=l.get(r);if(u&&h)return u===r&&h===n;l.set(n,r),l.set(r,n);const x=e(n,r,a);return l.delete(n),l.delete(r),x}}function iD(e){return e!=null?e[Symbol.toStringTag]:void 0}function Bx(e){return tD(e).concat(nD(e))}const oD=Object.hasOwn||((e,t)=>rD.call(e,t));function Vi(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const aD="__v",sD="__o",lD="_owner",{getOwnPropertyDescriptor:zx,keys:Lx}=Object;function cD(e,t){return e.byteLength===t.byteLength&&Yl(new Uint8Array(e),new Uint8Array(t))}function dD(e,t,n){let r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function uD(e,t){return e.byteLength===t.byteLength&&Yl(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function fD(e,t){return Vi(e.getTime(),t.getTime())}function hD(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function pD(e,t){return e===t}function Wx(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const a=new Array(r),l=e.entries();let u,h,x=0;for(;(u=l.next())&&!u.done;){const g=t.entries();let b=!1,m=0;for(;(h=g.next())&&!h.done;){if(a[m]){m++;continue}const S=u.value,C=h.value;if(n.equals(S[0],C[0],x,m,e,t,n)&&n.equals(S[1],C[1],S[0],C[0],e,t,n)){b=a[m]=!0;break}m++}if(!b)return!1;x++}return!0}const xD=Vi;function gD(e,t,n){const r=Lx(e);let a=r.length;if(Lx(t).length!==a)return!1;for(;a-- >0;)if(!Av(e,t,n,r[a]))return!1;return!0}function _a(e,t,n){const r=Bx(e);let a=r.length;if(Bx(t).length!==a)return!1;let l,u,h;for(;a-- >0;)if(l=r[a],!Av(e,t,n,l)||(u=zx(e,l),h=zx(t,l),(u||h)&&(!u||!h||u.configurable!==h.configurable||u.enumerable!==h.enumerable||u.writable!==h.writable)))return!1;return!0}function yD(e,t){return Vi(e.valueOf(),t.valueOf())}function mD(e,t){return e.source===t.source&&e.flags===t.flags}function Fx(e,t,n){const r=e.size;if(r!==t.size)return!1;if(!r)return!0;const a=new Array(r),l=e.values();let u,h;for(;(u=l.next())&&!u.done;){const x=t.values();let g=!1,b=0;for(;(h=x.next())&&!h.done;){if(!a[b]&&n.equals(u.value,h.value,u.value,h.value,e,t,n)){g=a[b]=!0;break}b++}if(!g)return!1}return!0}function Yl(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function bD(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Av(e,t,n,r){return(r===lD||r===sD||r===aD)&&(e.$$typeof||t.$$typeof)?!0:oD(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}const vD="[object ArrayBuffer]",wD="[object Arguments]",SD="[object Boolean]",AD="[object DataView]",CD="[object Date]",jD="[object Error]",ED="[object Map]",ID="[object Number]",OD="[object Object]",TD="[object RegExp]",_D="[object Set]",RD="[object String]",PD={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},ND="[object URL]",kD=Object.prototype.toString;function MD({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:a,areFunctionsEqual:l,areMapsEqual:u,areNumbersEqual:h,areObjectsEqual:x,arePrimitiveWrappersEqual:g,areRegExpsEqual:b,areSetsEqual:m,areTypedArraysEqual:S,areUrlsEqual:C,unknownTagComparators:I}){return function(E,R,_){if(E===R)return!0;if(E==null||R==null)return!1;const T=typeof E;if(T!==typeof R)return!1;if(T!=="object")return T==="number"?h(E,R,_):T==="function"?l(E,R,_):!1;const P=E.constructor;if(P!==R.constructor)return!1;if(P===Object)return x(E,R,_);if(Array.isArray(E))return t(E,R,_);if(P===Date)return r(E,R,_);if(P===RegExp)return b(E,R,_);if(P===Map)return u(E,R,_);if(P===Set)return m(E,R,_);const A=kD.call(E);if(A===CD)return r(E,R,_);if(A===TD)return b(E,R,_);if(A===ED)return u(E,R,_);if(A===_D)return m(E,R,_);if(A===OD)return typeof E.then!="function"&&typeof R.then!="function"&&x(E,R,_);if(A===ND)return C(E,R,_);if(A===jD)return a(E,R,_);if(A===wD)return x(E,R,_);if(PD[A])return S(E,R,_);if(A===vD)return e(E,R,_);if(A===AD)return n(E,R,_);if(A===SD||A===ID||A===RD)return g(E,R,_);if(I){let N=I[A];if(!N){const k=iD(E);k&&(N=I[k])}if(N)return N(E,R,_)}return!1}}function DD({circular:e,createCustomConfig:t,strict:n}){let r={areArrayBuffersEqual:cD,areArraysEqual:n?_a:dD,areDataViewsEqual:uD,areDatesEqual:fD,areErrorsEqual:hD,areFunctionsEqual:pD,areMapsEqual:n?yu(Wx,_a):Wx,areNumbersEqual:xD,areObjectsEqual:n?_a:gD,arePrimitiveWrappersEqual:yD,areRegExpsEqual:mD,areSetsEqual:n?yu(Fx,_a):Fx,areTypedArraysEqual:n?yu(Yl,_a):Yl,areUrlsEqual:bD,unknownTagComparators:void 0};if(t&&(r=Object.assign({},r,t(r))),e){const a=sl(r.areArraysEqual),l=sl(r.areMapsEqual),u=sl(r.areObjectsEqual),h=sl(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:a,areMapsEqual:l,areObjectsEqual:u,areSetsEqual:h})}return r}function BD(e){return function(t,n,r,a,l,u,h){return e(t,n,h)}}function zD({circular:e,comparator:t,createState:n,equals:r,strict:a}){if(n)return function(h,x){const{cache:g=e?new WeakMap:void 0,meta:b}=n();return t(h,x,{cache:g,equals:r,meta:b,strict:a})};if(e)return function(h,x){return t(h,x,{cache:new WeakMap,equals:r,meta:void 0,strict:a})};const l={cache:void 0,equals:r,meta:void 0,strict:a};return function(h,x){return t(h,x,l)}}const LD=ci();ci({strict:!0});ci({circular:!0});ci({circular:!0,strict:!0});ci({createInternalComparator:()=>Vi});ci({strict:!0,createInternalComparator:()=>Vi});ci({circular:!0,createInternalComparator:()=>Vi});ci({circular:!0,createInternalComparator:()=>Vi,strict:!0});function ci(e={}){const{circular:t=!1,createInternalComparator:n,createState:r,strict:a=!1}=e,l=DD(e),u=MD(l),h=n?n(u):BD(u);return zD({circular:t,comparator:u,createState:r,equals:h,strict:a})}function WD(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function $x(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function a(l){n<0&&(n=l),l-n>t?(e(l),n=-1):WD(a)};requestAnimationFrame(r)}function Of(e){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(e)}function FD(e){return HD(e)||VD(e)||UD(e)||$D()}function $D(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UD(e,t){if(e){if(typeof e=="string")return Ux(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ux(e,t)}}function Ux(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VD(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HD(e){if(Array.isArray(e))return e}function GD(){var e={},t=function(){return null},n=!1,r=function a(l){if(!n){if(Array.isArray(l)){if(!l.length)return;var u=l,h=FD(u),x=h[0],g=h.slice(1);if(typeof x=="number"){$x(a.bind(null,g),x);return}a(x),$x(a.bind(null,g));return}Of(l)==="object"&&(e=l,t(e)),typeof l=="function"&&l()}};return{stop:function(){n=!0},start:function(l){n=!1,r(l)},subscribe:function(l){return t=l,function(){t=function(){return null}}}}}function xs(e){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function Vx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Hx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vx(Object(n),!0).forEach(function(r){Cv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cv(e,t,n){return t=XD(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XD(e){var t=YD(e,"string");return xs(t)==="symbol"?t:String(t)}function YD(e,t){if(xs(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qD=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,a){return r.filter(function(l){return a.includes(l)})})},KD=function(t){return t},ZD=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Wa=function(t,n){return Object.keys(n).reduce(function(r,a){return Hx(Hx({},r),{},Cv({},a,t(a,n[a])))},{})},Gx=function(t,n,r){return t.map(function(a){return"".concat(ZD(a)," ").concat(n,"ms ").concat(r)}).join(",")};function QD(e,t){return tB(e)||eB(e,t)||jv(e,t)||JD()}function JD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,l,u,h=[],x=!0,g=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(x=(r=l.call(n)).done)&&(h.push(r.value),h.length!==t);x=!0);}catch(b){g=!0,a=b}finally{try{if(!x&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(g)throw a}}return h}}function tB(e){if(Array.isArray(e))return e}function nB(e){return oB(e)||iB(e)||jv(e)||rB()}function rB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jv(e,t){if(e){if(typeof e=="string")return Tf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tf(e,t)}}function iB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oB(e){if(Array.isArray(e))return Tf(e)}function Tf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ql=1e-4,Ev=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},Iv=function(t,n){return t.map(function(r,a){return r*Math.pow(n,a)}).reduce(function(r,a){return r+a})},Xx=function(t,n){return function(r){var a=Ev(t,n);return Iv(a,r)}},aB=function(t,n){return function(r){var a=Ev(t,n),l=[].concat(nB(a.map(function(u,h){return u*h}).slice(1)),[0]);return Iv(l,r)}},Yx=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],l=n[1],u=n[2],h=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,l=0,u=1,h=1;break;case"ease":a=.25,l=.1,u=.25,h=1;break;case"ease-in":a=.42,l=0,u=1,h=1;break;case"ease-out":a=.42,l=0,u=.58,h=1;break;case"ease-in-out":a=0,l=0,u=.58,h=1;break;default:{var x=n[0].split("(");if(x[0]==="cubic-bezier"&&x[1].split(")")[0].split(",").length===4){var g=x[1].split(")")[0].split(",").map(function(E){return parseFloat(E)}),b=QD(g,4);a=b[0],l=b[1],u=b[2],h=b[3]}}}var m=Xx(a,u),S=Xx(l,h),C=aB(a,u),I=function(R){return R>1?1:R<0?0:R},j=function(R){for(var _=R>1?1:R,T=_,P=0;P<8;++P){var A=m(T)-_,N=C(T);if(Math.abs(A-_)<ql||N<ql)return S(T);T=I(T-A/N)}return S(T)};return j.isStepper=!1,j},sB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,a=t.damping,l=a===void 0?8:a,u=t.dt,h=u===void 0?17:u,x=function(b,m,S){var C=-(b-m)*r,I=S*l,j=S+(C-I)*h/1e3,E=S*h/1e3+b;return Math.abs(E-m)<ql&&Math.abs(j)<ql?[m,0]:[E,j]};return x.isStepper=!0,x.dt=h,x},lB=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Yx(a);case"spring":return sB();default:if(a.split("(")[0]==="cubic-bezier")return Yx(a)}return typeof a=="function"?a:null};function gs(e){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function qx(e){return uB(e)||dB(e)||Ov(e)||cB()}function cB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uB(e){if(Array.isArray(e))return Rf(e)}function Kx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kx(Object(n),!0).forEach(function(r){_f(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _f(e,t,n){return t=fB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fB(e){var t=hB(e,"string");return gs(t)==="symbol"?t:String(t)}function hB(e,t){if(gs(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gs(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pB(e,t){return yB(e)||gB(e,t)||Ov(e,t)||xB()}function xB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ov(e,t){if(e){if(typeof e=="string")return Rf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rf(e,t)}}function Rf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,l,u,h=[],x=!0,g=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(x=(r=l.call(n)).done)&&(h.push(r.value),h.length!==t);x=!0);}catch(b){g=!0,a=b}finally{try{if(!x&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(g)throw a}}return h}}function yB(e){if(Array.isArray(e))return e}var Kl=function(t,n,r){return t+(n-t)*r},Pf=function(t){var n=t.from,r=t.to;return n!==r},mB=function e(t,n,r){var a=Wa(function(l,u){if(Pf(u)){var h=t(u.from,u.to,u.velocity),x=pB(h,2),g=x[0],b=x[1];return on(on({},u),{},{from:g,velocity:b})}return u},n);return r<1?Wa(function(l,u){return Pf(u)?on(on({},u),{},{velocity:Kl(u.velocity,a[l].velocity,r),from:Kl(u.from,a[l].from,r)}):u},n):e(t,a,r-1)};const bB=function(e,t,n,r,a){var l=qD(e,t),u=l.reduce(function(E,R){return on(on({},E),{},_f({},R,[e[R],t[R]]))},{}),h=l.reduce(function(E,R){return on(on({},E),{},_f({},R,{from:e[R],velocity:0,to:t[R]}))},{}),x=-1,g,b,m=function(){return null},S=function(){return Wa(function(R,_){return _.from},h)},C=function(){return!Object.values(h).filter(Pf).length},I=function(R){g||(g=R);var _=R-g,T=_/n.dt;h=mB(n,h,T),a(on(on(on({},e),t),S())),g=R,C()||(x=requestAnimationFrame(m))},j=function(R){b||(b=R);var _=(R-b)/r,T=Wa(function(A,N){return Kl.apply(void 0,qx(N).concat([n(_)]))},u);if(a(on(on(on({},e),t),T)),_<1)x=requestAnimationFrame(m);else{var P=Wa(function(A,N){return Kl.apply(void 0,qx(N).concat([n(1)]))},u);a(on(on(on({},e),t),P))}};return m=n.isStepper?I:j,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(x)}}};function ko(e){"@babel/helpers - typeof";return ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ko(e)}var vB=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function wB(e,t){if(e==null)return{};var n=SB(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SB(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,l;for(l=0;l<r.length;l++)a=r[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function mu(e){return EB(e)||jB(e)||CB(e)||AB()}function AB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CB(e,t){if(e){if(typeof e=="string")return Nf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nf(e,t)}}function jB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function EB(e){if(Array.isArray(e))return Nf(e)}function Nf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zx(Object(n),!0).forEach(function(r){Na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Na(e,t,n){return t=Tv(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IB(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tv(r.key),r)}}function TB(e,t,n){return t&&OB(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tv(e){var t=_B(e,"string");return ko(t)==="symbol"?t:String(t)}function _B(e,t){if(ko(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ko(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RB(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kf(e,t)}function kf(e,t){return kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},kf(e,t)}function PB(e){var t=NB();return function(){var r=Zl(e),a;if(t){var l=Zl(this).constructor;a=Reflect.construct(r,arguments,l)}else a=r.apply(this,arguments);return Mf(this,a)}}function Mf(e,t){if(t&&(ko(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Df(e)}function Df(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zl(e){return Zl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Zl(e)}var vr=function(e){RB(n,e);var t=PB(n);function n(r,a){var l;IB(this,n),l=t.call(this,r,a);var u=l.props,h=u.isActive,x=u.attributeName,g=u.from,b=u.to,m=u.steps,S=u.children,C=u.duration;if(l.handleStyleChange=l.handleStyleChange.bind(Df(l)),l.changeStyle=l.changeStyle.bind(Df(l)),!h||C<=0)return l.state={style:{}},typeof S=="function"&&(l.state={style:b}),Mf(l);if(m&&m.length)l.state={style:m[0].style};else if(g){if(typeof S=="function")return l.state={style:g},Mf(l);l.state={style:x?Na({},x,g):g}}else l.state={style:{}};return l}return TB(n,[{key:"componentDidMount",value:function(){var a=this.props,l=a.isActive,u=a.canBegin;this.mounted=!0,!(!l||!u)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var l=this.props,u=l.isActive,h=l.canBegin,x=l.attributeName,g=l.shouldReAnimate,b=l.to,m=l.from,S=this.state.style;if(h){if(!u){var C={style:x?Na({},x,b):b};this.state&&S&&(x&&S[x]!==b||!x&&S!==b)&&this.setState(C);return}if(!(LD(a.to,b)&&a.canBegin&&a.isActive)){var I=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=I||g?m:a.to;if(this.state&&S){var E={style:x?Na({},x,j):j};(x&&S[x]!==j||!x&&S!==j)&&this.setState(E)}this.runAnimation(Zn(Zn({},this.props),{},{from:j,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var l=this,u=a.from,h=a.to,x=a.duration,g=a.easing,b=a.begin,m=a.onAnimationEnd,S=a.onAnimationStart,C=bB(u,h,lB(g),x,this.changeStyle),I=function(){l.stopJSAnimation=C()};this.manager.start([S,b,I,x,m])}},{key:"runStepAnimation",value:function(a){var l=this,u=a.steps,h=a.begin,x=a.onAnimationStart,g=u[0],b=g.style,m=g.duration,S=m===void 0?0:m,C=function(j,E,R){if(R===0)return j;var _=E.duration,T=E.easing,P=T===void 0?"ease":T,A=E.style,N=E.properties,k=E.onAnimationEnd,W=R>0?u[R-1]:E,F=N||Object.keys(A);if(typeof P=="function"||P==="spring")return[].concat(mu(j),[l.runJSAnimation.bind(l,{from:W.style,to:A,duration:_,easing:P}),_]);var ie=Gx(F,_,P),H=Zn(Zn(Zn({},W.style),A),{},{transition:ie});return[].concat(mu(j),[H,_,k]).filter(KD)};return this.manager.start([x].concat(mu(u.reduce(C,[b,Math.max(S,h)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=GD());var l=a.begin,u=a.duration,h=a.attributeName,x=a.to,g=a.easing,b=a.onAnimationStart,m=a.onAnimationEnd,S=a.steps,C=a.children,I=this.manager;if(this.unSubscribe=I.subscribe(this.handleStyleChange),typeof g=="function"||typeof C=="function"||g==="spring"){this.runJSAnimation(a);return}if(S.length>1){this.runStepAnimation(a);return}var j=h?Na({},h,x):x,E=Gx(Object.keys(j),u,g);I.start([b,l,Zn(Zn({},j),{},{transition:E}),u,m])}},{key:"render",value:function(){var a=this.props,l=a.children;a.begin;var u=a.duration;a.attributeName,a.easing;var h=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var x=wB(a,vB),g=X.Children.count(l),b=this.state.style;if(typeof l=="function")return l(b);if(!h||g===0||u<=0)return l;var m=function(C){var I=C.props,j=I.style,E=j===void 0?{}:j,R=I.className,_=X.cloneElement(C,Zn(Zn({},x),{},{style:Zn(Zn({},E),b),className:R}));return _};return g===1?m(X.Children.only(l)):Q.createElement("div",null,X.Children.map(l,function(S){return m(S)}))}}]),n}(X.PureComponent);vr.displayName="Animate";vr.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};vr.propTypes={from:ct.oneOfType([ct.object,ct.string]),to:ct.oneOfType([ct.object,ct.string]),attributeName:ct.string,duration:ct.number,begin:ct.number,easing:ct.oneOfType([ct.string,ct.func]),steps:ct.arrayOf(ct.shape({duration:ct.number.isRequired,style:ct.object.isRequired,easing:ct.oneOfType([ct.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ct.func]),properties:ct.arrayOf("string"),onAnimationEnd:ct.func})),children:ct.oneOfType([ct.node,ct.func]),isActive:ct.bool,canBegin:ct.bool,onAnimationEnd:ct.func,shouldReAnimate:ct.bool,onAnimationStart:ct.func,onAnimationReStart:ct.func};function ys(e){"@babel/helpers - typeof";return ys=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ys(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ql.apply(this,arguments)}function kB(e,t){return zB(e)||BB(e,t)||DB(e,t)||MB()}function MB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DB(e,t){if(e){if(typeof e=="string")return Qx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qx(e,t)}}function Qx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function BB(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,l,u,h=[],x=!0,g=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(x=(r=l.call(n)).done)&&(h.push(r.value),h.length!==t);x=!0);}catch(b){g=!0,a=b}finally{try{if(!x&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(g)throw a}}return h}}function zB(e){if(Array.isArray(e))return e}function Jx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function eg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jx(Object(n),!0).forEach(function(r){LB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jx(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LB(e,t,n){return t=WB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WB(e){var t=FB(e,"string");return ys(t)=="symbol"?t:t+""}function FB(e,t){if(ys(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ys(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tg=function(t,n,r,a,l){var u=Math.min(Math.abs(r)/2,Math.abs(a)/2),h=a>=0?1:-1,x=r>=0?1:-1,g=a>=0&&r>=0||a<0&&r<0?1:0,b;if(u>0&&l instanceof Array){for(var m=[0,0,0,0],S=0,C=4;S<C;S++)m[S]=l[S]>u?u:l[S];b="M".concat(t,",").concat(n+h*m[0]),m[0]>0&&(b+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(g,",").concat(t+x*m[0],",").concat(n)),b+="L ".concat(t+r-x*m[1],",").concat(n),m[1]>0&&(b+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(g,`,
        `).concat(t+r,",").concat(n+h*m[1])),b+="L ".concat(t+r,",").concat(n+a-h*m[2]),m[2]>0&&(b+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(g,`,
        `).concat(t+r-x*m[2],",").concat(n+a)),b+="L ".concat(t+x*m[3],",").concat(n+a),m[3]>0&&(b+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(g,`,
        `).concat(t,",").concat(n+a-h*m[3])),b+="Z"}else if(u>0&&l===+l&&l>0){var I=Math.min(u,l);b="M ".concat(t,",").concat(n+h*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(g,",").concat(t+x*I,",").concat(n,`
            L `).concat(t+r-x*I,",").concat(n,`
            A `).concat(I,",").concat(I,",0,0,").concat(g,",").concat(t+r,",").concat(n+h*I,`
            L `).concat(t+r,",").concat(n+a-h*I,`
            A `).concat(I,",").concat(I,",0,0,").concat(g,",").concat(t+r-x*I,",").concat(n+a,`
            L `).concat(t+x*I,",").concat(n+a,`
            A `).concat(I,",").concat(I,",0,0,").concat(g,",").concat(t,",").concat(n+a-h*I," Z")}else b="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(a," h ").concat(-r," Z");return b},$B=function(t,n){if(!t||!n)return!1;var r=t.x,a=t.y,l=n.x,u=n.y,h=n.width,x=n.height;if(Math.abs(h)>0&&Math.abs(x)>0){var g=Math.min(l,l+h),b=Math.max(l,l+h),m=Math.min(u,u+x),S=Math.max(u,u+x);return r>=g&&r<=b&&a>=m&&a<=S}return!1},UB={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yp=function(t){var n=eg(eg({},UB),t),r=X.useRef(),a=X.useState(-1),l=kB(a,2),u=l[0],h=l[1];X.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var P=r.current.getTotalLength();P&&h(P)}catch{}},[]);var x=n.x,g=n.y,b=n.width,m=n.height,S=n.radius,C=n.className,I=n.animationEasing,j=n.animationDuration,E=n.animationBegin,R=n.isAnimationActive,_=n.isUpdateAnimationActive;if(x!==+x||g!==+g||b!==+b||m!==+m||b===0||m===0)return null;var T=Ke("recharts-rectangle",C);return _?Q.createElement(vr,{canBegin:u>0,from:{width:b,height:m,x,y:g},to:{width:b,height:m,x,y:g},duration:j,animationEasing:I,isActive:_},function(P){var A=P.width,N=P.height,k=P.x,W=P.y;return Q.createElement(vr,{canBegin:u>0,from:"0px ".concat(u===-1?1:u,"px"),to:"".concat(u,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:j,isActive:R,easing:I},Q.createElement("path",Ql({},$e(n,!0),{className:T,d:tg(k,W,A,N,S),ref:r})))}):Q.createElement("path",Ql({},$e(n,!0),{className:T,d:tg(x,g,b,m,S)}))},VB=["points","className","baseLinePoints","connectNulls"];function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oo.apply(this,arguments)}function HB(e,t){if(e==null)return{};var n=GB(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GB(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ng(e){return KB(e)||qB(e)||YB(e)||XB()}function XB(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YB(e,t){if(e){if(typeof e=="string")return Bf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bf(e,t)}}function qB(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function KB(e){if(Array.isArray(e))return Bf(e)}function Bf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var rg=function(t){return t&&t.x===+t.x&&t.y===+t.y},ZB=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){rg(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),rg(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Fa=function(t,n){var r=ZB(t);n&&(r=[r.reduce(function(l,u){return[].concat(ng(l),ng(u))},[])]);var a=r.map(function(l){return l.reduce(function(u,h,x){return"".concat(u).concat(x===0?"M":"L").concat(h.x,",").concat(h.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},QB=function(t,n,r){var a=Fa(t,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Fa(n.reverse(),r).slice(1))},JB=function(t){var n=t.points,r=t.className,a=t.baseLinePoints,l=t.connectNulls,u=HB(t,VB);if(!n||!n.length)return null;var h=Ke("recharts-polygon",r);if(a&&a.length){var x=u.stroke&&u.stroke!=="none",g=QB(n,a,l);return Q.createElement("g",{className:h},Q.createElement("path",oo({},$e(u,!0),{fill:g.slice(-1)==="Z"?u.fill:"none",stroke:"none",d:g})),x?Q.createElement("path",oo({},$e(u,!0),{fill:"none",d:Fa(n,l)})):null,x?Q.createElement("path",oo({},$e(u,!0),{fill:"none",d:Fa(a,l)})):null)}var b=Fa(n,l);return Q.createElement("path",oo({},$e(u,!0),{fill:b.slice(-1)==="Z"?u.fill:"none",className:h,d:b}))};function zf(){return zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zf.apply(this,arguments)}var dd=function(t){var n=t.cx,r=t.cy,a=t.r,l=t.className,u=Ke("recharts-dot",l);return n===+n&&r===+r&&a===+a?X.createElement("circle",zf({},$e(t,!1),yl(t),{className:u,cx:n,cy:r,r:a})):null};function ms(e){"@babel/helpers - typeof";return ms=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ms(e)}var ez=["x","y","top","left","width","height","className"];function Lf(){return Lf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lf.apply(this,arguments)}function ig(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ig(Object(n),!0).forEach(function(r){nz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ig(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nz(e,t,n){return t=rz(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rz(e){var t=iz(e,"string");return ms(t)=="symbol"?t:t+""}function iz(e,t){if(ms(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ms(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oz(e,t){if(e==null)return{};var n=az(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function az(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var sz=function(t,n,r,a,l,u){return"M".concat(t,",").concat(l,"v").concat(a,"M").concat(u,",").concat(n,"h").concat(r)},lz=function(t){var n=t.x,r=n===void 0?0:n,a=t.y,l=a===void 0?0:a,u=t.top,h=u===void 0?0:u,x=t.left,g=x===void 0?0:x,b=t.width,m=b===void 0?0:b,S=t.height,C=S===void 0?0:S,I=t.className,j=oz(t,ez),E=tz({x:r,y:l,top:h,left:g,width:m,height:C},j);return!Ce(r)||!Ce(l)||!Ce(m)||!Ce(C)||!Ce(h)||!Ce(g)?null:Q.createElement("path",Lf({},$e(E,!0),{className:Ke("recharts-cross",I),d:sz(r,l,m,C,h,g)}))},cz=od,dz=Fb,uz=Ar;function fz(e,t){return e&&e.length?cz(e,uz(t),dz):void 0}var hz=fz;const pz=dt(hz);var xz=od,gz=Ar,yz=$b;function mz(e,t){return e&&e.length?xz(e,gz(t),yz):void 0}var bz=mz;const vz=dt(bz);var wz=["cx","cy","angle","ticks","axisLine"],Sz=["ticks","tick","angle","tickFormatter","stroke"];function Mo(e){"@babel/helpers - typeof";return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(e)}function $a(){return $a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$a.apply(this,arguments)}function og(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?og(Object(n),!0).forEach(function(r){ud(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):og(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ag(e,t){if(e==null)return{};var n=Az(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Az(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Cz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rv(r.key),r)}}function jz(e,t,n){return t&&sg(e.prototype,t),n&&sg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ez(e,t,n){return t=Jl(t),Iz(e,_v()?Reflect.construct(t,n||[],Jl(e).constructor):t.apply(e,n))}function Iz(e,t){if(t&&(Mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oz(e)}function Oz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_v=function(){return!!e})()}function Jl(e){return Jl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jl(e)}function Tz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wf(e,t)}function Wf(e,t){return Wf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Wf(e,t)}function ud(e,t,n){return t=Rv(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rv(e){var t=_z(e,"string");return Mo(t)=="symbol"?t:t+""}function _z(e,t){if(Mo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fd=function(e){function t(){return Cz(this,t),Ez(this,t,arguments)}return Tz(t,e),jz(t,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,l=this.props,u=l.angle,h=l.cx,x=l.cy;return St(h,x,a,u)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,l=r.cy,u=r.angle,h=r.ticks,x=pz(h,function(b){return b.coordinate||0}),g=vz(h,function(b){return b.coordinate||0});return{cx:a,cy:l,startAngle:u,endAngle:u,innerRadius:g.coordinate||0,outerRadius:x.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,l=r.cy,u=r.angle,h=r.ticks,x=r.axisLine,g=ag(r,wz),b=h.reduce(function(I,j){return[Math.min(I[0],j.coordinate),Math.max(I[1],j.coordinate)]},[1/0,-1/0]),m=St(a,l,b[0],u),S=St(a,l,b[1],u),C=mi(mi(mi({},$e(g,!1)),{},{fill:"none"},$e(x,!1)),{},{x1:m.x,y1:m.y,x2:S.x,y2:S.y});return Q.createElement("line",$a({className:"recharts-polar-radius-axis-line"},C))}},{key:"renderTicks",value:function(){var r=this,a=this.props,l=a.ticks,u=a.tick,h=a.angle,x=a.tickFormatter,g=a.stroke,b=ag(a,Sz),m=this.getTickTextAnchor(),S=$e(b,!1),C=$e(u,!1),I=l.map(function(j,E){var R=r.getTickValueCoord(j),_=mi(mi(mi(mi({textAnchor:m,transform:"rotate(".concat(90-h,", ").concat(R.x,", ").concat(R.y,")")},S),{},{stroke:"none",fill:g},C),{},{index:E},R),{},{payload:j});return Q.createElement(it,$a({className:Ke("recharts-polar-radius-axis-tick",gv(u)),key:"tick-".concat(j.coordinate)},ki(r.props,j,E)),t.renderTickItem(u,_,x?x(j.value,E):j.value))});return Q.createElement(it,{className:"recharts-polar-radius-axis-ticks"},I)}},{key:"render",value:function(){var r=this.props,a=r.ticks,l=r.axisLine,u=r.tick;return!a||!a.length?null:Q.createElement(it,{className:Ke("recharts-polar-radius-axis",this.props.className)},l&&this.renderAxisLine(),u&&this.renderTicks(),Jt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,l){var u;return Q.isValidElement(r)?u=Q.cloneElement(r,a):Ge(r)?u=r(a):u=Q.createElement(Mi,$a({},a,{className:"recharts-polar-radius-axis-tick-value"}),l),u}}])}(X.PureComponent);ud(fd,"displayName","PolarRadiusAxis");ud(fd,"axisType","radiusAxis");ud(fd,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Do(e){"@babel/helpers - typeof";return Do=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Do(e)}function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ci.apply(this,arguments)}function lg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lg(Object(n),!0).forEach(function(r){hd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nv(r.key),r)}}function Pz(e,t,n){return t&&cg(e.prototype,t),n&&cg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nz(e,t,n){return t=ec(t),kz(e,Pv()?Reflect.construct(t,n||[],ec(e).constructor):t.apply(e,n))}function kz(e,t){if(t&&(Do(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mz(e)}function Mz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pv=function(){return!!e})()}function ec(e){return ec=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ec(e)}function Dz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ff(e,t)}function Ff(e,t){return Ff=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Ff(e,t)}function hd(e,t,n){return t=Nv(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nv(e){var t=Bz(e,"string");return Do(t)=="symbol"?t:t+""}function Bz(e,t){if(Do(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Do(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zz=Math.PI/180,dg=1e-5,pd=function(e){function t(){return Rz(this,t),Nz(this,t,arguments)}return Dz(t,e),Pz(t,[{key:"getTickLineCoord",value:function(r){var a=this.props,l=a.cx,u=a.cy,h=a.radius,x=a.orientation,g=a.tickSize,b=g||8,m=St(l,u,h,r.coordinate),S=St(l,u,h+(x==="inner"?-1:1)*b,r.coordinate);return{x1:m.x,y1:m.y,x2:S.x,y2:S.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,l=Math.cos(-r.coordinate*zz),u;return l>dg?u=a==="outer"?"start":"end":l<-dg?u=a==="outer"?"end":"start":u="middle",u}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,l=r.cy,u=r.radius,h=r.axisLine,x=r.axisLineType,g=bi(bi({},$e(this.props,!1)),{},{fill:"none"},$e(h,!1));if(x==="circle")return Q.createElement(dd,Ci({className:"recharts-polar-angle-axis-line"},g,{cx:a,cy:l,r:u}));var b=this.props.ticks,m=b.map(function(S){return St(a,l,u,S.coordinate)});return Q.createElement(JB,Ci({className:"recharts-polar-angle-axis-line"},g,{points:m}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,l=a.ticks,u=a.tick,h=a.tickLine,x=a.tickFormatter,g=a.stroke,b=$e(this.props,!1),m=$e(u,!1),S=bi(bi({},b),{},{fill:"none"},$e(h,!1)),C=l.map(function(I,j){var E=r.getTickLineCoord(I),R=r.getTickTextAnchor(I),_=bi(bi(bi({textAnchor:R},b),{},{stroke:"none",fill:g},m),{},{index:j,payload:I,x:E.x2,y:E.y2});return Q.createElement(it,Ci({className:Ke("recharts-polar-angle-axis-tick",gv(u)),key:"tick-".concat(I.coordinate)},ki(r.props,I,j)),h&&Q.createElement("line",Ci({className:"recharts-polar-angle-axis-tick-line"},S,E)),u&&t.renderTickItem(u,_,x?x(I.value,j):I.value))});return Q.createElement(it,{className:"recharts-polar-angle-axis-ticks"},C)}},{key:"render",value:function(){var r=this.props,a=r.ticks,l=r.radius,u=r.axisLine;return l<=0||!a||!a.length?null:Q.createElement(it,{className:Ke("recharts-polar-angle-axis",this.props.className)},u&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,l){var u;return Q.isValidElement(r)?u=Q.cloneElement(r,a):Ge(r)?u=r(a):u=Q.createElement(Mi,Ci({},a,{className:"recharts-polar-angle-axis-tick-value"}),l),u}}])}(X.PureComponent);hd(pd,"displayName","PolarAngleAxis");hd(pd,"axisType","angleAxis");hd(pd,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Lz=Bm,Wz=Lz(Object.getPrototypeOf,Object),Fz=Wz,$z=Lr,Uz=Fz,Vz=Wr,Hz="[object Object]",Gz=Function.prototype,Xz=Object.prototype,kv=Gz.toString,Yz=Xz.hasOwnProperty,qz=kv.call(Object);function Kz(e){if(!Vz(e)||$z(e)!=Hz)return!1;var t=Uz(e);if(t===null)return!0;var n=Yz.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&kv.call(n)==qz}var Zz=Kz;const Qz=dt(Zz);var Jz=Lr,eL=Wr,tL="[object Boolean]";function nL(e){return e===!0||e===!1||eL(e)&&Jz(e)==tL}var rL=nL;const iL=dt(rL);function bs(e){"@babel/helpers - typeof";return bs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tc.apply(this,arguments)}function oL(e,t){return cL(e)||lL(e,t)||sL(e,t)||aL()}function aL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sL(e,t){if(e){if(typeof e=="string")return ug(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ug(e,t)}}function ug(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lL(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,l,u,h=[],x=!0,g=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(x=(r=l.call(n)).done)&&(h.push(r.value),h.length!==t);x=!0);}catch(b){g=!0,a=b}finally{try{if(!x&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(g)throw a}}return h}}function cL(e){if(Array.isArray(e))return e}function fg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function hg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fg(Object(n),!0).forEach(function(r){dL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dL(e,t,n){return t=uL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uL(e){var t=fL(e,"string");return bs(t)=="symbol"?t:t+""}function fL(e,t){if(bs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pg=function(t,n,r,a,l){var u=r-a,h;return h="M ".concat(t,",").concat(n),h+="L ".concat(t+r,",").concat(n),h+="L ".concat(t+r-u/2,",").concat(n+l),h+="L ".concat(t+r-u/2-a,",").concat(n+l),h+="L ".concat(t,",").concat(n," Z"),h},hL={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pL=function(t){var n=hg(hg({},hL),t),r=X.useRef(),a=X.useState(-1),l=oL(a,2),u=l[0],h=l[1];X.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&h(T)}catch{}},[]);var x=n.x,g=n.y,b=n.upperWidth,m=n.lowerWidth,S=n.height,C=n.className,I=n.animationEasing,j=n.animationDuration,E=n.animationBegin,R=n.isUpdateAnimationActive;if(x!==+x||g!==+g||b!==+b||m!==+m||S!==+S||b===0&&m===0||S===0)return null;var _=Ke("recharts-trapezoid",C);return R?Q.createElement(vr,{canBegin:u>0,from:{upperWidth:0,lowerWidth:0,height:S,x,y:g},to:{upperWidth:b,lowerWidth:m,height:S,x,y:g},duration:j,animationEasing:I,isActive:R},function(T){var P=T.upperWidth,A=T.lowerWidth,N=T.height,k=T.x,W=T.y;return Q.createElement(vr,{canBegin:u>0,from:"0px ".concat(u===-1?1:u,"px"),to:"".concat(u,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:j,easing:I},Q.createElement("path",tc({},$e(n,!0),{className:_,d:pg(k,W,P,A,N),ref:r})))}):Q.createElement("g",null,Q.createElement("path",tc({},$e(n,!0),{className:_,d:pg(x,g,b,m,S)})))},xL=["option","shapeType","propTransformer","activeClassName","isActive"];function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vs(e)}function gL(e,t){if(e==null)return{};var n=yL(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function yL(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function xg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xg(Object(n),!0).forEach(function(r){mL(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mL(e,t,n){return t=bL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bL(e){var t=vL(e,"string");return vs(t)=="symbol"?t:t+""}function vL(e,t){if(vs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wL(e,t){return nc(nc({},t),e)}function SL(e,t){return e==="symbols"}function gg(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Q.createElement(yp,n);case"trapezoid":return Q.createElement(pL,n);case"sector":return Q.createElement(bv,n);case"symbols":if(SL(t))return Q.createElement(Dh,n);break;default:return null}}function AL(e){return X.isValidElement(e)?e.props:e}function Mv(e){var t=e.option,n=e.shapeType,r=e.propTransformer,a=r===void 0?wL:r,l=e.activeClassName,u=l===void 0?"recharts-active-shape":l,h=e.isActive,x=gL(e,xL),g;if(X.isValidElement(t))g=X.cloneElement(t,nc(nc({},x),AL(t)));else if(Ge(t))g=t(x);else if(Qz(t)&&!iL(t)){var b=a(t,x);g=Q.createElement(gg,{shapeType:n,elementProps:b})}else{var m=x;g=Q.createElement(gg,{shapeType:n,elementProps:m})}return h?Q.createElement(it,{className:u},g):g}function xd(e,t){return t!=null&&"trapezoids"in e.props}function gd(e,t){return t!=null&&"sectors"in e.props}function ws(e,t){return t!=null&&"points"in e.props}function CL(e,t){var n,r,a=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,l=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return a&&l}function jL(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function EL(e,t){var n=e.x===t.x,r=e.y===t.y,a=e.z===t.z;return n&&r&&a}function IL(e,t){var n;return xd(e,t)?n=CL:gd(e,t)?n=jL:ws(e,t)&&(n=EL),n}function OL(e,t){var n;return xd(e,t)?n="trapezoids":gd(e,t)?n="sectors":ws(e,t)&&(n="points"),n}function TL(e,t){if(xd(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(gd(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return ws(e,t)?t.payload:{}}function _L(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,a=OL(n,t),l=TL(n,t),u=r.filter(function(x,g){var b=Bs(l,x),m=n.props[a].filter(function(I){var j=IL(n,t);return j(I,t)}),S=n.props[a].indexOf(m[m.length-1]),C=g===S;return b&&C}),h=r.indexOf(u[u.length-1]);return h}var ul;function Bo(e){"@babel/helpers - typeof";return Bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bo(e)}function ao(){return ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ao.apply(this,arguments)}function yg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yg(Object(n),!0).forEach(function(r){Vn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bv(r.key),r)}}function PL(e,t,n){return t&&mg(e.prototype,t),n&&mg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function NL(e,t,n){return t=rc(t),kL(e,Dv()?Reflect.construct(t,n||[],rc(e).constructor):t.apply(e,n))}function kL(e,t){if(t&&(Bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ML(e)}function ML(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dv=function(){return!!e})()}function rc(e){return rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rc(e)}function DL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$f(e,t)}function $f(e,t){return $f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},$f(e,t)}function Vn(e,t,n){return t=Bv(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bv(e){var t=BL(e,"string");return Bo(t)=="symbol"?t:t+""}function BL(e,t){if(Bo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $r=function(e){function t(n){var r;return RL(this,t),r=NL(this,t,[n]),Vn(r,"pieRef",null),Vn(r,"sectorRefs",[]),Vn(r,"id",ia("recharts-pie-")),Vn(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ge(a)&&a()}),Vn(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ge(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return DL(t,e),PL(t,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.label,h=l.labelLine,x=l.dataKey,g=l.valueKey,b=$e(this.props,!1),m=$e(u,!1),S=$e(h,!1),C=u&&u.offsetRadius||20,I=r.map(function(j,E){var R=(j.startAngle+j.endAngle)/2,_=St(j.cx,j.cy,j.outerRadius+C,R),T=vt(vt(vt(vt({},b),j),{},{stroke:"none"},m),{},{index:E,textAnchor:t.getTextAnchor(_.x,j.cx)},_),P=vt(vt(vt(vt({},b),j),{},{fill:"none",stroke:j.fill},S),{},{index:E,points:[St(j.cx,j.cy,j.outerRadius,R),_]}),A=x;return Ye(x)&&Ye(g)?A="value":Ye(x)&&(A=g),Q.createElement(it,{key:"label-".concat(j.startAngle,"-").concat(j.endAngle,"-").concat(j.midAngle,"-").concat(E)},h&&t.renderLabelLineItem(h,P,"line"),t.renderLabelItem(u,T,Xt(j,A)))});return Q.createElement(it,{className:"recharts-pie-labels"},I)}},{key:"renderSectorsStatically",value:function(r){var a=this,l=this.props,u=l.activeShape,h=l.blendStroke,x=l.inactiveShape;return r.map(function(g,b){if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&r.length!==1)return null;var m=a.isActiveIndex(b),S=x&&a.hasActiveIndex()?x:null,C=m?u:S,I=vt(vt({},g),{},{stroke:h?g.fill:g.stroke,tabIndex:-1});return Q.createElement(it,ao({ref:function(E){E&&!a.sectorRefs.includes(E)&&a.sectorRefs.push(E)},tabIndex:-1,className:"recharts-pie-sector"},ki(a.props,g,b),{key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(b)}),Q.createElement(Mv,ao({option:C,isActive:m,shapeType:"sector"},I)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,l=a.sectors,u=a.isAnimationActive,h=a.animationBegin,x=a.animationDuration,g=a.animationEasing,b=a.animationId,m=this.state,S=m.prevSectors,C=m.prevIsAnimationActive;return Q.createElement(vr,{begin:h,duration:x,isActive:u,easing:g,from:{t:0},to:{t:1},key:"pie-".concat(b,"-").concat(C),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(I){var j=I.t,E=[],R=l&&l[0],_=R.startAngle;return l.forEach(function(T,P){var A=S&&S[P],N=P>0?kn(T,"paddingAngle",0):0;if(A){var k=_n(A.endAngle-A.startAngle,T.endAngle-T.startAngle),W=vt(vt({},T),{},{startAngle:_+N,endAngle:_+k(j)+N});E.push(W),_=W.endAngle}else{var F=T.endAngle,ie=T.startAngle,H=_n(0,F-ie),Y=H(j),re=vt(vt({},T),{},{startAngle:_+N,endAngle:_+Y+N});E.push(re),_=re.endAngle}}),Q.createElement(it,null,r.renderSectorsStatically(E))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(l){if(!l.altKey)switch(l.key){case"ArrowLeft":{var u=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"ArrowRight":{var h=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[h].focus(),a.setState({sectorToFocus:h});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,l=r.isAnimationActive,u=this.state.prevSectors;return l&&a&&a.length&&(!u||!Bs(u,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,l=a.hide,u=a.sectors,h=a.className,x=a.label,g=a.cx,b=a.cy,m=a.innerRadius,S=a.outerRadius,C=a.isAnimationActive,I=this.state.isAnimationFinished;if(l||!u||!u.length||!Ce(g)||!Ce(b)||!Ce(m)||!Ce(S))return null;var j=Ke("recharts-pie",h);return Q.createElement(it,{tabIndex:this.props.rootTabIndex,className:j,ref:function(R){r.pieRef=R}},this.renderSectors(),x&&this.renderLabels(u),Jt.renderCallByParent(this.props,null,!1),(!C||I)&&Nr.renderCallByParent(this.props,u,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,l){if(Q.isValidElement(r))return Q.cloneElement(r,a);if(Ge(r))return r(a);var u=Ke("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return Q.createElement(Xl,ao({},a,{key:l,type:"linear",className:u}))}},{key:"renderLabelItem",value:function(r,a,l){if(Q.isValidElement(r))return Q.cloneElement(r,a);var u=l;if(Ge(r)&&(u=r(a),Q.isValidElement(u)))return u;var h=Ke("recharts-pie-label-text",typeof r!="boolean"&&!Ge(r)?r.className:"");return Q.createElement(Mi,ao({},a,{alignmentBaseline:"middle",className:h}),u)}}])}(X.PureComponent);ul=$r;Vn($r,"displayName","Pie");Vn($r,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Fi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Vn($r,"parseDeltaAngle",function(e,t){var n=pn(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Vn($r,"getRealPieData",function(e){var t=e.data,n=e.children,r=$e(e,!1),a=Mn(n,Qc);return t&&t.length?t.map(function(l,u){return vt(vt(vt({payload:l},r),l),a&&a[u]&&a[u].props)}):a&&a.length?a.map(function(l){return vt(vt({},r),l.props)}):[]});Vn($r,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,a=t.width,l=t.height,u=xv(a,l),h=r+xn(e.cx,a,a/2),x=n+xn(e.cy,l,l/2),g=xn(e.innerRadius,u,0),b=xn(e.outerRadius,u,u*.8),m=e.maxRadius||Math.sqrt(a*a+l*l)/2;return{cx:h,cy:x,innerRadius:g,outerRadius:b,maxRadius:m}});Vn($r,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?vt(vt({},t.type.defaultProps),t.props):t.props,a=ul.getRealPieData(r);if(!a||!a.length)return null;var l=r.cornerRadius,u=r.startAngle,h=r.endAngle,x=r.paddingAngle,g=r.dataKey,b=r.nameKey,m=r.valueKey,S=r.tooltipType,C=Math.abs(r.minAngle),I=ul.parseCoordinateOfPie(r,n),j=ul.parseDeltaAngle(u,h),E=Math.abs(j),R=g;Ye(g)&&Ye(m)?(rr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),R="value"):Ye(g)&&(rr(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),R=m);var _=a.filter(function(W){return Xt(W,R,0)!==0}).length,T=(E>=360?_:_-1)*x,P=E-_*C-T,A=a.reduce(function(W,F){var ie=Xt(F,R,0);return W+(Ce(ie)?ie:0)},0),N;if(A>0){var k;N=a.map(function(W,F){var ie=Xt(W,R,0),H=Xt(W,b,F),Y=(Ce(ie)?ie:0)/A,re;F?re=k.endAngle+pn(j)*x*(ie!==0?1:0):re=u;var ae=re+pn(j)*((ie!==0?C:0)+Y*P),L=(re+ae)/2,G=(I.innerRadius+I.outerRadius)/2,ee=[{name:H,value:ie,payload:W,dataKey:R,type:S}],ue=St(I.cx,I.cy,G,L);return k=vt(vt(vt({percent:Y,cornerRadius:l,name:H,tooltipPayload:ee,midAngle:L,middleRadius:G,tooltipPosition:ue},W),I),{},{value:Xt(W,R),startAngle:re,endAngle:ae,payload:W,paddingAngle:pn(j)*x}),k})}return vt(vt({},I),{},{sectors:N,data:a})});var zL=Math.ceil,LL=Math.max;function WL(e,t,n,r){for(var a=-1,l=LL(zL((t-e)/(n||1)),0),u=Array(l);l--;)u[r?l:++a]=e,e+=n;return u}var FL=WL,$L=nb,bg=1/0,UL=17976931348623157e292;function VL(e){if(!e)return e===0?e:0;if(e=$L(e),e===bg||e===-bg){var t=e<0?-1:1;return t*UL}return e===e?e:0}var zv=VL,HL=FL,GL=Zc,bu=zv;function XL(e){return function(t,n,r){return r&&typeof r!="number"&&GL(t,n,r)&&(n=r=void 0),t=bu(t),n===void 0?(n=t,t=0):n=bu(n),r=r===void 0?t<n?1:-1:bu(r),HL(t,n,r,e)}}var YL=XL,qL=YL,KL=qL(),ZL=KL;const ic=dt(ZL);function Ss(e){"@babel/helpers - typeof";return Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ss(e)}function vg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function wg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vg(Object(n),!0).forEach(function(r){Lv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lv(e,t,n){return t=QL(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QL(e){var t=JL(e,"string");return Ss(t)=="symbol"?t:t+""}function JL(e,t){if(Ss(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ss(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eW=["Webkit","Moz","O","ms"],tW=function(t,n){var r=t.replace(/(\w)/,function(l){return l.toUpperCase()}),a=eW.reduce(function(l,u){return wg(wg({},l),{},Lv({},u+r,n))},{});return a[t]=n,a};function zo(e){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zo(e)}function oc(){return oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oc.apply(this,arguments)}function Sg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sg(Object(n),!0).forEach(function(r){On(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ag(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fv(r.key),r)}}function rW(e,t,n){return t&&Ag(e.prototype,t),n&&Ag(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iW(e,t,n){return t=ac(t),oW(e,Wv()?Reflect.construct(t,n||[],ac(e).constructor):t.apply(e,n))}function oW(e,t){if(t&&(zo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aW(e)}function aW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wv=function(){return!!e})()}function ac(e){return ac=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ac(e)}function sW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Uf(e,t)}function Uf(e,t){return Uf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Uf(e,t)}function On(e,t,n){return t=Fv(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fv(e){var t=lW(e,"string");return zo(t)=="symbol"?t:t+""}function lW(e,t){if(zo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cW=function(t){var n=t.data,r=t.startIndex,a=t.endIndex,l=t.x,u=t.width,h=t.travellerWidth;if(!n||!n.length)return{};var x=n.length,g=za().domain(ic(0,x)).range([l,l+u-h]),b=g.domain().map(function(m){return g(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:g(r),endX:g(a),scale:g,scaleValues:b}},Cg=function(t){return t.changedTouches&&!!t.changedTouches.length},Lo=function(e){function t(n){var r;return nW(this,t),r=iW(this,t,[n]),On(r,"handleDrag",function(a){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(a):r.state.isSlideMoving&&r.handleSlideDrag(a)}),On(r,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&r.handleDrag(a.changedTouches[0])}),On(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=r.props,l=a.endIndex,u=a.onDragEnd,h=a.startIndex;u==null||u({endIndex:l,startIndex:h})}),r.detachDragEndListener()}),On(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),On(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),On(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),On(r,"handleSlideDragStart",function(a){var l=Cg(a)?a.changedTouches[0]:a;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:l.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return sW(t,e),rW(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var a=r.startX,l=r.endX,u=this.state.scaleValues,h=this.props,x=h.gap,g=h.data,b=g.length-1,m=Math.min(a,l),S=Math.max(a,l),C=t.getIndexInRange(u,m),I=t.getIndexInRange(u,S);return{startIndex:C-C%x,endIndex:I===b?b:I-I%x}}},{key:"getTextOfTick",value:function(r){var a=this.props,l=a.data,u=a.tickFormatter,h=a.dataKey,x=Xt(l[r],h,r);return Ge(u)?u(x,r):x}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var a=this.state,l=a.slideMoveStartX,u=a.startX,h=a.endX,x=this.props,g=x.x,b=x.width,m=x.travellerWidth,S=x.startIndex,C=x.endIndex,I=x.onChange,j=r.pageX-l;j>0?j=Math.min(j,g+b-m-h,g+b-m-u):j<0&&(j=Math.max(j,g-u,g-h));var E=this.getIndex({startX:u+j,endX:h+j});(E.startIndex!==S||E.endIndex!==C)&&I&&I(E),this.setState({startX:u+j,endX:h+j,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,a){var l=Cg(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:l.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var a=this.state,l=a.brushMoveStartX,u=a.movingTravellerId,h=a.endX,x=a.startX,g=this.state[u],b=this.props,m=b.x,S=b.width,C=b.travellerWidth,I=b.onChange,j=b.gap,E=b.data,R={startX:this.state.startX,endX:this.state.endX},_=r.pageX-l;_>0?_=Math.min(_,m+S-C-g):_<0&&(_=Math.max(_,m-g)),R[u]=g+_;var T=this.getIndex(R),P=T.startIndex,A=T.endIndex,N=function(){var W=E.length-1;return u==="startX"&&(h>x?P%j===0:A%j===0)||h<x&&A===W||u==="endX"&&(h>x?A%j===0:P%j===0)||h>x&&A===W};this.setState(On(On({},u,g+_),"brushMoveStartX",r.pageX),function(){I&&N()&&I(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,a){var l=this,u=this.state,h=u.scaleValues,x=u.startX,g=u.endX,b=this.state[a],m=h.indexOf(b);if(m!==-1){var S=m+r;if(!(S===-1||S>=h.length)){var C=h[S];a==="startX"&&C>=g||a==="endX"&&C<=x||this.setState(On({},a,C),function(){l.props.onChange(l.getIndex({startX:l.state.startX,endX:l.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,a=r.x,l=r.y,u=r.width,h=r.height,x=r.fill,g=r.stroke;return Q.createElement("rect",{stroke:g,fill:x,x:a,y:l,width:u,height:h})}},{key:"renderPanorama",value:function(){var r=this.props,a=r.x,l=r.y,u=r.width,h=r.height,x=r.data,g=r.children,b=r.padding,m=X.Children.only(g);return m?Q.cloneElement(m,{x:a,y:l,width:u,height:h,margin:b,compact:!0,data:x}):null}},{key:"renderTravellerLayer",value:function(r,a){var l,u,h=this,x=this.props,g=x.y,b=x.travellerWidth,m=x.height,S=x.traveller,C=x.ariaLabel,I=x.data,j=x.startIndex,E=x.endIndex,R=Math.max(r,this.props.x),_=vu(vu({},$e(this.props,!1)),{},{x:R,y:g,width:b,height:m}),T=C||"Min value: ".concat((l=I[j])===null||l===void 0?void 0:l.name,", Max value: ").concat((u=I[E])===null||u===void 0?void 0:u.name);return Q.createElement(it,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),h.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,a))},onFocus:function(){h.setState({isTravellerFocused:!0})},onBlur:function(){h.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(S,_))}},{key:"renderSlide",value:function(r,a){var l=this.props,u=l.y,h=l.height,x=l.stroke,g=l.travellerWidth,b=Math.min(r,a)+g,m=Math.max(Math.abs(a-r)-g,0);return Q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:x,fillOpacity:.2,x:b,y:u,width:m,height:h})}},{key:"renderText",value:function(){var r=this.props,a=r.startIndex,l=r.endIndex,u=r.y,h=r.height,x=r.travellerWidth,g=r.stroke,b=this.state,m=b.startX,S=b.endX,C=5,I={pointerEvents:"none",fill:g};return Q.createElement(it,{className:"recharts-brush-texts"},Q.createElement(Mi,oc({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,S)-C,y:u+h/2},I),this.getTextOfTick(a)),Q.createElement(Mi,oc({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,S)+x+C,y:u+h/2},I),this.getTextOfTick(l)))}},{key:"render",value:function(){var r=this.props,a=r.data,l=r.className,u=r.children,h=r.x,x=r.y,g=r.width,b=r.height,m=r.alwaysShowText,S=this.state,C=S.startX,I=S.endX,j=S.isTextActive,E=S.isSlideMoving,R=S.isTravellerMoving,_=S.isTravellerFocused;if(!a||!a.length||!Ce(h)||!Ce(x)||!Ce(g)||!Ce(b)||g<=0||b<=0)return null;var T=Ke("recharts-brush",l),P=Q.Children.count(u)===1,A=tW("userSelect","none");return Q.createElement(it,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),P&&this.renderPanorama(),this.renderSlide(C,I),this.renderTravellerLayer(C,"startX"),this.renderTravellerLayer(I,"endX"),(j||E||R||_||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var a=r.x,l=r.y,u=r.width,h=r.height,x=r.stroke,g=Math.floor(l+h/2)-1;return Q.createElement(Q.Fragment,null,Q.createElement("rect",{x:a,y:l,width:u,height:h,fill:x,stroke:"none"}),Q.createElement("line",{x1:a+1,y1:g,x2:a+u-1,y2:g,fill:"none",stroke:"#fff"}),Q.createElement("line",{x1:a+1,y1:g+2,x2:a+u-1,y2:g+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,a){var l;return Q.isValidElement(r)?l=Q.cloneElement(r,a):Ge(r)?l=r(a):l=t.renderDefaultTraveller(a),l}},{key:"getDerivedStateFromProps",value:function(r,a){var l=r.data,u=r.width,h=r.x,x=r.travellerWidth,g=r.updateId,b=r.startIndex,m=r.endIndex;if(l!==a.prevData||g!==a.prevUpdateId)return vu({prevData:l,prevTravellerWidth:x,prevUpdateId:g,prevX:h,prevWidth:u},l&&l.length?cW({data:l,width:u,x:h,travellerWidth:x,startIndex:b,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(u!==a.prevWidth||h!==a.prevX||x!==a.prevTravellerWidth)){a.scale.range([h,h+u-x]);var S=a.scale.domain().map(function(C){return a.scale(C)});return{prevData:l,prevTravellerWidth:x,prevUpdateId:g,prevX:h,prevWidth:u,startX:a.scale(r.startIndex),endX:a.scale(r.endIndex),scaleValues:S}}return null}},{key:"getIndexInRange",value:function(r,a){for(var l=r.length,u=0,h=l-1;h-u>1;){var x=Math.floor((u+h)/2);r[x]>a?h=x:u=x}return a>=r[h]?h:u}}])}(X.PureComponent);On(Lo,"displayName","Brush");On(Lo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var dW=Uh;function uW(e,t){var n;return dW(e,function(r,a,l){return n=t(r,a,l),!n}),!!n}var fW=uW,hW=Tm,pW=Ar,xW=fW,gW=Cn,yW=Zc;function mW(e,t,n){var r=gW(e)?hW:xW;return n&&yW(e,t,n)&&(t=void 0),r(e,pW(t))}var bW=mW;const vW=dt(bW);var yr=function(t,n){var r=t.alwaysShow,a=t.ifOverflow;return r&&(a="extendDomain"),a===n},jg=Zm;function wW(e,t,n){t=="__proto__"&&jg?jg(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var SW=wW,AW=SW,CW=qm,jW=Ar;function EW(e,t){var n={};return t=jW(t),CW(e,function(r,a,l){AW(n,a,t(r,a,l))}),n}var IW=EW;const OW=dt(IW);function TW(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var _W=TW,RW=Uh;function PW(e,t){var n=!0;return RW(e,function(r,a,l){return n=!!t(r,a,l),n}),n}var NW=PW,kW=_W,MW=NW,DW=Ar,BW=Cn,zW=Zc;function LW(e,t,n){var r=BW(e)?kW:MW;return n&&zW(e,t,n)&&(t=void 0),r(e,DW(t))}var WW=LW;const $v=dt(WW);var FW=["x","y"];function As(e){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function Vf(){return Vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vf.apply(this,arguments)}function Eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Eg(Object(n),!0).forEach(function(r){$W(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $W(e,t,n){return t=UW(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UW(e){var t=VW(e,"string");return As(t)=="symbol"?t:t+""}function VW(e,t){if(As(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(As(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HW(e,t){if(e==null)return{};var n=GW(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function GW(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function XW(e,t){var n=e.x,r=e.y,a=HW(e,FW),l="".concat(n),u=parseInt(l,10),h="".concat(r),x=parseInt(h,10),g="".concat(t.height||a.height),b=parseInt(g,10),m="".concat(t.width||a.width),S=parseInt(m,10);return Ra(Ra(Ra(Ra(Ra({},t),a),u?{x:u}:{}),x?{y:x}:{}),{},{height:b,width:S,name:t.name,radius:t.radius})}function Ig(e){return Q.createElement(Mv,Vf({shapeType:"rectangle",propTransformer:XW,activeClassName:"recharts-active-bar"},e))}var YW=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,a){if(typeof t=="number")return t;var l=Ce(r)||x3(r);return l?t(r,a):(l||Bi(),n)}},qW=["value","background"],Uv;function Wo(e){"@babel/helpers - typeof";return Wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wo(e)}function KW(e,t){if(e==null)return{};var n=ZW(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZW(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sc.apply(this,arguments)}function Og(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Og(Object(n),!0).forEach(function(r){Jr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Og(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hv(r.key),r)}}function JW(e,t,n){return t&&Tg(e.prototype,t),n&&Tg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function eF(e,t,n){return t=lc(t),tF(e,Vv()?Reflect.construct(t,n||[],lc(e).constructor):t.apply(e,n))}function tF(e,t){if(t&&(Wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nF(e)}function nF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vv=function(){return!!e})()}function lc(e){return lc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lc(e)}function rF(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hf(e,t)}function Hf(e,t){return Hf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Hf(e,t)}function Jr(e,t,n){return t=Hv(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hv(e){var t=iF(e,"string");return Wo(t)=="symbol"?t:t+""}function iF(e,t){if(Wo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ni=function(e){function t(){var n;QW(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return n=eF(this,t,[].concat(a)),Jr(n,"state",{isAnimationFinished:!1}),Jr(n,"id",ia("recharts-bar-")),Jr(n,"handleAnimationEnd",function(){var u=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),u&&u()}),Jr(n,"handleAnimationStart",function(){var u=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),u&&u()}),n}return rF(t,e),JW(t,[{key:"renderRectanglesStatically",value:function(r){var a=this,l=this.props,u=l.shape,h=l.dataKey,x=l.activeIndex,g=l.activeBar,b=$e(this.props,!1);return r&&r.map(function(m,S){var C=S===x,I=C?g:u,j=Wt(Wt(Wt({},b),m),{},{isActive:C,option:I,index:S,dataKey:h,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Q.createElement(it,sc({className:"recharts-bar-rectangle"},ki(a.props,m,S),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(S)}),Q.createElement(Ig,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,a=this.props,l=a.data,u=a.layout,h=a.isAnimationActive,x=a.animationBegin,g=a.animationDuration,b=a.animationEasing,m=a.animationId,S=this.state.prevData;return Q.createElement(vr,{begin:x,duration:g,isActive:h,easing:b,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(C){var I=C.t,j=l.map(function(E,R){var _=S&&S[R];if(_){var T=_n(_.x,E.x),P=_n(_.y,E.y),A=_n(_.width,E.width),N=_n(_.height,E.height);return Wt(Wt({},E),{},{x:T(I),y:P(I),width:A(I),height:N(I)})}if(u==="horizontal"){var k=_n(0,E.height),W=k(I);return Wt(Wt({},E),{},{y:E.y+E.height-W,height:W})}var F=_n(0,E.width),ie=F(I);return Wt(Wt({},E),{},{width:ie})});return Q.createElement(it,null,r.renderRectanglesStatically(j))})}},{key:"renderRectangles",value:function(){var r=this.props,a=r.data,l=r.isAnimationActive,u=this.state.prevData;return l&&a&&a.length&&(!u||!Bs(u,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var r=this,a=this.props,l=a.data,u=a.dataKey,h=a.activeIndex,x=$e(this.props.background,!1);return l.map(function(g,b){g.value;var m=g.background,S=KW(g,qW);if(!m)return null;var C=Wt(Wt(Wt(Wt(Wt({},S),{},{fill:"#eee"},m),x),ki(r.props,g,b)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:u,index:b,className:"recharts-bar-background-rectangle"});return Q.createElement(Ig,sc({key:"background-bar-".concat(b),option:r.props.background,isActive:b===h},C))})}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.data,h=l.xAxis,x=l.yAxis,g=l.layout,b=l.children,m=Mn(b,zs);if(!m)return null;var S=g==="vertical"?u[0].height/2:u[0].width/2,C=function(E,R){var _=Array.isArray(E.value)?E.value[1]:E.value;return{x:E.x,y:E.y,value:_,errorVal:Xt(E,R)}},I={clipPath:r?"url(#clipPath-".concat(a,")"):null};return Q.createElement(it,I,m.map(function(j){return Q.cloneElement(j,{key:"error-bar-".concat(a,"-").concat(j.props.dataKey),data:u,xAxis:h,yAxis:x,layout:g,offset:S,dataPointFormatter:C})}))}},{key:"render",value:function(){var r=this.props,a=r.hide,l=r.data,u=r.className,h=r.xAxis,x=r.yAxis,g=r.left,b=r.top,m=r.width,S=r.height,C=r.isAnimationActive,I=r.background,j=r.id;if(a||!l||!l.length)return null;var E=this.state.isAnimationFinished,R=Ke("recharts-bar",u),_=h&&h.allowDataOverflow,T=x&&x.allowDataOverflow,P=_||T,A=Ye(j)?this.id:j;return Q.createElement(it,{className:R},_||T?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(A)},Q.createElement("rect",{x:_?g:g-m/2,y:T?b:b-S/2,width:_?m:m*2,height:T?S:S*2}))):null,Q.createElement(it,{className:"recharts-bar-rectangles",clipPath:P?"url(#clipPath-".concat(A,")"):null},I?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(P,A),(!C||E)&&Nr.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:a.curData}:r.data!==a.curData?{curData:r.data}:null}}])}(X.PureComponent);Uv=ni;Jr(ni,"displayName","Bar");Jr(ni,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Jr(ni,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,a=e.bandSize,l=e.xAxis,u=e.yAxis,h=e.xAxisTicks,x=e.yAxisTicks,g=e.stackedData,b=e.dataStartIndex,m=e.displayedData,S=e.offset,C=kk(r,n);if(!C)return null;var I=t.layout,j=n.type.defaultProps,E=j!==void 0?Wt(Wt({},j),n.props):n.props,R=E.dataKey,_=E.children,T=E.minPointSize,P=I==="horizontal"?u:l,A=g?P.scale.domain():null,N=Fk({numericAxis:P}),k=Mn(_,Qc),W=m.map(function(F,ie){var H,Y,re,ae,L,G;g?H=Mk(g[b+ie],A):(H=Xt(F,R),Array.isArray(H)||(H=[N,H]));var ee=YW(T,Uv.defaultProps.minPointSize)(H[1],ie);if(I==="horizontal"){var ue,$=[u.scale(H[0]),u.scale(H[1])],B=$[0],q=$[1];Y=wx({axis:l,ticks:h,bandSize:a,offset:C.offset,entry:F,index:ie}),re=(ue=q??B)!==null&&ue!==void 0?ue:void 0,ae=C.size;var oe=B-q;if(L=Number.isNaN(oe)?0:oe,G={x:Y,y:u.y,width:ae,height:u.height},Math.abs(ee)>0&&Math.abs(L)<Math.abs(ee)){var de=pn(L||ee)*(Math.abs(ee)-Math.abs(L));re-=de,L+=de}}else{var be=[l.scale(H[0]),l.scale(H[1])],Me=be[0],te=be[1];if(Y=Me,re=wx({axis:u,ticks:x,bandSize:a,offset:C.offset,entry:F,index:ie}),ae=te-Me,L=C.size,G={x:l.x,y:re,width:l.width,height:L},Math.abs(ee)>0&&Math.abs(ae)<Math.abs(ee)){var Ne=pn(ae||ee)*(Math.abs(ee)-Math.abs(ae));ae+=Ne}}return Wt(Wt(Wt({},F),{},{x:Y,y:re,width:ae,height:L,value:g?H:H[1],payload:F,background:G},k&&k[ie]&&k[ie].props),{},{tooltipPayload:[hv(n,F)],tooltipPosition:{x:Y+ae/2,y:re+L/2}})});return Wt({data:W,layout:I},S)});function Cs(e){"@babel/helpers - typeof";return Cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function oF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gv(r.key),r)}}function aF(e,t,n){return t&&_g(e.prototype,t),n&&_g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rg(Object(n),!0).forEach(function(r){yd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yd(e,t,n){return t=Gv(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gv(e){var t=sF(e,"string");return Cs(t)=="symbol"?t:t+""}function sF(e,t){if(Cs(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Cs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xv=function(t,n,r,a,l){var u=t.width,h=t.height,x=t.layout,g=t.children,b=Object.keys(n),m={left:r.left,leftMirror:r.left,right:u-r.right,rightMirror:u-r.right,top:r.top,topMirror:r.top,bottom:h-r.bottom,bottomMirror:h-r.bottom},S=!!Tn(g,ni);return b.reduce(function(C,I){var j=n[I],E=j.orientation,R=j.domain,_=j.padding,T=_===void 0?{}:_,P=j.mirror,A=j.reversed,N="".concat(E).concat(P?"Mirror":""),k,W,F,ie,H;if(j.type==="number"&&(j.padding==="gap"||j.padding==="no-gap")){var Y=R[1]-R[0],re=1/0,ae=j.categoricalDomain.sort(m3);if(ae.forEach(function(be,Me){Me>0&&(re=Math.min((be||0)-(ae[Me-1]||0),re))}),Number.isFinite(re)){var L=re/Y,G=j.layout==="vertical"?r.height:r.width;if(j.padding==="gap"&&(k=L*G/2),j.padding==="no-gap"){var ee=xn(t.barCategoryGap,L*G),ue=L*G/2;k=ue-ee-(ue-ee)/G*ee}}}a==="xAxis"?W=[r.left+(T.left||0)+(k||0),r.left+r.width-(T.right||0)-(k||0)]:a==="yAxis"?W=x==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(k||0),r.top+r.height-(T.bottom||0)-(k||0)]:W=j.range,A&&(W=[W[1],W[0]]);var $=cv(j,l,S),B=$.scale,q=$.realScaleType;B.domain(R).range(W),dv(B);var oe=uv(B,Qn(Qn({},j),{},{realScaleType:q}));a==="xAxis"?(H=E==="top"&&!P||E==="bottom"&&P,F=r.left,ie=m[N]-H*j.height):a==="yAxis"&&(H=E==="left"&&!P||E==="right"&&P,F=m[N]-H*j.width,ie=r.top);var de=Qn(Qn(Qn({},j),oe),{},{realScaleType:q,x:F,y:ie,scale:B,width:a==="xAxis"?r.width:j.width,height:a==="yAxis"?r.height:j.height});return de.bandSize=Vl(de,oe),!j.hide&&a==="xAxis"?m[N]+=(H?-1:1)*de.height:j.hide||(m[N]+=(H?-1:1)*de.width),Qn(Qn({},C),{},yd({},I,de))},{})},Yv=function(t,n){var r=t.x,a=t.y,l=n.x,u=n.y;return{x:Math.min(r,l),y:Math.min(a,u),width:Math.abs(l-r),height:Math.abs(u-a)}},lF=function(t){var n=t.x1,r=t.y1,a=t.x2,l=t.y2;return Yv({x:n,y:r},{x:a,y:l})},qv=function(){function e(t){oF(this,e),this.scale=t}return aF(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=r.bandAware,l=r.position;if(n!==void 0){if(l)switch(l){case"start":return this.scale(n);case"middle":{var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}case"end":{var h=this.bandwidth?this.bandwidth():0;return this.scale(n)+h}default:return this.scale(n)}if(a){var x=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+x}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),a=r[0],l=r[r.length-1];return a<=l?n>=a&&n<=l:n>=l&&n<=a}}],[{key:"create",value:function(n){return new e(n)}}])}();yd(qv,"EPS",1e-4);var mp=function(t){var n=Object.keys(t).reduce(function(r,a){return Qn(Qn({},r),{},yd({},a,qv.create(t[a])))},{});return Qn(Qn({},n),{},{apply:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=l.bandAware,h=l.position;return OW(a,function(x,g){return n[g].apply(x,{bandAware:u,position:h})})},isInRange:function(a){return $v(a,function(l,u){return n[u].isInRange(l)})}})};function cF(e){return(e%180+180)%180}var dF=function(t){var n=t.width,r=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=cF(a),u=l*Math.PI/180,h=Math.atan(r/n),x=u>h&&u<Math.PI-h?r/Math.sin(u):n/Math.cos(u);return Math.abs(x)},uF=Ar,fF=Ps,hF=qc;function pF(e){return function(t,n,r){var a=Object(t);if(!fF(t)){var l=uF(n);t=hF(t),n=function(h){return l(a[h],h,a)}}var u=e(t,n,r);return u>-1?a[l?t[u]:u]:void 0}}var xF=pF,gF=zv;function yF(e){var t=gF(e),n=t%1;return t===t?n?t-n:t:0}var mF=yF,bF=Um,vF=Ar,wF=mF,SF=Math.max;function AF(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var a=n==null?0:wF(n);return a<0&&(a=SF(r+a,0)),bF(e,vF(t),a)}var CF=AF,jF=xF,EF=CF,IF=jF(EF),OF=IF;const TF=dt(OF);var _F=w8(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),bp=X.createContext(void 0),vp=X.createContext(void 0),Kv=X.createContext(void 0),Zv=X.createContext({}),Qv=X.createContext(void 0),Jv=X.createContext(0),e2=X.createContext(0),Pg=function(t){var n=t.state,r=n.xAxisMap,a=n.yAxisMap,l=n.offset,u=t.clipPathId,h=t.children,x=t.width,g=t.height,b=_F(l);return Q.createElement(bp.Provider,{value:r},Q.createElement(vp.Provider,{value:a},Q.createElement(Zv.Provider,{value:l},Q.createElement(Kv.Provider,{value:b},Q.createElement(Qv.Provider,{value:u},Q.createElement(Jv.Provider,{value:g},Q.createElement(e2.Provider,{value:x},h)))))))},RF=function(){return X.useContext(Qv)},t2=function(t){var n=X.useContext(bp);n==null&&Bi();var r=n[t];return r==null&&Bi(),r},PF=function(){var t=X.useContext(bp);return Zr(t)},NF=function(){var t=X.useContext(vp),n=TF(t,function(r){return $v(r.domain,Number.isFinite)});return n||Zr(t)},n2=function(t){var n=X.useContext(vp);n==null&&Bi();var r=n[t];return r==null&&Bi(),r},kF=function(){var t=X.useContext(Kv);return t},MF=function(){return X.useContext(Zv)},wp=function(){return X.useContext(e2)},Sp=function(){return X.useContext(Jv)};function Fo(e){"@babel/helpers - typeof";return Fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fo(e)}function DF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i2(r.key),r)}}function zF(e,t,n){return t&&BF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LF(e,t,n){return t=cc(t),WF(e,r2()?Reflect.construct(t,n||[],cc(e).constructor):t.apply(e,n))}function WF(e,t){if(t&&(Fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FF(e)}function FF(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r2=function(){return!!e})()}function cc(e){return cc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cc(e)}function $F(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gf(e,t)}function Gf(e,t){return Gf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Gf(e,t)}function Ng(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ng(Object(n),!0).forEach(function(r){Ap(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ng(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ap(e,t,n){return t=i2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i2(e){var t=UF(e,"string");return Fo(t)=="symbol"?t:t+""}function UF(e,t){if(Fo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function VF(e,t){return YF(e)||XF(e,t)||GF(e,t)||HF()}function HF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GF(e,t){if(e){if(typeof e=="string")return Mg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mg(e,t)}}function Mg(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function XF(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,l,u,h=[],x=!0,g=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(x=(r=l.call(n)).done)&&(h.push(r.value),h.length!==t);x=!0);}catch(b){g=!0,a=b}finally{try{if(!x&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(g)throw a}}return h}}function YF(e){if(Array.isArray(e))return e}function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xf.apply(this,arguments)}var qF=function(t,n){var r;return Q.isValidElement(t)?r=Q.cloneElement(t,n):Ge(t)?r=t(n):r=Q.createElement("line",Xf({},n,{className:"recharts-reference-line-line"})),r},KF=function(t,n,r,a,l,u,h,x,g){var b=l.x,m=l.y,S=l.width,C=l.height;if(r){var I=g.y,j=t.y.apply(I,{position:u});if(yr(g,"discard")&&!t.y.isInRange(j))return null;var E=[{x:b+S,y:j},{x:b,y:j}];return x==="left"?E.reverse():E}if(n){var R=g.x,_=t.x.apply(R,{position:u});if(yr(g,"discard")&&!t.x.isInRange(_))return null;var T=[{x:_,y:m+C},{x:_,y:m}];return h==="top"?T.reverse():T}if(a){var P=g.segment,A=P.map(function(N){return t.apply(N,{position:u})});return yr(g,"discard")&&vW(A,function(N){return!t.isInRange(N)})?null:A}return null};function ZF(e){var t=e.x,n=e.y,r=e.segment,a=e.xAxisId,l=e.yAxisId,u=e.shape,h=e.className,x=e.alwaysShow,g=RF(),b=t2(a),m=n2(l),S=kF();if(!g||!S)return null;rr(x===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var C=mp({x:b.scale,y:m.scale}),I=Yt(t),j=Yt(n),E=r&&r.length===2,R=KF(C,I,j,E,S,e.position,b.orientation,m.orientation,e);if(!R)return null;var _=VF(R,2),T=_[0],P=T.x,A=T.y,N=_[1],k=N.x,W=N.y,F=yr(e,"hidden")?"url(#".concat(g,")"):void 0,ie=kg(kg({clipPath:F},$e(e,!0)),{},{x1:P,y1:A,x2:k,y2:W});return Q.createElement(it,{className:Ke("recharts-reference-line",h)},qF(u,ie),Jt.renderCallByParent(e,lF({x1:P,y1:A,x2:k,y2:W})))}var Cp=function(e){function t(){return DF(this,t),LF(this,t,arguments)}return $F(t,e),zF(t,[{key:"render",value:function(){return Q.createElement(ZF,this.props)}}])}(Q.Component);Ap(Cp,"displayName","ReferenceLine");Ap(Cp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yf.apply(this,arguments)}function $o(e){"@babel/helpers - typeof";return $o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$o(e)}function Dg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Dg(Object(n),!0).forEach(function(r){md(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a2(r.key),r)}}function e$(e,t,n){return t&&JF(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function t$(e,t,n){return t=dc(t),n$(e,o2()?Reflect.construct(t,n||[],dc(e).constructor):t.apply(e,n))}function n$(e,t){if(t&&($o(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r$(e)}function r$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o2=function(){return!!e})()}function dc(e){return dc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dc(e)}function i$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qf(e,t)}function qf(e,t){return qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},qf(e,t)}function md(e,t,n){return t=a2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a2(e){var t=o$(e,"string");return $o(t)=="symbol"?t:t+""}function o$(e,t){if($o(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($o(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var a$=function(t){var n=t.x,r=t.y,a=t.xAxis,l=t.yAxis,u=mp({x:a.scale,y:l.scale}),h=u.apply({x:n,y:r},{bandAware:!0});return yr(t,"discard")&&!u.isInRange(h)?null:h},bd=function(e){function t(){return QF(this,t),t$(this,t,arguments)}return i$(t,e),e$(t,[{key:"render",value:function(){var r=this.props,a=r.x,l=r.y,u=r.r,h=r.alwaysShow,x=r.clipPathId,g=Yt(a),b=Yt(l);if(rr(h===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!g||!b)return null;var m=a$(this.props);if(!m)return null;var S=m.x,C=m.y,I=this.props,j=I.shape,E=I.className,R=yr(this.props,"hidden")?"url(#".concat(x,")"):void 0,_=Bg(Bg({clipPath:R},$e(this.props,!0)),{},{cx:S,cy:C});return Q.createElement(it,{className:Ke("recharts-reference-dot",E)},t.renderDot(j,_),Jt.renderCallByParent(this.props,{x:S-u,y:C-u,width:2*u,height:2*u}))}}])}(Q.Component);md(bd,"displayName","ReferenceDot");md(bd,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});md(bd,"renderDot",function(e,t){var n;return Q.isValidElement(e)?n=Q.cloneElement(e,t):Ge(e)?n=e(t):n=Q.createElement(dd,Yf({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function Kf(){return Kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kf.apply(this,arguments)}function Uo(e){"@babel/helpers - typeof";return Uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uo(e)}function zg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zg(Object(n),!0).forEach(function(r){vd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l2(r.key),r)}}function c$(e,t,n){return t&&l$(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d$(e,t,n){return t=uc(t),u$(e,s2()?Reflect.construct(t,n||[],uc(e).constructor):t.apply(e,n))}function u$(e,t){if(t&&(Uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f$(e)}function f$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s2=function(){return!!e})()}function uc(e){return uc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uc(e)}function h$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zf(e,t)}function Zf(e,t){return Zf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Zf(e,t)}function vd(e,t,n){return t=l2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l2(e){var t=p$(e,"string");return Uo(t)=="symbol"?t:t+""}function p$(e,t){if(Uo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var x$=function(t,n,r,a,l){var u=l.x1,h=l.x2,x=l.y1,g=l.y2,b=l.xAxis,m=l.yAxis;if(!b||!m)return null;var S=mp({x:b.scale,y:m.scale}),C={x:t?S.x.apply(u,{position:"start"}):S.x.rangeMin,y:r?S.y.apply(x,{position:"start"}):S.y.rangeMin},I={x:n?S.x.apply(h,{position:"end"}):S.x.rangeMax,y:a?S.y.apply(g,{position:"end"}):S.y.rangeMax};return yr(l,"discard")&&(!S.isInRange(C)||!S.isInRange(I))?null:Yv(C,I)},wd=function(e){function t(){return s$(this,t),d$(this,t,arguments)}return h$(t,e),c$(t,[{key:"render",value:function(){var r=this.props,a=r.x1,l=r.x2,u=r.y1,h=r.y2,x=r.className,g=r.alwaysShow,b=r.clipPathId;rr(g===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Yt(a),S=Yt(l),C=Yt(u),I=Yt(h),j=this.props.shape;if(!m&&!S&&!C&&!I&&!j)return null;var E=x$(m,S,C,I,this.props);if(!E&&!j)return null;var R=yr(this.props,"hidden")?"url(#".concat(b,")"):void 0;return Q.createElement(it,{className:Ke("recharts-reference-area",x)},t.renderRect(j,Lg(Lg({clipPath:R},$e(this.props,!0)),E)),Jt.renderCallByParent(this.props,E))}}])}(Q.Component);vd(wd,"displayName","ReferenceArea");vd(wd,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});vd(wd,"renderRect",function(e,t){var n;return Q.isValidElement(e)?n=Q.cloneElement(e,t):Ge(e)?n=e(t):n=Q.createElement(yp,Kf({},t,{className:"recharts-reference-area-rect"})),n});function c2(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],a=0;a<e.length;a+=t)r.push(e[a]);return r}function g$(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return dF(r,n)}function y$(e,t,n){var r=n==="width",a=e.x,l=e.y,u=e.width,h=e.height;return t===1?{start:r?a:l,end:r?a+u:l+h}:{start:r?a+u:l+h,end:r?a:l}}function fc(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var l=n();return e*(t-e*l/2-r)>=0&&e*(t+e*l/2-a)<=0}function m$(e,t){return c2(e,t+1)}function b$(e,t,n,r,a){for(var l=(r||[]).slice(),u=t.start,h=t.end,x=0,g=1,b=u,m=function(){var I=r==null?void 0:r[x];if(I===void 0)return{v:c2(r,g)};var j=x,E,R=function(){return E===void 0&&(E=n(I,j)),E},_=I.coordinate,T=x===0||fc(e,_,R,b,h);T||(x=0,b=u,g+=1),T&&(b=_+e*(R()/2+a),x+=g)},S;g<=l.length;)if(S=m(),S)return S.v;return[]}function js(e){"@babel/helpers - typeof";return js=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},js(e)}function Wg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wg(Object(n),!0).forEach(function(r){v$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v$(e,t,n){return t=w$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w$(e){var t=S$(e,"string");return js(t)=="symbol"?t:t+""}function S$(e,t){if(js(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(js(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A$(e,t,n,r,a){for(var l=(r||[]).slice(),u=l.length,h=t.start,x=t.end,g=function(S){var C=l[S],I,j=function(){return I===void 0&&(I=n(C,S)),I};if(S===u-1){var E=e*(C.coordinate+e*j()/2-x);l[S]=C=cn(cn({},C),{},{tickCoord:E>0?C.coordinate-E*e:C.coordinate})}else l[S]=C=cn(cn({},C),{},{tickCoord:C.coordinate});var R=fc(e,C.tickCoord,j,h,x);R&&(x=C.tickCoord-e*(j()/2+a),l[S]=cn(cn({},C),{},{isShow:!0}))},b=u-1;b>=0;b--)g(b);return l}function C$(e,t,n,r,a,l){var u=(r||[]).slice(),h=u.length,x=t.start,g=t.end;if(l){var b=r[h-1],m=n(b,h-1),S=e*(b.coordinate+e*m/2-g);u[h-1]=b=cn(cn({},b),{},{tickCoord:S>0?b.coordinate-S*e:b.coordinate});var C=fc(e,b.tickCoord,function(){return m},x,g);C&&(g=b.tickCoord-e*(m/2+a),u[h-1]=cn(cn({},b),{},{isShow:!0}))}for(var I=l?h-1:h,j=function(_){var T=u[_],P,A=function(){return P===void 0&&(P=n(T,_)),P};if(_===0){var N=e*(T.coordinate-e*A()/2-x);u[_]=T=cn(cn({},T),{},{tickCoord:N<0?T.coordinate-N*e:T.coordinate})}else u[_]=T=cn(cn({},T),{},{tickCoord:T.coordinate});var k=fc(e,T.tickCoord,A,x,g);k&&(x=T.tickCoord+e*(A()/2+a),u[_]=cn(cn({},T),{},{isShow:!0}))},E=0;E<I;E++)j(E);return u}function jp(e,t,n){var r=e.tick,a=e.ticks,l=e.viewBox,u=e.minTickGap,h=e.orientation,x=e.interval,g=e.tickFormatter,b=e.unit,m=e.angle;if(!a||!a.length||!r)return[];if(Ce(x)||Fi.isSsr)return m$(a,typeof x=="number"&&Ce(x)?x:0);var S=[],C=h==="top"||h==="bottom"?"width":"height",I=b&&C==="width"?Ba(b,{fontSize:t,letterSpacing:n}):{width:0,height:0},j=function(T,P){var A=Ge(g)?g(T.value,P):T.value;return C==="width"?g$(Ba(A,{fontSize:t,letterSpacing:n}),I,m):Ba(A,{fontSize:t,letterSpacing:n})[C]},E=a.length>=2?pn(a[1].coordinate-a[0].coordinate):1,R=y$(l,E,C);return x==="equidistantPreserveStart"?b$(E,R,j,a,u):(x==="preserveStart"||x==="preserveStartEnd"?S=C$(E,R,j,a,u,x==="preserveStartEnd"):S=A$(E,R,j,a,u),S.filter(function(_){return _.isShow}))}var j$=["viewBox"],E$=["viewBox"],I$=["ticks"];function Vo(e){"@babel/helpers - typeof";return Vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vo(e)}function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},so.apply(this,arguments)}function Fg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ht(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Fg(Object(n),!0).forEach(function(r){Ep(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wu(e,t){if(e==null)return{};var n=O$(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function O$(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function T$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u2(r.key),r)}}function _$(e,t,n){return t&&$g(e.prototype,t),n&&$g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function R$(e,t,n){return t=hc(t),P$(e,d2()?Reflect.construct(t,n||[],hc(e).constructor):t.apply(e,n))}function P$(e,t){if(t&&(Vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N$(e)}function N$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d2=function(){return!!e})()}function hc(e){return hc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hc(e)}function k$(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qf(e,t)}function Qf(e,t){return Qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Qf(e,t)}function Ep(e,t,n){return t=u2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u2(e){var t=M$(e,"string");return Vo(t)=="symbol"?t:t+""}function M$(e,t){if(Vo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ua=function(e){function t(n){var r;return T$(this,t),r=R$(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return k$(t,e),_$(t,[{key:"shouldComponentUpdate",value:function(r,a){var l=r.viewBox,u=wu(r,j$),h=this.props,x=h.viewBox,g=wu(h,E$);return!xo(l,x)||!xo(u,g)||!xo(a,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var a=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var a=this.props,l=a.x,u=a.y,h=a.width,x=a.height,g=a.orientation,b=a.tickSize,m=a.mirror,S=a.tickMargin,C,I,j,E,R,_,T=m?-1:1,P=r.tickSize||b,A=Ce(r.tickCoord)?r.tickCoord:r.coordinate;switch(g){case"top":C=I=r.coordinate,E=u+ +!m*x,j=E-T*P,_=j-T*S,R=A;break;case"left":j=E=r.coordinate,I=l+ +!m*h,C=I-T*P,R=C-T*S,_=A;break;case"right":j=E=r.coordinate,I=l+ +m*h,C=I+T*P,R=C+T*S,_=A;break;default:C=I=r.coordinate,E=u+ +m*x,j=E+T*P,_=j+T*S,R=A;break}return{line:{x1:C,y1:j,x2:I,y2:E},tick:{x:R,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,a=r.orientation,l=r.mirror,u;switch(a){case"left":u=l?"start":"end";break;case"right":u=l?"end":"start";break;default:u="middle";break}return u}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,a=r.orientation,l=r.mirror,u="end";switch(a){case"left":case"right":u="middle";break;case"top":u=l?"start":"end";break;default:u=l?"end":"start";break}return u}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.x,l=r.y,u=r.width,h=r.height,x=r.orientation,g=r.mirror,b=r.axisLine,m=Ht(Ht(Ht({},$e(this.props,!1)),$e(b,!1)),{},{fill:"none"});if(x==="top"||x==="bottom"){var S=+(x==="top"&&!g||x==="bottom"&&g);m=Ht(Ht({},m),{},{x1:a,y1:l+S*h,x2:a+u,y2:l+S*h})}else{var C=+(x==="left"&&!g||x==="right"&&g);m=Ht(Ht({},m),{},{x1:a+C*u,y1:l,x2:a+C*u,y2:l+h})}return Q.createElement("line",so({},m,{className:Ke("recharts-cartesian-axis-line",kn(b,"className"))}))}},{key:"renderTicks",value:function(r,a,l){var u=this,h=this.props,x=h.tickLine,g=h.stroke,b=h.tick,m=h.tickFormatter,S=h.unit,C=jp(Ht(Ht({},this.props),{},{ticks:r}),a,l),I=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),E=$e(this.props,!1),R=$e(b,!1),_=Ht(Ht({},E),{},{fill:"none"},$e(x,!1)),T=C.map(function(P,A){var N=u.getTickLineCoord(P),k=N.line,W=N.tick,F=Ht(Ht(Ht(Ht({textAnchor:I,verticalAnchor:j},E),{},{stroke:"none",fill:g},R),W),{},{index:A,payload:P,visibleTicksCount:C.length,tickFormatter:m});return Q.createElement(it,so({className:"recharts-cartesian-axis-tick",key:"tick-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},ki(u.props,P,A)),x&&Q.createElement("line",so({},_,k,{className:Ke("recharts-cartesian-axis-tick-line",kn(x,"className"))})),b&&t.renderTickItem(b,F,"".concat(Ge(m)?m(P.value,A):P.value).concat(S||"")))});return Q.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var r=this,a=this.props,l=a.axisLine,u=a.width,h=a.height,x=a.ticksGenerator,g=a.className,b=a.hide;if(b)return null;var m=this.props,S=m.ticks,C=wu(m,I$),I=S;return Ge(x)&&(I=S&&S.length>0?x(this.props):x(C)),u<=0||h<=0||!I||!I.length?null:Q.createElement(it,{className:Ke("recharts-cartesian-axis",g),ref:function(E){r.layerReference=E}},l&&this.renderAxisLine(),this.renderTicks(I,this.state.fontSize,this.state.letterSpacing),Jt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,a,l){var u,h=Ke(a.className,"recharts-cartesian-axis-tick-value");return Q.isValidElement(r)?u=Q.cloneElement(r,Ht(Ht({},a),{},{className:h})):Ge(r)?u=r(Ht(Ht({},a),{},{className:h})):u=Q.createElement(Mi,so({},a,{className:"recharts-cartesian-axis-tick-value"}),l),u}}])}(X.Component);Ep(ua,"displayName","CartesianAxis");Ep(ua,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var D$=["x1","y1","x2","y2","key"],B$=["offset"];function zi(e){"@babel/helpers - typeof";return zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zi(e)}function Ug(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ug(Object(n),!0).forEach(function(r){z$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ug(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z$(e,t,n){return t=L$(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L$(e){var t=W$(e,"string");return zi(t)=="symbol"?t:t+""}function W$(e,t){if(zi(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zi(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oi.apply(this,arguments)}function Vg(e,t){if(e==null)return{};var n=F$(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function F$(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var $$=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,a=t.x,l=t.y,u=t.width,h=t.height,x=t.ry;return Q.createElement("rect",{x:a,y:l,ry:x,width:u,height:h,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function f2(e,t){var n;if(Q.isValidElement(e))n=Q.cloneElement(e,t);else if(Ge(e))n=e(t);else{var r=t.x1,a=t.y1,l=t.x2,u=t.y2,h=t.key,x=Vg(t,D$),g=$e(x,!1);g.offset;var b=Vg(g,B$);n=Q.createElement("line",Oi({},b,{x1:r,y1:a,x2:l,y2:u,fill:"none",key:h}))}return n}function U$(e){var t=e.x,n=e.width,r=e.horizontal,a=r===void 0?!0:r,l=e.horizontalPoints;if(!a||!l||!l.length)return null;var u=l.map(function(h,x){var g=dn(dn({},e),{},{x1:t,y1:h,x2:t+n,y2:h,key:"line-".concat(x),index:x});return f2(a,g)});return Q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function V$(e){var t=e.y,n=e.height,r=e.vertical,a=r===void 0?!0:r,l=e.verticalPoints;if(!a||!l||!l.length)return null;var u=l.map(function(h,x){var g=dn(dn({},e),{},{x1:h,y1:t,x2:h,y2:t+n,key:"line-".concat(x),index:x});return f2(a,g)});return Q.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function H$(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,a=e.y,l=e.width,u=e.height,h=e.horizontalPoints,x=e.horizontal,g=x===void 0?!0:x;if(!g||!t||!t.length)return null;var b=h.map(function(S){return Math.round(S+a-a)}).sort(function(S,C){return S-C});a!==b[0]&&b.unshift(0);var m=b.map(function(S,C){var I=!b[C+1],j=I?a+u-S:b[C+1]-S;if(j<=0)return null;var E=C%t.length;return Q.createElement("rect",{key:"react-".concat(C),y:S,x:r,height:j,width:l,stroke:"none",fill:t[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function G$(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,a=e.fillOpacity,l=e.x,u=e.y,h=e.width,x=e.height,g=e.verticalPoints;if(!n||!r||!r.length)return null;var b=g.map(function(S){return Math.round(S+l-l)}).sort(function(S,C){return S-C});l!==b[0]&&b.unshift(0);var m=b.map(function(S,C){var I=!b[C+1],j=I?l+h-S:b[C+1]-S;if(j<=0)return null;var E=C%r.length;return Q.createElement("rect",{key:"react-".concat(C),x:S,y:u,width:j,height:x,stroke:"none",fill:r[E],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var X$=function(t,n){var r=t.xAxis,a=t.width,l=t.height,u=t.offset;return lv(jp(dn(dn(dn({},ua.defaultProps),r),{},{ticks:_r(r,!0),viewBox:{x:0,y:0,width:a,height:l}})),u.left,u.left+u.width,n)},Y$=function(t,n){var r=t.yAxis,a=t.width,l=t.height,u=t.offset;return lv(jp(dn(dn(dn({},ua.defaultProps),r),{},{ticks:_r(r,!0),viewBox:{x:0,y:0,width:a,height:l}})),u.top,u.top+u.height,n)},no={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Es(e){var t,n,r,a,l,u,h=wp(),x=Sp(),g=MF(),b=dn(dn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:no.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:no.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:no.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:no.horizontalFill,vertical:(l=e.vertical)!==null&&l!==void 0?l:no.vertical,verticalFill:(u=e.verticalFill)!==null&&u!==void 0?u:no.verticalFill,x:Ce(e.x)?e.x:g.left,y:Ce(e.y)?e.y:g.top,width:Ce(e.width)?e.width:g.width,height:Ce(e.height)?e.height:g.height}),m=b.x,S=b.y,C=b.width,I=b.height,j=b.syncWithTicks,E=b.horizontalValues,R=b.verticalValues,_=PF(),T=NF();if(!Ce(C)||C<=0||!Ce(I)||I<=0||!Ce(m)||m!==+m||!Ce(S)||S!==+S)return null;var P=b.verticalCoordinatesGenerator||X$,A=b.horizontalCoordinatesGenerator||Y$,N=b.horizontalPoints,k=b.verticalPoints;if((!N||!N.length)&&Ge(A)){var W=E&&E.length,F=A({yAxis:T?dn(dn({},T),{},{ticks:W?E:T.ticks}):void 0,width:h,height:x,offset:g},W?!0:j);rr(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(zi(F),"]")),Array.isArray(F)&&(N=F)}if((!k||!k.length)&&Ge(P)){var ie=R&&R.length,H=P({xAxis:_?dn(dn({},_),{},{ticks:ie?R:_.ticks}):void 0,width:h,height:x,offset:g},ie?!0:j);rr(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(zi(H),"]")),Array.isArray(H)&&(k=H)}return Q.createElement("g",{className:"recharts-cartesian-grid"},Q.createElement($$,{fill:b.fill,fillOpacity:b.fillOpacity,x:b.x,y:b.y,width:b.width,height:b.height,ry:b.ry}),Q.createElement(U$,Oi({},b,{offset:g,horizontalPoints:N,xAxis:_,yAxis:T})),Q.createElement(V$,Oi({},b,{offset:g,verticalPoints:k,xAxis:_,yAxis:T})),Q.createElement(H$,Oi({},b,{horizontalPoints:N})),Q.createElement(G$,Oi({},b,{verticalPoints:k})))}Es.displayName="CartesianGrid";var q$=["type","layout","connectNulls","ref"],K$=["key"];function Ho(e){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(e)}function Hg(e,t){if(e==null)return{};var n=Z$(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Z$(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ua(){return Ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ua.apply(this,arguments)}function Gg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gg(Object(n),!0).forEach(function(r){Jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ro(e){return tU(e)||eU(e)||J$(e)||Q$()}function Q$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J$(e,t){if(e){if(typeof e=="string")return Jf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jf(e,t)}}function eU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tU(e){if(Array.isArray(e))return Jf(e)}function Jf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p2(r.key),r)}}function rU(e,t,n){return t&&Xg(e.prototype,t),n&&Xg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function iU(e,t,n){return t=pc(t),oU(e,h2()?Reflect.construct(t,n||[],pc(e).constructor):t.apply(e,n))}function oU(e,t){if(t&&(Ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aU(e)}function aU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h2=function(){return!!e})()}function pc(e){return pc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pc(e)}function sU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eh(e,t)}function eh(e,t){return eh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},eh(e,t)}function Jn(e,t,n){return t=p2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p2(e){var t=lU(e,"string");return Ho(t)=="symbol"?t:t+""}function lU(e,t){if(Ho(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ho(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kr=function(e){function t(){var n;nU(this,t);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return n=iU(this,t,[].concat(a)),Jn(n,"state",{isAnimationFinished:!0,totalLength:0}),Jn(n,"generateSimpleStrokeDasharray",function(u,h){return"".concat(h,"px ").concat(u-h,"px")}),Jn(n,"getStrokeDasharray",function(u,h,x){var g=x.reduce(function(R,_){return R+_});if(!g)return n.generateSimpleStrokeDasharray(h,u);for(var b=Math.floor(u/g),m=u%g,S=h-u,C=[],I=0,j=0;I<x.length;j+=x[I],++I)if(j+x[I]>m){C=[].concat(ro(x.slice(0,I)),[m-j]);break}var E=C.length%2===0?[0,S]:[S];return[].concat(ro(t.repeat(x,b)),ro(C),E).map(function(R){return"".concat(R,"px")}).join(", ")}),Jn(n,"id",ia("recharts-line-")),Jn(n,"pathRef",function(u){n.mainCurve=u}),Jn(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Jn(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return sU(t,e),rU(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var l=this.props,u=l.points,h=l.xAxis,x=l.yAxis,g=l.layout,b=l.children,m=Mn(b,zs);if(!m)return null;var S=function(j,E){return{x:j.x,y:j.y,value:j.value,errorVal:Xt(j.payload,E)}},C={clipPath:r?"url(#clipPath-".concat(a,")"):null};return Q.createElement(it,C,m.map(function(I){return Q.cloneElement(I,{key:"bar-".concat(I.props.dataKey),data:u,xAxis:h,yAxis:x,layout:g,dataPointFormatter:S})}))}},{key:"renderDots",value:function(r,a,l){var u=this.props.isAnimationActive;if(u&&!this.state.isAnimationFinished)return null;var h=this.props,x=h.dot,g=h.points,b=h.dataKey,m=$e(this.props,!1),S=$e(x,!0),C=g.map(function(j,E){var R=En(En(En({key:"dot-".concat(E),r:3},m),S),{},{index:E,cx:j.x,cy:j.y,value:j.value,dataKey:b,payload:j.payload,points:g});return t.renderDotItem(x,R)}),I={clipPath:r?"url(#clipPath-".concat(a?"":"dots-").concat(l,")"):null};return Q.createElement(it,Ua({className:"recharts-line-dots",key:"dots"},I),C)}},{key:"renderCurveStatically",value:function(r,a,l,u){var h=this.props,x=h.type,g=h.layout,b=h.connectNulls;h.ref;var m=Hg(h,q$),S=En(En(En({},$e(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(l,")"):null,points:r},u),{},{type:x,layout:g,connectNulls:b});return Q.createElement(Xl,Ua({},S,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,a){var l=this,u=this.props,h=u.points,x=u.strokeDasharray,g=u.isAnimationActive,b=u.animationBegin,m=u.animationDuration,S=u.animationEasing,C=u.animationId,I=u.animateNewValues,j=u.width,E=u.height,R=this.state,_=R.prevPoints,T=R.totalLength;return Q.createElement(vr,{begin:b,duration:m,isActive:g,easing:S,from:{t:0},to:{t:1},key:"line-".concat(C),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var A=P.t;if(_){var N=_.length/h.length,k=h.map(function(Y,re){var ae=Math.floor(re*N);if(_[ae]){var L=_[ae],G=_n(L.x,Y.x),ee=_n(L.y,Y.y);return En(En({},Y),{},{x:G(A),y:ee(A)})}if(I){var ue=_n(j*2,Y.x),$=_n(E/2,Y.y);return En(En({},Y),{},{x:ue(A),y:$(A)})}return En(En({},Y),{},{x:Y.x,y:Y.y})});return l.renderCurveStatically(k,r,a)}var W=_n(0,T),F=W(A),ie;if(x){var H="".concat(x).split(/[,\s]+/gim).map(function(Y){return parseFloat(Y)});ie=l.getStrokeDasharray(F,T,H)}else ie=l.generateSimpleStrokeDasharray(T,F);return l.renderCurveStatically(h,r,a,{strokeDasharray:ie})})}},{key:"renderCurve",value:function(r,a){var l=this.props,u=l.points,h=l.isAnimationActive,x=this.state,g=x.prevPoints,b=x.totalLength;return h&&u&&u.length&&(!g&&b>0||!Bs(g,u))?this.renderCurveWithAnimation(r,a):this.renderCurveStatically(u,r,a)}},{key:"render",value:function(){var r,a=this.props,l=a.hide,u=a.dot,h=a.points,x=a.className,g=a.xAxis,b=a.yAxis,m=a.top,S=a.left,C=a.width,I=a.height,j=a.isAnimationActive,E=a.id;if(l||!h||!h.length)return null;var R=this.state.isAnimationFinished,_=h.length===1,T=Ke("recharts-line",x),P=g&&g.allowDataOverflow,A=b&&b.allowDataOverflow,N=P||A,k=Ye(E)?this.id:E,W=(r=$e(u,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},F=W.r,ie=F===void 0?3:F,H=W.strokeWidth,Y=H===void 0?2:H,re=I3(u)?u:{},ae=re.clipDot,L=ae===void 0?!0:ae,G=ie*2+Y;return Q.createElement(it,{className:T},P||A?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(k)},Q.createElement("rect",{x:P?S:S-C/2,y:A?m:m-I/2,width:P?C:C*2,height:A?I:I*2})),!L&&Q.createElement("clipPath",{id:"clipPath-dots-".concat(k)},Q.createElement("rect",{x:S-G/2,y:m-G/2,width:C+G,height:I+G}))):null,!_&&this.renderCurve(N,k),this.renderErrorBar(N,k),(_||u)&&this.renderDots(N,L,k),(!j||R)&&Nr.renderCallByParent(this.props,h))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:a.curPoints}:r.points!==a.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,a){for(var l=r.length%2!==0?[].concat(ro(r),[0]):r,u=[],h=0;h<a;++h)u=[].concat(ro(u),ro(l));return u}},{key:"renderDotItem",value:function(r,a){var l;if(Q.isValidElement(r))l=Q.cloneElement(r,a);else if(Ge(r))l=r(a);else{var u=a.key,h=Hg(a,K$),x=Ke("recharts-line-dot",typeof r!="boolean"?r.className:"");l=Q.createElement(dd,Ua({key:u},h,{className:x}))}return l}}])}(X.PureComponent);Jn(kr,"displayName","Line");Jn(kr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Fi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Jn(kr,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,a=e.xAxisTicks,l=e.yAxisTicks,u=e.dataKey,h=e.bandSize,x=e.displayedData,g=e.offset,b=t.layout,m=x.map(function(S,C){var I=Xt(S,u);return b==="horizontal"?{x:vx({axis:n,ticks:a,bandSize:h,entry:S,index:C}),y:Ye(I)?null:r.scale(I),value:I,payload:S}:{x:Ye(I)?null:n.scale(I),y:vx({axis:r,ticks:l,bandSize:h,entry:S,index:C}),value:I,payload:S}});return En({points:m,layout:b},g)});function Go(e){"@babel/helpers - typeof";return Go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(e)}function cU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y2(r.key),r)}}function uU(e,t,n){return t&&dU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fU(e,t,n){return t=xc(t),hU(e,x2()?Reflect.construct(t,n||[],xc(e).constructor):t.apply(e,n))}function hU(e,t){if(t&&(Go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pU(e)}function pU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x2=function(){return!!e})()}function xc(e){return xc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xc(e)}function xU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&th(e,t)}function th(e,t){return th=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},th(e,t)}function g2(e,t,n){return t=y2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y2(e){var t=gU(e,"string");return Go(t)=="symbol"?t:t+""}function gU(e,t){if(Go(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Go(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nh.apply(this,arguments)}function yU(e){var t=e.xAxisId,n=wp(),r=Sp(),a=t2(t);return a==null?null:X.createElement(ua,nh({},a,{className:Ke("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(u){return _r(u,!0)}}))}var ri=function(e){function t(){return cU(this,t),fU(this,t,arguments)}return xU(t,e),uU(t,[{key:"render",value:function(){return X.createElement(yU,this.props)}}])}(X.Component);g2(ri,"displayName","XAxis");g2(ri,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Xo(e){"@babel/helpers - typeof";return Xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(e)}function mU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v2(r.key),r)}}function vU(e,t,n){return t&&bU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wU(e,t,n){return t=gc(t),SU(e,m2()?Reflect.construct(t,n||[],gc(e).constructor):t.apply(e,n))}function SU(e,t){if(t&&(Xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AU(e)}function AU(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m2=function(){return!!e})()}function gc(e){return gc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gc(e)}function CU(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rh(e,t)}function rh(e,t){return rh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},rh(e,t)}function b2(e,t,n){return t=v2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v2(e){var t=jU(e,"string");return Xo(t)=="symbol"?t:t+""}function jU(e,t){if(Xo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ih(){return ih=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ih.apply(this,arguments)}var EU=function(t){var n=t.yAxisId,r=wp(),a=Sp(),l=n2(n);return l==null?null:X.createElement(ua,ih({},l,{className:Ke("recharts-".concat(l.axisType," ").concat(l.axisType),l.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(h){return _r(h,!0)}}))},ii=function(e){function t(){return mU(this,t),wU(this,t,arguments)}return CU(t,e),vU(t,[{key:"render",value:function(){return X.createElement(EU,this.props)}}])}(X.Component);b2(ii,"displayName","YAxis");b2(ii,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Yg(e){return _U(e)||TU(e)||OU(e)||IU()}function IU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OU(e,t){if(e){if(typeof e=="string")return oh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oh(e,t)}}function TU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _U(e){if(Array.isArray(e))return oh(e)}function oh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ah=function(t,n,r,a,l){var u=Mn(t,Cp),h=Mn(t,bd),x=[].concat(Yg(u),Yg(h)),g=Mn(t,wd),b="".concat(a,"Id"),m=a[0],S=n;if(x.length&&(S=x.reduce(function(j,E){if(E.props[b]===r&&yr(E.props,"extendDomain")&&Ce(E.props[m])){var R=E.props[m];return[Math.min(j[0],R),Math.max(j[1],R)]}return j},S)),g.length){var C="".concat(m,"1"),I="".concat(m,"2");S=g.reduce(function(j,E){if(E.props[b]===r&&yr(E.props,"extendDomain")&&Ce(E.props[C])&&Ce(E.props[I])){var R=E.props[C],_=E.props[I];return[Math.min(j[0],R,_),Math.max(j[1],R,_)]}return j},S)}return l&&l.length&&(S=l.reduce(function(j,E){return Ce(E)?[Math.min(j[0],E),Math.max(j[1],E)]:j},S)),S},w2={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(x,g,b){this.fn=x,this.context=g,this.once=b||!1}function l(x,g,b,m,S){if(typeof b!="function")throw new TypeError("The listener must be a function");var C=new a(b,m||x,S),I=n?n+g:g;return x._events[I]?x._events[I].fn?x._events[I]=[x._events[I],C]:x._events[I].push(C):(x._events[I]=C,x._eventsCount++),x}function u(x,g){--x._eventsCount===0?x._events=new r:delete x._events[g]}function h(){this._events=new r,this._eventsCount=0}h.prototype.eventNames=function(){var g=[],b,m;if(this._eventsCount===0)return g;for(m in b=this._events)t.call(b,m)&&g.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(b)):g},h.prototype.listeners=function(g){var b=n?n+g:g,m=this._events[b];if(!m)return[];if(m.fn)return[m.fn];for(var S=0,C=m.length,I=new Array(C);S<C;S++)I[S]=m[S].fn;return I},h.prototype.listenerCount=function(g){var b=n?n+g:g,m=this._events[b];return m?m.fn?1:m.length:0},h.prototype.emit=function(g,b,m,S,C,I){var j=n?n+g:g;if(!this._events[j])return!1;var E=this._events[j],R=arguments.length,_,T;if(E.fn){switch(E.once&&this.removeListener(g,E.fn,void 0,!0),R){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,b),!0;case 3:return E.fn.call(E.context,b,m),!0;case 4:return E.fn.call(E.context,b,m,S),!0;case 5:return E.fn.call(E.context,b,m,S,C),!0;case 6:return E.fn.call(E.context,b,m,S,C,I),!0}for(T=1,_=new Array(R-1);T<R;T++)_[T-1]=arguments[T];E.fn.apply(E.context,_)}else{var P=E.length,A;for(T=0;T<P;T++)switch(E[T].once&&this.removeListener(g,E[T].fn,void 0,!0),R){case 1:E[T].fn.call(E[T].context);break;case 2:E[T].fn.call(E[T].context,b);break;case 3:E[T].fn.call(E[T].context,b,m);break;case 4:E[T].fn.call(E[T].context,b,m,S);break;default:if(!_)for(A=1,_=new Array(R-1);A<R;A++)_[A-1]=arguments[A];E[T].fn.apply(E[T].context,_)}}return!0},h.prototype.on=function(g,b,m){return l(this,g,b,m,!1)},h.prototype.once=function(g,b,m){return l(this,g,b,m,!0)},h.prototype.removeListener=function(g,b,m,S){var C=n?n+g:g;if(!this._events[C])return this;if(!b)return u(this,C),this;var I=this._events[C];if(I.fn)I.fn===b&&(!S||I.once)&&(!m||I.context===m)&&u(this,C);else{for(var j=0,E=[],R=I.length;j<R;j++)(I[j].fn!==b||S&&!I[j].once||m&&I[j].context!==m)&&E.push(I[j]);E.length?this._events[C]=E.length===1?E[0]:E:u(this,C)}return this},h.prototype.removeAllListeners=function(g){var b;return g?(b=n?n+g:g,this._events[b]&&u(this,b)):(this._events=new r,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=n,h.EventEmitter=h,e.exports=h})(w2);var RU=w2.exports;const PU=dt(RU);var Su=new PU,Au="recharts.syncMouseEvents";function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function NU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S2(r.key),r)}}function MU(e,t,n){return t&&kU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cu(e,t,n){return t=S2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S2(e){var t=DU(e,"string");return Is(t)=="symbol"?t:t+""}function DU(e,t){if(Is(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Is(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var BU=function(){function e(){NU(this,e),Cu(this,"activeIndex",0),Cu(this,"coordinateList",[]),Cu(this,"layout","horizontal")}return MU(e,[{key:"setDetails",value:function(n){var r,a=n.coordinateList,l=a===void 0?null:a,u=n.container,h=u===void 0?null:u,x=n.layout,g=x===void 0?null:x,b=n.offset,m=b===void 0?null:b,S=n.mouseHandlerCallback,C=S===void 0?null:S;this.coordinateList=(r=l??this.coordinateList)!==null&&r!==void 0?r:[],this.container=h??this.container,this.layout=g??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=C??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),l=a.x,u=a.y,h=a.height,x=this.coordinateList[this.activeIndex].coordinate,g=((n=window)===null||n===void 0?void 0:n.scrollX)||0,b=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=l+x+g,S=u+this.offset.top+h/2+b;this.mouseHandlerCallback({pageX:m,pageY:S})}}}])}();function zU(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],a=e==null?void 0:e[1];if(r&&a&&Ce(r)&&Ce(a))return!0}return!1}function LU(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function A2(e){var t=e.cx,n=e.cy,r=e.radius,a=e.startAngle,l=e.endAngle,u=St(t,n,r,a),h=St(t,n,r,l);return{points:[u,h],cx:t,cy:n,radius:r,startAngle:a,endAngle:l}}function WU(e,t,n){var r,a,l,u;if(e==="horizontal")r=t.x,l=r,a=n.top,u=n.top+n.height;else if(e==="vertical")a=t.y,u=a,r=n.left,l=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var h=t.cx,x=t.cy,g=t.innerRadius,b=t.outerRadius,m=t.angle,S=St(h,x,g,m),C=St(h,x,b,m);r=S.x,a=S.y,l=C.x,u=C.y}else return A2(t);return[{x:r,y:a},{x:l,y:u}]}function Os(e){"@babel/helpers - typeof";return Os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Os(e)}function qg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ll(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qg(Object(n),!0).forEach(function(r){FU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FU(e,t,n){return t=$U(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $U(e){var t=UU(e,"string");return Os(t)=="symbol"?t:t+""}function UU(e,t){if(Os(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Os(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VU(e){var t,n,r=e.element,a=e.tooltipEventType,l=e.isActive,u=e.activeCoordinate,h=e.activePayload,x=e.offset,g=e.activeTooltipIndex,b=e.tooltipAxisBandSize,m=e.layout,S=e.chartName,C=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!C||!l||!u||S!=="ScatterChart"&&a!=="axis")return null;var I,j=Xl;if(S==="ScatterChart")I=u,j=lz;else if(S==="BarChart")I=LU(m,u,x,b),j=yp;else if(m==="radial"){var E=A2(u),R=E.cx,_=E.cy,T=E.radius,P=E.startAngle,A=E.endAngle;I={cx:R,cy:_,startAngle:P,endAngle:A,innerRadius:T,outerRadius:T},j=bv}else I={points:WU(m,u,x)},j=Xl;var N=ll(ll(ll(ll({stroke:"#ccc",pointerEvents:"none"},x),I),$e(C,!1)),{},{payload:h,payloadIndex:g,className:Ke("recharts-tooltip-cursor",C.className)});return X.isValidElement(C)?X.cloneElement(C,N):X.createElement(j,N)}var HU=["item"],GU=["children","className","width","height","style","compact","title","desc"];function Yo(e){"@babel/helpers - typeof";return Yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yo(e)}function lo(){return lo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lo.apply(this,arguments)}function Kg(e,t){return qU(e)||YU(e,t)||j2(e,t)||XU()}function XU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,l,u,h=[],x=!0,g=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(x=(r=l.call(n)).done)&&(h.push(r.value),h.length!==t);x=!0);}catch(b){g=!0,a=b}finally{try{if(!x&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(g)throw a}}return h}}function qU(e){if(Array.isArray(e))return e}function Zg(e,t){if(e==null)return{};var n=KU(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function KU(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ZU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,E2(r.key),r)}}function JU(e,t,n){return t&&QU(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eV(e,t,n){return t=yc(t),tV(e,C2()?Reflect.construct(t,n||[],yc(e).constructor):t.apply(e,n))}function tV(e,t){if(t&&(Yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nV(e)}function nV(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C2(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C2=function(){return!!e})()}function yc(e){return yc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yc(e)}function rV(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sh(e,t)}function sh(e,t){return sh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},sh(e,t)}function qo(e){return aV(e)||oV(e)||j2(e)||iV()}function iV(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j2(e,t){if(e){if(typeof e=="string")return lh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lh(e,t)}}function oV(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aV(e){if(Array.isArray(e))return lh(e)}function lh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qg(Object(n),!0).forEach(function(r){Ve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qg(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ve(e,t,n){return t=E2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E2(e){var t=sV(e,"string");return Yo(t)=="symbol"?t:t+""}function sV(e,t){if(Yo(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lV={xAxis:["bottom","top"],yAxis:["left","right"]},cV={width:"100%",height:"100%"},I2={x:0,y:0};function cl(e){return e}var dV=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},uV=function(t,n,r,a){var l=n.find(function(b){return b&&b.index===r});if(l){if(t==="horizontal")return{x:l.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:l.coordinate};if(t==="centric"){var u=l.coordinate,h=a.radius;return xe(xe(xe({},a),St(a.cx,a.cy,h,u)),{},{angle:u,radius:h})}var x=l.coordinate,g=a.angle;return xe(xe(xe({},a),St(a.cx,a.cy,x,g)),{},{angle:g,radius:x})}return I2},Sd=function(t,n){var r=n.graphicalItems,a=n.dataStartIndex,l=n.dataEndIndex,u=(r??[]).reduce(function(h,x){var g=x.props.data;return g&&g.length?[].concat(qo(h),qo(g)):h},[]);return u.length>0?u:t&&t.length&&Ce(a)&&Ce(l)?t.slice(a,l+1):[]};function O2(e){return e==="number"?[0,"auto"]:void 0}var ch=function(t,n,r,a){var l=t.graphicalItems,u=t.tooltipAxis,h=Sd(n,t);return r<0||!l||!l.length||r>=h.length?null:l.reduce(function(x,g){var b,m=(b=g.props.data)!==null&&b!==void 0?b:n;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var S;if(u.dataKey&&!u.allowDuplicatedCategory){var C=m===void 0?h:m;S=gl(C,u.dataKey,a)}else S=m&&m[r]||h[r];return S?[].concat(qo(x),[hv(g,S)]):x},[])},Jg=function(t,n,r,a){var l=a||{x:t.chartX,y:t.chartY},u=dV(l,r),h=t.orderedTooltipTicks,x=t.tooltipAxis,g=t.tooltipTicks,b=Ok(u,h,g,x);if(b>=0&&g){var m=g[b]&&g[b].value,S=ch(t,n,b,m),C=uV(r,h,b,l);return{activeTooltipIndex:b,activeLabel:m,activePayload:S,activeCoordinate:C}}return null},fV=function(t,n){var r=n.axes,a=n.graphicalItems,l=n.axisType,u=n.axisIdKey,h=n.stackGroups,x=n.dataStartIndex,g=n.dataEndIndex,b=t.layout,m=t.children,S=t.stackOffset,C=sv(b,l);return r.reduce(function(I,j){var E,R=j.type.defaultProps!==void 0?xe(xe({},j.type.defaultProps),j.props):j.props,_=R.type,T=R.dataKey,P=R.allowDataOverflow,A=R.allowDuplicatedCategory,N=R.scale,k=R.ticks,W=R.includeHidden,F=R[u];if(I[F])return I;var ie=Sd(t.data,{graphicalItems:a.filter(function(oe){var de,be=u in oe.props?oe.props[u]:(de=oe.type.defaultProps)===null||de===void 0?void 0:de[u];return be===F}),dataStartIndex:x,dataEndIndex:g}),H=ie.length,Y,re,ae;zU(R.domain,P,_)&&(Y=Af(R.domain,null,P),C&&(_==="number"||N!=="auto")&&(ae=La(ie,T,"category")));var L=O2(_);if(!Y||Y.length===0){var G,ee=(G=R.domain)!==null&&G!==void 0?G:L;if(T){if(Y=La(ie,T,_),_==="category"&&C){var ue=y3(Y);A&&ue?(re=Y,Y=ic(0,H)):A||(Y=Cx(ee,Y,j).reduce(function(oe,de){return oe.indexOf(de)>=0?oe:[].concat(qo(oe),[de])},[]))}else if(_==="category")A?Y=Y.filter(function(oe){return oe!==""&&!Ye(oe)}):Y=Cx(ee,Y,j).reduce(function(oe,de){return oe.indexOf(de)>=0||de===""||Ye(de)?oe:[].concat(qo(oe),[de])},[]);else if(_==="number"){var $=Nk(ie,a.filter(function(oe){var de,be,Me=u in oe.props?oe.props[u]:(de=oe.type.defaultProps)===null||de===void 0?void 0:de[u],te="hide"in oe.props?oe.props.hide:(be=oe.type.defaultProps)===null||be===void 0?void 0:be.hide;return Me===F&&(W||!te)}),T,l,b);$&&(Y=$)}C&&(_==="number"||N!=="auto")&&(ae=La(ie,T,"category"))}else C?Y=ic(0,H):h&&h[F]&&h[F].hasStack&&_==="number"?Y=S==="expand"?[0,1]:fv(h[F].stackGroups,x,g):Y=av(ie,a.filter(function(oe){var de=u in oe.props?oe.props[u]:oe.type.defaultProps[u],be="hide"in oe.props?oe.props.hide:oe.type.defaultProps.hide;return de===F&&(W||!be)}),_,b,!0);if(_==="number")Y=ah(m,Y,F,l,k),ee&&(Y=Af(ee,Y,P));else if(_==="category"&&ee){var B=ee,q=Y.every(function(oe){return B.indexOf(oe)>=0});q&&(Y=B)}}return xe(xe({},I),{},Ve({},F,xe(xe({},R),{},{axisType:l,domain:Y,categoricalDomain:ae,duplicateDomain:re,originalDomain:(E=R.domain)!==null&&E!==void 0?E:L,isCategorical:C,layout:b})))},{})},hV=function(t,n){var r=n.graphicalItems,a=n.Axis,l=n.axisType,u=n.axisIdKey,h=n.stackGroups,x=n.dataStartIndex,g=n.dataEndIndex,b=t.layout,m=t.children,S=Sd(t.data,{graphicalItems:r,dataStartIndex:x,dataEndIndex:g}),C=S.length,I=sv(b,l),j=-1;return r.reduce(function(E,R){var _=R.type.defaultProps!==void 0?xe(xe({},R.type.defaultProps),R.props):R.props,T=_[u],P=O2("number");if(!E[T]){j++;var A;return I?A=ic(0,C):h&&h[T]&&h[T].hasStack?(A=fv(h[T].stackGroups,x,g),A=ah(m,A,T,l)):(A=Af(P,av(S,r.filter(function(N){var k,W,F=u in N.props?N.props[u]:(k=N.type.defaultProps)===null||k===void 0?void 0:k[u],ie="hide"in N.props?N.props.hide:(W=N.type.defaultProps)===null||W===void 0?void 0:W.hide;return F===T&&!ie}),"number",b),a.defaultProps.allowDataOverflow),A=ah(m,A,T,l)),xe(xe({},E),{},Ve({},T,xe(xe({axisType:l},a.defaultProps),{},{hide:!0,orientation:kn(lV,"".concat(l,".").concat(j%2),null),domain:A,originalDomain:P,isCategorical:I,layout:b})))}return E},{})},pV=function(t,n){var r=n.axisType,a=r===void 0?"xAxis":r,l=n.AxisComp,u=n.graphicalItems,h=n.stackGroups,x=n.dataStartIndex,g=n.dataEndIndex,b=t.children,m="".concat(a,"Id"),S=Mn(b,l),C={};return S&&S.length?C=fV(t,{axes:S,graphicalItems:u,axisType:a,axisIdKey:m,stackGroups:h,dataStartIndex:x,dataEndIndex:g}):u&&u.length&&(C=hV(t,{Axis:l,graphicalItems:u,axisType:a,axisIdKey:m,stackGroups:h,dataStartIndex:x,dataEndIndex:g})),C},xV=function(t){var n=Zr(t),r=_r(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Vh(r,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Vl(n,r)}},ey=function(t){var n=t.children,r=t.defaultShowTooltip,a=Tn(n,Lo),l=0,u=0;return t.data&&t.data.length!==0&&(u=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(l=a.props.startIndex),a.props.endIndex>=0&&(u=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:l,dataEndIndex:u,activeTooltipIndex:-1,isTooltipActive:!!r}},gV=function(t){return!t||!t.length?!1:t.some(function(n){var r=Rr(n&&n.type);return r&&r.indexOf("Bar")>=0})},ty=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},yV=function(t,n){var r=t.props,a=t.graphicalItems,l=t.xAxisMap,u=l===void 0?{}:l,h=t.yAxisMap,x=h===void 0?{}:h,g=r.width,b=r.height,m=r.children,S=r.margin||{},C=Tn(m,Lo),I=Tn(m,ei),j=Object.keys(x).reduce(function(A,N){var k=x[N],W=k.orientation;return!k.mirror&&!k.hide?xe(xe({},A),{},Ve({},W,A[W]+k.width)):A},{left:S.left||0,right:S.right||0}),E=Object.keys(u).reduce(function(A,N){var k=u[N],W=k.orientation;return!k.mirror&&!k.hide?xe(xe({},A),{},Ve({},W,kn(A,"".concat(W))+k.height)):A},{top:S.top||0,bottom:S.bottom||0}),R=xe(xe({},E),j),_=R.bottom;C&&(R.bottom+=C.props.height||Lo.defaultProps.height),I&&n&&(R=Rk(R,a,r,n));var T=g-R.left-R.right,P=b-R.top-R.bottom;return xe(xe({brushBottom:_},R),{},{width:Math.max(T,0),height:Math.max(P,0)})},mV=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Ip=function(t){var n=t.chartName,r=t.GraphicalChild,a=t.defaultTooltipEventType,l=a===void 0?"axis":a,u=t.validateTooltipEventTypes,h=u===void 0?["axis"]:u,x=t.axisComponents,g=t.legendContent,b=t.formatAxisMap,m=t.defaultProps,S=function(R,_){var T=_.graphicalItems,P=_.stackGroups,A=_.offset,N=_.updateId,k=_.dataStartIndex,W=_.dataEndIndex,F=R.barSize,ie=R.layout,H=R.barGap,Y=R.barCategoryGap,re=R.maxBarSize,ae=ty(ie),L=ae.numericAxisName,G=ae.cateAxisName,ee=gV(T),ue=[];return T.forEach(function($,B){var q=Sd(R.data,{graphicalItems:[$],dataStartIndex:k,dataEndIndex:W}),oe=$.type.defaultProps!==void 0?xe(xe({},$.type.defaultProps),$.props):$.props,de=oe.dataKey,be=oe.maxBarSize,Me=oe["".concat(L,"Id")],te=oe["".concat(G,"Id")],Ne={},Ee=x.reduce(function(fe,Be){var Xe=_["".concat(Be.axisType,"Map")],ft=oe["".concat(Be.axisType,"Id")];Xe&&Xe[ft]||Be.axisType==="zAxis"||Bi();var At=Xe[ft];return xe(xe({},fe),{},Ve(Ve({},Be.axisType,At),"".concat(Be.axisType,"Ticks"),_r(At)))},Ne),ve=Ee[G],Oe=Ee["".concat(G,"Ticks")],Te=P&&P[Me]&&P[Me].hasStack&&$k($,P[Me].stackGroups),ge=Rr($.type).indexOf("Bar")>=0,se=Vl(ve,Oe),je=[],_e=ee&&Tk({barSize:F,stackGroups:P,totalSize:mV(Ee,G)});if(ge){var Fe,De,Z=Ye(be)?re:be,ye=(Fe=(De=Vl(ve,Oe,!0))!==null&&De!==void 0?De:Z)!==null&&Fe!==void 0?Fe:0;je=_k({barGap:H,barCategoryGap:Y,bandSize:ye!==se?ye:se,sizeList:_e[te],maxBarSize:Z}),ye!==se&&(je=je.map(function(fe){return xe(xe({},fe),{},{position:xe(xe({},fe.position),{},{offset:fe.position.offset-ye/2})})}))}var K=$&&$.type&&$.type.getComposedData;K&&ue.push({props:xe(xe({},K(xe(xe({},Ee),{},{displayedData:q,props:R,dataKey:de,item:$,bandSize:se,barPosition:je,offset:A,stackedData:Te,layout:ie,dataStartIndex:k,dataEndIndex:W}))),{},Ve(Ve(Ve({key:$.key||"item-".concat(B)},L,Ee[L]),G,Ee[G]),"animationId",N)),childIndex:_3($,R.children),item:$})}),ue},C=function(R,_){var T=R.props,P=R.dataStartIndex,A=R.dataEndIndex,N=R.updateId;if(!y0({props:T}))return null;var k=T.children,W=T.layout,F=T.stackOffset,ie=T.data,H=T.reverseStackOrder,Y=ty(W),re=Y.numericAxisName,ae=Y.cateAxisName,L=Mn(k,r),G=Wk(ie,L,"".concat(re,"Id"),"".concat(ae,"Id"),F,H),ee=x.reduce(function(oe,de){var be="".concat(de.axisType,"Map");return xe(xe({},oe),{},Ve({},be,pV(T,xe(xe({},de),{},{graphicalItems:L,stackGroups:de.axisType===re&&G,dataStartIndex:P,dataEndIndex:A}))))},{}),ue=yV(xe(xe({},ee),{},{props:T,graphicalItems:L}),_==null?void 0:_.legendBBox);Object.keys(ee).forEach(function(oe){ee[oe]=b(T,ee[oe],ue,oe.replace("Map",""),n)});var $=ee["".concat(ae,"Map")],B=xV($),q=S(T,xe(xe({},ee),{},{dataStartIndex:P,dataEndIndex:A,updateId:N,graphicalItems:L,stackGroups:G,offset:ue}));return xe(xe({formattedGraphicalItems:q,graphicalItems:L,offset:ue,stackGroups:G},B),ee)},I=function(E){function R(_){var T,P,A;return ZU(this,R),A=eV(this,R,[_]),Ve(A,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ve(A,"accessibilityManager",new BU),Ve(A,"handleLegendBBoxUpdate",function(N){if(N){var k=A.state,W=k.dataStartIndex,F=k.dataEndIndex,ie=k.updateId;A.setState(xe({legendBBox:N},C({props:A.props,dataStartIndex:W,dataEndIndex:F,updateId:ie},xe(xe({},A.state),{},{legendBBox:N}))))}}),Ve(A,"handleReceiveSyncEvent",function(N,k,W){if(A.props.syncId===N){if(W===A.eventEmitterSymbol&&typeof A.props.syncMethod!="function")return;A.applySyncEvent(k)}}),Ve(A,"handleBrushChange",function(N){var k=N.startIndex,W=N.endIndex;if(k!==A.state.dataStartIndex||W!==A.state.dataEndIndex){var F=A.state.updateId;A.setState(function(){return xe({dataStartIndex:k,dataEndIndex:W},C({props:A.props,dataStartIndex:k,dataEndIndex:W,updateId:F},A.state))}),A.triggerSyncEvent({dataStartIndex:k,dataEndIndex:W})}}),Ve(A,"handleMouseEnter",function(N){var k=A.getMouseInfo(N);if(k){var W=xe(xe({},k),{},{isTooltipActive:!0});A.setState(W),A.triggerSyncEvent(W);var F=A.props.onMouseEnter;Ge(F)&&F(W,N)}}),Ve(A,"triggeredAfterMouseMove",function(N){var k=A.getMouseInfo(N),W=k?xe(xe({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};A.setState(W),A.triggerSyncEvent(W);var F=A.props.onMouseMove;Ge(F)&&F(W,N)}),Ve(A,"handleItemMouseEnter",function(N){A.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),Ve(A,"handleItemMouseLeave",function(){A.setState(function(){return{isTooltipActive:!1}})}),Ve(A,"handleMouseMove",function(N){N.persist(),A.throttleTriggeredAfterMouseMove(N)}),Ve(A,"handleMouseLeave",function(N){A.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};A.setState(k),A.triggerSyncEvent(k);var W=A.props.onMouseLeave;Ge(W)&&W(k,N)}),Ve(A,"handleOuterEvent",function(N){var k=T3(N),W=kn(A.props,"".concat(k));if(k&&Ge(W)){var F,ie;/.*touch.*/i.test(k)?ie=A.getMouseInfo(N.changedTouches[0]):ie=A.getMouseInfo(N),W((F=ie)!==null&&F!==void 0?F:{},N)}}),Ve(A,"handleClick",function(N){var k=A.getMouseInfo(N);if(k){var W=xe(xe({},k),{},{isTooltipActive:!0});A.setState(W),A.triggerSyncEvent(W);var F=A.props.onClick;Ge(F)&&F(W,N)}}),Ve(A,"handleMouseDown",function(N){var k=A.props.onMouseDown;if(Ge(k)){var W=A.getMouseInfo(N);k(W,N)}}),Ve(A,"handleMouseUp",function(N){var k=A.props.onMouseUp;if(Ge(k)){var W=A.getMouseInfo(N);k(W,N)}}),Ve(A,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&A.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),Ve(A,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&A.handleMouseDown(N.changedTouches[0])}),Ve(A,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&A.handleMouseUp(N.changedTouches[0])}),Ve(A,"handleDoubleClick",function(N){var k=A.props.onDoubleClick;if(Ge(k)){var W=A.getMouseInfo(N);k(W,N)}}),Ve(A,"handleContextMenu",function(N){var k=A.props.onContextMenu;if(Ge(k)){var W=A.getMouseInfo(N);k(W,N)}}),Ve(A,"triggerSyncEvent",function(N){A.props.syncId!==void 0&&Su.emit(Au,A.props.syncId,N,A.eventEmitterSymbol)}),Ve(A,"applySyncEvent",function(N){var k=A.props,W=k.layout,F=k.syncMethod,ie=A.state.updateId,H=N.dataStartIndex,Y=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)A.setState(xe({dataStartIndex:H,dataEndIndex:Y},C({props:A.props,dataStartIndex:H,dataEndIndex:Y,updateId:ie},A.state)));else if(N.activeTooltipIndex!==void 0){var re=N.chartX,ae=N.chartY,L=N.activeTooltipIndex,G=A.state,ee=G.offset,ue=G.tooltipTicks;if(!ee)return;if(typeof F=="function")L=F(ue,N);else if(F==="value"){L=-1;for(var $=0;$<ue.length;$++)if(ue[$].value===N.activeLabel){L=$;break}}var B=xe(xe({},ee),{},{x:ee.left,y:ee.top}),q=Math.min(re,B.x+B.width),oe=Math.min(ae,B.y+B.height),de=ue[L]&&ue[L].value,be=ch(A.state,A.props.data,L),Me=ue[L]?{x:W==="horizontal"?ue[L].coordinate:q,y:W==="horizontal"?oe:ue[L].coordinate}:I2;A.setState(xe(xe({},N),{},{activeLabel:de,activeCoordinate:Me,activePayload:be,activeTooltipIndex:L}))}else A.setState(N)}),Ve(A,"renderCursor",function(N){var k,W=A.state,F=W.isTooltipActive,ie=W.activeCoordinate,H=W.activePayload,Y=W.offset,re=W.activeTooltipIndex,ae=W.tooltipAxisBandSize,L=A.getTooltipEventType(),G=(k=N.props.active)!==null&&k!==void 0?k:F,ee=A.props.layout,ue=N.key||"_recharts-cursor";return Q.createElement(VU,{key:ue,activeCoordinate:ie,activePayload:H,activeTooltipIndex:re,chartName:n,element:N,isActive:G,layout:ee,offset:Y,tooltipAxisBandSize:ae,tooltipEventType:L})}),Ve(A,"renderPolarAxis",function(N,k,W){var F=kn(N,"type.axisType"),ie=kn(A.state,"".concat(F,"Map")),H=N.type.defaultProps,Y=H!==void 0?xe(xe({},H),N.props):N.props,re=ie&&ie[Y["".concat(F,"Id")]];return X.cloneElement(N,xe(xe({},re),{},{className:Ke(F,re.className),key:N.key||"".concat(k,"-").concat(W),ticks:_r(re,!0)}))}),Ve(A,"renderPolarGrid",function(N){var k=N.props,W=k.radialLines,F=k.polarAngles,ie=k.polarRadius,H=A.state,Y=H.radiusAxisMap,re=H.angleAxisMap,ae=Zr(Y),L=Zr(re),G=L.cx,ee=L.cy,ue=L.innerRadius,$=L.outerRadius;return X.cloneElement(N,{polarAngles:Array.isArray(F)?F:_r(L,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(ie)?ie:_r(ae,!0).map(function(B){return B.coordinate}),cx:G,cy:ee,innerRadius:ue,outerRadius:$,key:N.key||"polar-grid",radialLines:W})}),Ve(A,"renderLegend",function(){var N=A.state.formattedGraphicalItems,k=A.props,W=k.children,F=k.width,ie=k.height,H=A.props.margin||{},Y=F-(H.left||0)-(H.right||0),re=iv({children:W,formattedGraphicalItems:N,legendWidth:Y,legendContent:g});if(!re)return null;var ae=re.item,L=Zg(re,HU);return X.cloneElement(ae,xe(xe({},L),{},{chartWidth:F,chartHeight:ie,margin:H,onBBoxUpdate:A.handleLegendBBoxUpdate}))}),Ve(A,"renderTooltip",function(){var N,k=A.props,W=k.children,F=k.accessibilityLayer,ie=Tn(W,Sn);if(!ie)return null;var H=A.state,Y=H.isTooltipActive,re=H.activeCoordinate,ae=H.activePayload,L=H.activeLabel,G=H.offset,ee=(N=ie.props.active)!==null&&N!==void 0?N:Y;return X.cloneElement(ie,{viewBox:xe(xe({},G),{},{x:G.left,y:G.top}),active:ee,label:L,payload:ee?ae:[],coordinate:re,accessibilityLayer:F})}),Ve(A,"renderBrush",function(N){var k=A.props,W=k.margin,F=k.data,ie=A.state,H=ie.offset,Y=ie.dataStartIndex,re=ie.dataEndIndex,ae=ie.updateId;return X.cloneElement(N,{key:N.key||"_recharts-brush",onChange:il(A.handleBrushChange,N.props.onChange),data:F,x:Ce(N.props.x)?N.props.x:H.left,y:Ce(N.props.y)?N.props.y:H.top+H.height+H.brushBottom-(W.bottom||0),width:Ce(N.props.width)?N.props.width:H.width,startIndex:Y,endIndex:re,updateId:"brush-".concat(ae)})}),Ve(A,"renderReferenceElement",function(N,k,W){if(!N)return null;var F=A,ie=F.clipPathId,H=A.state,Y=H.xAxisMap,re=H.yAxisMap,ae=H.offset,L=N.type.defaultProps||{},G=N.props,ee=G.xAxisId,ue=ee===void 0?L.xAxisId:ee,$=G.yAxisId,B=$===void 0?L.yAxisId:$;return X.cloneElement(N,{key:N.key||"".concat(k,"-").concat(W),xAxis:Y[ue],yAxis:re[B],viewBox:{x:ae.left,y:ae.top,width:ae.width,height:ae.height},clipPathId:ie})}),Ve(A,"renderActivePoints",function(N){var k=N.item,W=N.activePoint,F=N.basePoint,ie=N.childIndex,H=N.isRange,Y=[],re=k.props.key,ae=k.item.type.defaultProps!==void 0?xe(xe({},k.item.type.defaultProps),k.item.props):k.item.props,L=ae.activeDot,G=ae.dataKey,ee=xe(xe({index:ie,dataKey:G,cx:W.x,cy:W.y,r:4,fill:gp(k.item),strokeWidth:2,stroke:"#fff",payload:W.payload,value:W.value},$e(L,!1)),yl(L));return Y.push(R.renderActiveDot(L,ee,"".concat(re,"-activePoint-").concat(ie))),F?Y.push(R.renderActiveDot(L,xe(xe({},ee),{},{cx:F.x,cy:F.y}),"".concat(re,"-basePoint-").concat(ie))):H&&Y.push(null),Y}),Ve(A,"renderGraphicChild",function(N,k,W){var F=A.filterFormatItem(N,k,W);if(!F)return null;var ie=A.getTooltipEventType(),H=A.state,Y=H.isTooltipActive,re=H.tooltipAxis,ae=H.activeTooltipIndex,L=H.activeLabel,G=A.props.children,ee=Tn(G,Sn),ue=F.props,$=ue.points,B=ue.isRange,q=ue.baseLine,oe=F.item.type.defaultProps!==void 0?xe(xe({},F.item.type.defaultProps),F.item.props):F.item.props,de=oe.activeDot,be=oe.hide,Me=oe.activeBar,te=oe.activeShape,Ne=!!(!be&&Y&&ee&&(de||Me||te)),Ee={};ie!=="axis"&&ee&&ee.props.trigger==="click"?Ee={onClick:il(A.handleItemMouseEnter,N.props.onClick)}:ie!=="axis"&&(Ee={onMouseLeave:il(A.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:il(A.handleItemMouseEnter,N.props.onMouseEnter)});var ve=X.cloneElement(N,xe(xe({},F.props),Ee));function Oe(Be){return typeof re.dataKey=="function"?re.dataKey(Be.payload):null}if(Ne)if(ae>=0){var Te,ge;if(re.dataKey&&!re.allowDuplicatedCategory){var se=typeof re.dataKey=="function"?Oe:"payload.".concat(re.dataKey.toString());Te=gl($,se,L),ge=B&&q&&gl(q,se,L)}else Te=$==null?void 0:$[ae],ge=B&&q&&q[ae];if(te||Me){var je=N.props.activeIndex!==void 0?N.props.activeIndex:ae;return[X.cloneElement(N,xe(xe(xe({},F.props),Ee),{},{activeIndex:je})),null,null]}if(!Ye(Te))return[ve].concat(qo(A.renderActivePoints({item:F,activePoint:Te,basePoint:ge,childIndex:ae,isRange:B})))}else{var _e,Fe=(_e=A.getItemByXY(A.state.activeCoordinate))!==null&&_e!==void 0?_e:{graphicalItem:ve},De=Fe.graphicalItem,Z=De.item,ye=Z===void 0?N:Z,K=De.childIndex,fe=xe(xe(xe({},F.props),Ee),{},{activeIndex:K});return[X.cloneElement(ye,fe),null,null]}return B?[ve,null,null]:[ve,null]}),Ve(A,"renderCustomized",function(N,k,W){return X.cloneElement(N,xe(xe({key:"recharts-customized-".concat(W)},A.props),A.state))}),Ve(A,"renderMap",{CartesianGrid:{handler:cl,once:!0},ReferenceArea:{handler:A.renderReferenceElement},ReferenceLine:{handler:cl},ReferenceDot:{handler:A.renderReferenceElement},XAxis:{handler:cl},YAxis:{handler:cl},Brush:{handler:A.renderBrush,once:!0},Bar:{handler:A.renderGraphicChild},Line:{handler:A.renderGraphicChild},Area:{handler:A.renderGraphicChild},Radar:{handler:A.renderGraphicChild},RadialBar:{handler:A.renderGraphicChild},Scatter:{handler:A.renderGraphicChild},Pie:{handler:A.renderGraphicChild},Funnel:{handler:A.renderGraphicChild},Tooltip:{handler:A.renderCursor,once:!0},PolarGrid:{handler:A.renderPolarGrid,once:!0},PolarAngleAxis:{handler:A.renderPolarAxis},PolarRadiusAxis:{handler:A.renderPolarAxis},Customized:{handler:A.renderCustomized}}),A.clipPathId="".concat((T=_.id)!==null&&T!==void 0?T:ia("recharts"),"-clip"),A.throttleTriggeredAfterMouseMove=rb(A.triggeredAfterMouseMove,(P=_.throttleDelay)!==null&&P!==void 0?P:1e3/60),A.state={},A}return rV(R,E),JU(R,[{key:"componentDidMount",value:function(){var T,P;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var T=this.props,P=T.children,A=T.data,N=T.height,k=T.layout,W=Tn(P,Sn);if(W){var F=W.props.defaultIndex;if(!(typeof F!="number"||F<0||F>this.state.tooltipTicks.length-1)){var ie=this.state.tooltipTicks[F]&&this.state.tooltipTicks[F].value,H=ch(this.state,A,F,ie),Y=this.state.tooltipTicks[F].coordinate,re=(this.state.offset.top+N)/2,ae=k==="horizontal",L=ae?{x:Y,y:re}:{y:Y,x:re},G=this.state.formattedGraphicalItems.find(function(ue){var $=ue.item;return $.type.name==="Scatter"});G&&(L=xe(xe({},L),G.props.points[F].tooltipPosition),H=G.props.points[F].tooltipPayload);var ee={activeTooltipIndex:F,isTooltipActive:!0,activeLabel:ie,activePayload:H,activeCoordinate:L};this.setState(ee),this.renderCursor(W),this.accessibilityManager.setIndex(F)}}}},{key:"getSnapshotBeforeUpdate",value:function(T,P){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==P.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==T.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==T.margin){var A,N;this.accessibilityManager.setDetails({offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(T){Bu([Tn(T.children,Sn)],[Tn(this.props.children,Sn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var T=Tn(this.props.children,Sn);if(T&&typeof T.props.shared=="boolean"){var P=T.props.shared?"axis":"item";return h.indexOf(P)>=0?P:l}return l}},{key:"getMouseInfo",value:function(T){if(!this.container)return null;var P=this.container,A=P.getBoundingClientRect(),N=nP(A),k={chartX:Math.round(T.pageX-N.left),chartY:Math.round(T.pageY-N.top)},W=A.width/P.offsetWidth||1,F=this.inRange(k.chartX,k.chartY,W);if(!F)return null;var ie=this.state,H=ie.xAxisMap,Y=ie.yAxisMap,re=this.getTooltipEventType(),ae=Jg(this.state,this.props.data,this.props.layout,F);if(re!=="axis"&&H&&Y){var L=Zr(H).scale,G=Zr(Y).scale,ee=L&&L.invert?L.invert(k.chartX):null,ue=G&&G.invert?G.invert(k.chartY):null;return xe(xe({},k),{},{xValue:ee,yValue:ue},ae)}return ae?xe(xe({},k),ae):null}},{key:"inRange",value:function(T,P){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,k=T/A,W=P/A;if(N==="horizontal"||N==="vertical"){var F=this.state.offset,ie=k>=F.left&&k<=F.left+F.width&&W>=F.top&&W<=F.top+F.height;return ie?{x:k,y:W}:null}var H=this.state,Y=H.angleAxisMap,re=H.radiusAxisMap;if(Y&&re){var ae=Zr(Y);return Ix({x:k,y:W},ae)}return null}},{key:"parseEventsOfWrapper",value:function(){var T=this.props.children,P=this.getTooltipEventType(),A=Tn(T,Sn),N={};A&&P==="axis"&&(A.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=yl(this.props,this.handleOuterEvent);return xe(xe({},k),N)}},{key:"addListener",value:function(){Su.on(Au,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Su.removeListener(Au,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(T,P,A){for(var N=this.state.formattedGraphicalItems,k=0,W=N.length;k<W;k++){var F=N[k];if(F.item===T||F.props.key===T.key||P===Rr(F.item.type)&&A===F.childIndex)return F}return null}},{key:"renderClipPath",value:function(){var T=this.clipPathId,P=this.state.offset,A=P.left,N=P.top,k=P.height,W=P.width;return Q.createElement("defs",null,Q.createElement("clipPath",{id:T},Q.createElement("rect",{x:A,y:N,height:k,width:W})))}},{key:"getXScales",value:function(){var T=this.state.xAxisMap;return T?Object.entries(T).reduce(function(P,A){var N=Kg(A,2),k=N[0],W=N[1];return xe(xe({},P),{},Ve({},k,W.scale))},{}):null}},{key:"getYScales",value:function(){var T=this.state.yAxisMap;return T?Object.entries(T).reduce(function(P,A){var N=Kg(A,2),k=N[0],W=N[1];return xe(xe({},P),{},Ve({},k,W.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(T){var P;return(P=this.state.xAxisMap)===null||P===void 0||(P=P[T])===null||P===void 0?void 0:P.scale}},{key:"getYScaleByAxisId",value:function(T){var P;return(P=this.state.yAxisMap)===null||P===void 0||(P=P[T])===null||P===void 0?void 0:P.scale}},{key:"getItemByXY",value:function(T){var P=this.state,A=P.formattedGraphicalItems,N=P.activeItem;if(A&&A.length)for(var k=0,W=A.length;k<W;k++){var F=A[k],ie=F.props,H=F.item,Y=H.type.defaultProps!==void 0?xe(xe({},H.type.defaultProps),H.props):H.props,re=Rr(H.type);if(re==="Bar"){var ae=(ie.data||[]).find(function(ue){return $B(T,ue)});if(ae)return{graphicalItem:F,payload:ae}}else if(re==="RadialBar"){var L=(ie.data||[]).find(function(ue){return Ix(T,ue)});if(L)return{graphicalItem:F,payload:L}}else if(xd(F,N)||gd(F,N)||ws(F,N)){var G=_L({graphicalItem:F,activeTooltipItem:N,itemData:Y.data}),ee=Y.activeIndex===void 0?G:Y.activeIndex;return{graphicalItem:xe(xe({},F),{},{childIndex:ee}),payload:ws(F,N)?Y.data[G]:F.props.data[G]}}}return null}},{key:"render",value:function(){var T=this;if(!y0(this))return null;var P=this.props,A=P.children,N=P.className,k=P.width,W=P.height,F=P.style,ie=P.compact,H=P.title,Y=P.desc,re=Zg(P,GU),ae=$e(re,!1);if(ie)return Q.createElement(Pg,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement(Lu,lo({},ae,{width:k,height:W,title:H,desc:Y}),this.renderClipPath(),b0(A,this.renderMap)));if(this.props.accessibilityLayer){var L,G;ae.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,ae.role=(G=this.props.role)!==null&&G!==void 0?G:"application",ae.onKeyDown=function(ue){T.accessibilityManager.keyboardEvent(ue)},ae.onFocus=function(){T.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return Q.createElement(Pg,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement("div",lo({className:Ke("recharts-wrapper",N),style:xe({position:"relative",cursor:"default",width:k,height:W},F)},ee,{ref:function($){T.container=$}}),Q.createElement(Lu,lo({},ae,{width:k,height:W,title:H,desc:Y,style:cV}),this.renderClipPath(),b0(A,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(X.Component);Ve(I,"displayName",n),Ve(I,"defaultProps",xe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Ve(I,"getDerivedStateFromProps",function(E,R){var _=E.dataKey,T=E.data,P=E.children,A=E.width,N=E.height,k=E.layout,W=E.stackOffset,F=E.margin,ie=R.dataStartIndex,H=R.dataEndIndex;if(R.updateId===void 0){var Y=ey(E);return xe(xe(xe({},Y),{},{updateId:0},C(xe(xe({props:E},Y),{},{updateId:0}),R)),{},{prevDataKey:_,prevData:T,prevWidth:A,prevHeight:N,prevLayout:k,prevStackOffset:W,prevMargin:F,prevChildren:P})}if(_!==R.prevDataKey||T!==R.prevData||A!==R.prevWidth||N!==R.prevHeight||k!==R.prevLayout||W!==R.prevStackOffset||!xo(F,R.prevMargin)){var re=ey(E),ae={chartX:R.chartX,chartY:R.chartY,isTooltipActive:R.isTooltipActive},L=xe(xe({},Jg(R,T,k)),{},{updateId:R.updateId+1}),G=xe(xe(xe({},re),ae),L);return xe(xe(xe({},G),C(xe({props:E},G),R)),{},{prevDataKey:_,prevData:T,prevWidth:A,prevHeight:N,prevLayout:k,prevStackOffset:W,prevMargin:F,prevChildren:P})}if(!Bu(P,R.prevChildren)){var ee,ue,$,B,q=Tn(P,Lo),oe=q&&(ee=(ue=q.props)===null||ue===void 0?void 0:ue.startIndex)!==null&&ee!==void 0?ee:ie,de=q&&($=(B=q.props)===null||B===void 0?void 0:B.endIndex)!==null&&$!==void 0?$:H,be=oe!==ie||de!==H,Me=!Ye(T),te=Me&&!be?R.updateId:R.updateId+1;return xe(xe({updateId:te},C(xe(xe({props:E},R),{},{updateId:te,dataStartIndex:oe,dataEndIndex:de}),R)),{},{prevChildren:P,dataStartIndex:oe,dataEndIndex:de})}return null}),Ve(I,"renderActiveDot",function(E,R,_){var T;return X.isValidElement(E)?T=X.cloneElement(E,R):Ge(E)?T=E(R):T=Q.createElement(dd,R),Q.createElement(it,{className:"recharts-active-dot",key:_},T)});var j=X.forwardRef(function(R,_){return Q.createElement(I,lo({},R,{ref:_}))});return j.displayName=I.displayName,j},Op=Ip({chartName:"LineChart",GraphicalChild:kr,axisComponents:[{axisType:"xAxis",AxisComp:ri},{axisType:"yAxis",AxisComp:ii}],formatAxisMap:Xv}),bV=Ip({chartName:"BarChart",GraphicalChild:ni,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ri},{axisType:"yAxis",AxisComp:ii}],formatAxisMap:Xv}),vV=Ip({chartName:"PieChart",GraphicalChild:$r,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:pd},{axisType:"radiusAxis",AxisComp:fd}],formatAxisMap:Qk,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const T2=({onNavigate:e})=>{const t=[{time:"9 AM",visitors:12},{time:"10 AM",visitors:25},{time:"11 AM",visitors:38},{time:"12 PM",visitors:45},{time:"1 PM",visitors:52},{time:"2 PM",visitors:58},{time:"3 PM",visitors:62},{time:"4 PM",visitors:48},{time:"5 PM",visitors:35},{time:"6 PM",visitors:22}],n=localStorage.getItem("exhibitorName")||"Billiton Service PVT",r=typeof window<"u"&&window.innerWidth<=768;return o.jsxs("div",{style:{padding:"0px",maxWidth:"1400px",margin:"0 auto"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:r?"flex-start":"flex-end",marginBottom:"28px",flexDirection:r?"column":"row",gap:r?"16px":"0"},children:[o.jsxs("div",{children:[o.jsxs("h1",{style:{fontSize:r?"24px":"28px",fontWeight:800,color:"#1e3a8a",margin:0,letterSpacing:"-0.02em"},children:["Welcome Back , ",n]}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"6px"},children:"Welcome back! Here's an overview of your expo management."})]}),o.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",flexWrap:"wrap",width:r?"100%":"auto"},children:[o.jsxs("div",{className:r?"hide-mobile":"",style:{background:"rgba(37, 99, 235, 0.08)",padding:"8px 16px",borderRadius:"12px",color:"#2563eb",fontWeight:600,fontSize:"14px"},children:["Good Morning ",n.split(" ")[0],"....!"]}),o.jsx("button",{onClick:()=>e("scanner"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"white",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"#475569",cursor:"pointer",flex:r?"1":"none"},children:"Export"}),o.jsxs("button",{onClick:()=>e("scanner"),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"#2563eb",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"white",cursor:"pointer",flex:r?"1":"none"},children:[o.jsx(ho,{size:16}),"Scan Badge"]})]})]}),o.jsxs("div",{style:{background:"linear-gradient(135deg, #10b981, #059669)",borderRadius:"16px",padding:r?"20px":"24px",color:"white",marginBottom:"32px",display:"flex",justifyContent:"space-between",alignItems:r?"flex-start":"center",flexDirection:r?"column":"row",gap:r?"16px":"0"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("div",{style:{background:"rgba(255,255,255,0.2)",padding:"12px",borderRadius:"12px"},children:o.jsx(er,{size:24})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"14px",opacity:.9,marginBottom:"4px"},children:"Live at Stall A-15"}),o.jsx("div",{style:{fontSize:r?"20px":"24px",fontWeight:700},children:"23 visitors right now"})]})]}),o.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:[o.jsx("div",{style:{background:"rgba(255,255,255,0.2)",padding:"6px 12px",borderRadius:"8px",fontSize:"12px"},children:"Hall A, Stall 15"}),o.jsx("div",{style:{background:"rgba(255,255,255,0.2)",padding:"6px 12px",borderRadius:"8px",fontSize:"12px"},children:"Peak: 2-4 PM"})]})]}),o.jsx("div",{className:"stats-grid",style:{marginBottom:"32px"},children:[{label:"Total Visitors Today",value:"387",change:"+18% vs yesterday",icon:an},{label:"Leads Captured",value:"56",change:"+24% vs yesterday",icon:nr},{label:"Conversion Rate",value:"14.5%",change:"+3.2% vs yesterday",icon:er},{label:"Avg. Engagement",value:"8.5 min",change:"+12% vs yesterday",icon:pr}].map((a,l)=>o.jsxs("div",{className:"card",style:{padding:r?"20px":"24px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[o.jsx(a.icon,{size:r?20:24,color:"#2563eb"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"#10b981",fontSize:"12px",fontWeight:600},children:[o.jsx(nr,{size:12}),o.jsx("span",{className:r?"hide-mobile":"",children:a.change})]})]}),o.jsx("div",{style:{fontSize:r?"28px":"32px",fontWeight:800,color:"#1e293b",marginBottom:"4px"},children:a.value}),o.jsx("div",{style:{fontSize:"14px",color:"#64748b"},children:a.label})]},l))}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:r?"1fr":"2fr 1fr",gap:"24px",marginBottom:"32px"},children:[o.jsxs("div",{className:"card",style:{padding:r?"20px":"24px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",marginBottom:"24px"},children:"Today's Visitor Traffic"}),o.jsx("div",{style:{height:r?"250px":"300px"},children:o.jsx(Da,{width:"100%",height:"100%",children:o.jsxs(Op,{data:t,children:[o.jsx(Es,{strokeDasharray:"3 3",stroke:"#f1f5f9",vertical:!1}),o.jsx(ri,{dataKey:"time",stroke:"#94a3b8",fontSize:12,axisLine:!1,tickLine:!1}),o.jsx(ii,{stroke:"#94a3b8",fontSize:12,axisLine:!1,tickLine:!1}),o.jsx(Sn,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"}}),o.jsx(kr,{type:"monotone",dataKey:"visitors",stroke:"#2563eb",strokeWidth:3,dot:!1})]})})}),o.jsx("p",{style:{fontSize:"12px",color:"#64748b",marginTop:"16px"},children:"Hourly visitor count at your stall"})]}),o.jsxs("div",{className:"card",style:{padding:r?"20px":"24px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",marginBottom:"24px"},children:"Lead Capture Goal"}),o.jsxs("div",{style:{marginBottom:"24px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[o.jsx("span",{style:{fontSize:"14px",color:"#64748b"},children:"56 of 100 leads"}),o.jsx("span",{style:{fontSize:"14px",fontWeight:600,color:"#1e293b"},children:"56%"})]}),o.jsx("div",{style:{height:"12px",background:"#f1f5f9",borderRadius:"6px",overflow:"hidden"},children:o.jsx("div",{style:{width:"56%",height:"100%",background:"linear-gradient(90deg, #2563eb, #3b82f6)",borderRadius:"6px"}})})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"24px"},children:[o.jsxs("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"12px"},children:[o.jsx("div",{style:{fontSize:"24px",fontWeight:700,color:"#1e293b"},children:"35%"}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:"Scan Leads"})]}),o.jsxs("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"12px"},children:[o.jsx("div",{style:{fontSize:"24px",fontWeight:700,color:"#1e293b"},children:"42%"}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:"Warm Leads"})]})]}),o.jsx("button",{style:{width:"100%",padding:"12px",background:"#2563eb",color:"white",borderRadius:"10px",fontWeight:600,cursor:"pointer",border:"none"},children:"Capture More Leads"})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:r?"1fr":"1fr 2fr",gap:"24px"},children:[o.jsxs("div",{className:"card",style:{padding:r?"20px":"24px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",marginBottom:"24px"},children:"Quick Actions"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[{icon:ho,label:"Scan Badge",action:"scanner"},{icon:Ha,label:"Add Lead",action:"leads"},{icon:fl,label:"View Reports",action:"analytics"},{icon:Ac,label:"Edit Profile",action:"dashboard"}].map((a,l)=>o.jsxs("button",{onClick:()=>e(a.action),style:{padding:"16px",background:"#f8fafc",border:"1px solid #f1f5f9",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",cursor:"pointer",fontWeight:600,fontSize:"14px",color:"#1e293b"},children:[o.jsx(a.icon,{size:20,color:"#2563eb"}),a.label]},l))})]}),o.jsxs("div",{className:"card",style:{padding:r?"20px":"24px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",margin:0},children:"Recent Leads"}),o.jsx("button",{onClick:()=>e("leads"),style:{fontSize:"12px",color:"#2563eb",fontWeight:600,background:"none",border:"none",cursor:"pointer"},children:"View All →"})]}),o.jsx("div",{style:{fontSize:"13px",color:"#64748b",marginBottom:"16px"},children:"Latest captured leads"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[{name:"Rajesh Kumar",company:"Infosys",plan:"Enterprise",time:"5 mins ago",status:"online"},{name:"Priya Sharma",company:"TCS Digital",plan:"Cloud",time:"15 mins ago",status:"offline"},{name:"Amit Patel",company:"Wipro Ltd",plan:"AI/ML",time:"42 mins ago",status:"offline"},{name:"Sneha Reddy",company:"HCL Tech",plan:"Digital",time:"1 hour ago",status:"offline"}].map((a,l)=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px",background:"#f8fafc",borderRadius:"12px",flexWrap:r?"wrap":"nowrap",gap:r?"12px":"0"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsxs("div",{style:{position:"relative"},children:[o.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #2563eb, #3b82f6)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:600,fontSize:"14px"},children:a.name.split(" ").map(u=>u[0]).join("")}),a.status==="online"&&o.jsx("div",{style:{position:"absolute",bottom:0,right:0,width:"12px",height:"12px",borderRadius:"50%",background:"#10b981",border:"2px solid white"}})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#1e293b"},children:a.name}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:a.company})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"4px"},children:[o.jsx("div",{style:{padding:"3px 10px",background:"#eff6ff",borderRadius:"6px",fontSize:"11px",fontWeight:600,color:"#2563eb"},children:a.plan}),o.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:a.time})]}),!r&&o.jsxs("div",{style:{display:"flex",gap:"6px"},children:[o.jsx("button",{style:{padding:"6px",background:"white",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer"},children:o.jsx(ka,{size:14,color:"#64748b"})}),o.jsx("button",{style:{padding:"6px",background:"white",border:"1px solid #e2e8f0",borderRadius:"6px",cursor:"pointer"},children:o.jsx(Mr,{size:14,color:"#64748b"})})]})]})]},l))})]})]}),o.jsxs("div",{className:"card",style:{padding:"24px",marginTop:"32px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",margin:0},children:"Upcoming Organization Events"}),o.jsx("button",{onClick:()=>e("events"),style:{fontSize:"12px",color:"#2563eb",fontWeight:600,background:"none",border:"none",cursor:"pointer"},children:"View All →"})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:[{name:"Vikram Singh",title:"Tech Innovation Summit",time:"11:00 AM",status:"Demo"},{name:"Anita Desai",title:"Cognizism",time:"2:30 PM",status:"Meeting"},{name:"Vikram Singh",title:"Tech Innovation Summit",time:"11:00 AM",status:"Demo"},{name:"Anita Desai",title:"Cognizism",time:"2:30 PM",status:"Meeting"}].map((a,l)=>o.jsxs("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:l%2===0?"#dbeafe":"#fce7f3",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",fontWeight:600,color:l%2===0?"#2563eb":"#ec4899"},children:a.name.split(" ").map(u=>u[0]).join("")}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#1e293b"},children:a.name}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:a.title})]})]}),o.jsxs("div",{style:{textAlign:"right"},children:[o.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"#1e293b"},children:a.time}),o.jsx("div",{style:{fontSize:"11px",color:"#64748b"},children:a.status})]})]},l))})]}),o.jsx("div",{style:{textAlign:"center",marginTop:"32px",paddingBottom:"24px"},children:o.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",fontWeight:500},children:"Powered By Billiton"})})]})},_2=()=>{const[e,t]=X.useState("All Leads"),n=[{name:"Rajesh Kumar",company:"Infosys Technologies",email:"rajesh.k@infosys.com",phone:"+91 98765 43210",score:9,status:"New",time:"2 hours ago",notes:"Very interested in our cloud solutions. Requested demo."},{name:"Priya Sharma",company:"TCS Digital",email:"priya.s@tcs.com",phone:"+91 87654 32109",score:7,status:"Contacted",time:"4 hours ago",notes:"Budget discussions in progress."},{name:"Amit Patel",company:"Wipro Ltd",email:"amit.p@wipro.com",phone:"+91 76543 21098",score:8,status:"New",time:"2 hours ago",notes:"Decision maker. Schedule follow-up call next week."},{name:"Sneha Reddy",company:"HCL Technologies",email:"sneha.r@hcl.com",phone:"+91 65432 10987",score:6,status:"New",time:"8 hours ago",notes:""},{name:"Vikram Singh",company:"Tech Mahindra",email:"vikram.s@techmahindra.com",phone:"+91 54321 09876",score:10,status:"New",time:"2 hours ago",notes:"Deal closed! Contract signed for 2 years."}];return o.jsxs("div",{style:{padding:"0px",maxWidth:"1400px",margin:"0 auto"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"28px"},children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"28px",fontWeight:800,color:"#1e3a8a",margin:0,letterSpacing:"-0.02em"},children:"Lead Management"}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"6px"},children:"Manage and follow up with your captured leads"})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"white",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"#475569",cursor:"pointer"},children:[o.jsx(fn,{size:16}),"Export"]}),o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"#2563eb",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"white",cursor:"pointer"},children:[o.jsx(ir,{size:16}),"Add Lead"]})]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"32px"},children:[{label:"Total Leads",value:"5",icon:an,color:"#2563eb"},{label:"New Today",value:"2",icon:pr,color:"#0ea5e9"},{label:"Contacted",value:"1",icon:ka,color:"#10b981"},{label:"Converted",value:"1",icon:Li,color:"#f59e0b"}].map((r,a)=>o.jsx("div",{className:"card",style:{padding:"24px"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b"},children:r.value}),o.jsx("div",{style:{fontSize:"14px",color:"#64748b",fontWeight:500},children:r.label})]}),o.jsx("div",{style:{background:`${r.color}15`,padding:"10px",borderRadius:"10px"},children:o.jsx(r.icon,{size:20,color:r.color})})]})},a))}),o.jsxs("div",{className:"card",style:{padding:"0px"},children:[o.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid #f1f5f9"},children:[o.jsx("div",{style:{display:"flex",gap:"12px",marginBottom:"24px"},children:["All Leads","New","Contacted","Converted"].map(r=>o.jsx("button",{onClick:()=>t(r),style:{padding:"8px 16px",borderRadius:"8px",fontSize:"13px",fontWeight:600,background:e===r?"#eff6ff":"white",color:e===r?"#2563eb":"#64748b",border:"1px solid",borderColor:e===r?"#bfdbfe":"#e2e8f0",cursor:"pointer"},children:r},r))}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{style:{position:"relative",width:"320px"},children:[o.jsx(mr,{size:18,color:"#94a3b8",style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)"}}),o.jsx("input",{type:"text",placeholder:"Search Leads...",style:{width:"100%",padding:"10px 14px 10px 44px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px"}})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("span",{style:{fontSize:"13px",color:"#64748b"},children:"Show"}),o.jsxs("select",{style:{padding:"6px 12px",border:"1.5px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",outline:"none"},children:[o.jsx("option",{children:"10"}),o.jsx("option",{children:"25"}),o.jsx("option",{children:"50"})]}),o.jsx("span",{style:{fontSize:"13px",color:"#64748b"},children:"entries"})]})]})]}),o.jsx("div",{style:{padding:"24px"},children:o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:n.map((r,a)=>o.jsx("div",{className:"hover-lift",style:{padding:"20px",border:"1px solid #f1f5f9",borderRadius:"16px",transition:"all 0.2s"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[o.jsxs("div",{style:{display:"flex",gap:"20px"},children:[o.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:"#f8fafc",display:"flex",alignItems:"center",justifyContent:"center",color:"#2563eb",fontWeight:600},children:r.name.split(" ").map(l=>l[0]).join("")}),o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[o.jsx("span",{style:{fontWeight:700,fontSize:"16px",color:"#1e293b"},children:r.name}),o.jsx(Ac,{size:14,fill:"#f59e0b",color:"#f59e0b"}),o.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#f0fdf4",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",color:"#10b981",fontWeight:800},children:r.score})]}),o.jsx("div",{style:{fontSize:"13px",color:"#64748b",marginBottom:"8px"},children:r.company}),o.jsxs("div",{style:{display:"flex",gap:"16px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",color:"#64748b"},children:[o.jsx(Mr,{size:14})," ",r.email]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",color:"#64748b"},children:[o.jsx(ka,{size:14})," ",r.phone]})]}),r.notes&&o.jsxs("div",{style:{marginTop:"12px",fontSize:"12px",color:"#94a3b8",fontStyle:"italic"},children:['"',r.notes,'"']})]})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("span",{style:{fontSize:"11px",color:"#64748b"},children:r.time}),o.jsx("span",{style:{padding:"4px 10px",borderRadius:"6px",fontSize:"11px",fontWeight:700,background:r.status==="New"?"#ecfdf5":"#fff7ed",color:r.status==="New"?"#10b981":"#f59e0b"},children:r.status})]}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsxs("button",{style:{padding:"8px 16px",background:"white",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:600,color:"#475569",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx(Mr,{size:14})," Email"]}),o.jsxs("button",{style:{padding:"8px 16px",background:"white",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:600,color:"#475569",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx(ka,{size:14})," Call"]}),o.jsxs("button",{style:{padding:"8px 16px",background:"white",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:600,color:"#475569",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx(bo,{size:14})," WhatsApp"]}),o.jsx("button",{style:{padding:"8px",background:"white",border:"1px solid #e2e8f0",borderRadius:"8px",cursor:"pointer"},children:o.jsx(Zo,{size:14})})]})]})]})},a))})})]}),o.jsx("div",{style:{textAlign:"center",marginTop:"32px",paddingBottom:"24px"},children:o.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",fontWeight:500},children:"Powered By Billiton"})})]})};var Pe;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Pe||(Pe={}));var ny=new Map([[Pe.QR_CODE,"QR_CODE"],[Pe.AZTEC,"AZTEC"],[Pe.CODABAR,"CODABAR"],[Pe.CODE_39,"CODE_39"],[Pe.CODE_93,"CODE_93"],[Pe.CODE_128,"CODE_128"],[Pe.DATA_MATRIX,"DATA_MATRIX"],[Pe.MAXICODE,"MAXICODE"],[Pe.ITF,"ITF"],[Pe.EAN_13,"EAN_13"],[Pe.EAN_8,"EAN_8"],[Pe.PDF_417,"PDF_417"],[Pe.RSS_14,"RSS_14"],[Pe.RSS_EXPANDED,"RSS_EXPANDED"],[Pe.UPC_A,"UPC_A"],[Pe.UPC_E,"UPC_E"],[Pe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),ry;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(ry||(ry={}));function wV(e){return Object.values(Pe).includes(e)}var mc;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(mc||(mc={}));var SV=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[mc.SCAN_TYPE_CAMERA,mc.SCAN_TYPE_FILE],e}(),R2=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!ny.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,ny.get(t))},e}(),iy=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),dh;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(dh||(dh={}));var AV=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:dh.UNKWOWN_ERROR}},e}(),CV=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function jr(e){return typeof e>"u"||e===null}var co=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),P2=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var a=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],l=new Set(a),u=Object.keys(t),h=0,x=u;h<x.length;h++){var g=x[h];if(l.has(g))return n.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},e}(),uh={exports:{}};(function(e,t){(function(n,r){r(t)})(Ir,function(n){function r(M){return M==null}var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,i){M.__proto__=i}||function(M,i){for(var s in i)i.hasOwnProperty(s)&&(M[s]=i[s])};function l(M,i){a(M,i);function s(){this.constructor=M}M.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}function u(M,i){var s=Object.setPrototypeOf;s?s(M,i):M.__proto__=i}function h(M,i){i===void 0&&(i=M.constructor);var s=Error.captureStackTrace;s&&s(M,i)}var x=function(M){l(i,M);function i(s){var c=this.constructor,d=M.call(this,s)||this;return Object.defineProperty(d,"name",{value:c.name,enumerable:!1}),u(d,c.prototype),h(d),d}return i}(Error);class g extends x{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}g.kind="Exception";class b extends g{}b.kind="ArgumentException";class m extends g{}m.kind="IllegalArgumentException";class S{constructor(i){if(this.binarizer=i,i===null)throw new m("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,s){return this.binarizer.getBlackRow(i,s)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,s,c,d){const f=this.binarizer.getLuminanceSource().crop(i,s,c,d);return new S(this.binarizer.createBinarizer(f))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class C extends g{static getChecksumInstance(){return new C}}C.kind="ChecksumException";class I{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class j{static arraycopy(i,s,c,d,f){for(;f--;)c[d++]=i[s++]}static currentTimeMillis(){return Date.now()}}class E extends g{}E.kind="IndexOutOfBoundsException";class R extends E{constructor(i=void 0,s=void 0){super(s),this.index=i,this.message=s}}R.kind="ArrayIndexOutOfBoundsException";class _{static fill(i,s){for(let c=0,d=i.length;c<d;c++)i[c]=s}static fillWithin(i,s,c,d){_.rangeCheck(i.length,s,c);for(let f=s;f<c;f++)i[f]=d}static rangeCheck(i,s,c){if(s>c)throw new m("fromIndex("+s+") > toIndex("+c+")");if(s<0)throw new R(s);if(c>i)throw new R(c)}static asList(...i){return i}static create(i,s,c){return Array.from({length:i}).map(f=>Array.from({length:s}).fill(c))}static createInt32Array(i,s,c){return Array.from({length:i}).map(f=>Int32Array.from({length:s}).fill(c))}static equals(i,s){if(!i||!s||!i.length||!s.length||i.length!==s.length)return!1;for(let c=0,d=i.length;c<d;c++)if(i[c]!==s[c])return!1;return!0}static hashCode(i){if(i===null)return 0;let s=1;for(const c of i)s=31*s+c;return s}static fillUint8Array(i,s){for(let c=0;c!==i.length;c++)i[c]=s}static copyOf(i,s){return i.slice(0,s)}static copyOfUint8Array(i,s){if(i.length<=s){const c=new Uint8Array(s);return c.set(i),c}return i.slice(0,s)}static copyOfRange(i,s,c){const d=c-s,f=new Int32Array(d);return j.arraycopy(i,s,f,0,d),f}static binarySearch(i,s,c){c===void 0&&(c=_.numberComparator);let d=0,f=i.length-1;for(;d<=f;){const p=f+d>>1,y=c(s,i[p]);if(y>0)d=p+1;else if(y<0)f=p-1;else return p}return-d-1}static numberComparator(i,s){return i-s}}class T{static numberOfTrailingZeros(i){let s;if(i===0)return 32;let c=31;return s=i<<16,s!==0&&(c-=16,i=s),s=i<<8,s!==0&&(c-=8,i=s),s=i<<4,s!==0&&(c-=4,i=s),s=i<<2,s!==0&&(c-=2,i=s),c-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let s=1;return i>>>16||(s+=16,i<<=16),i>>>24||(s+=8,i<<=8),i>>>28||(s+=4,i<<=4),i>>>30||(s+=2,i<<=2),s-=i>>>31,s}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,s){return Math.trunc(i/s)}static parseInt(i,s=void 0){return parseInt(i,s)}}T.MIN_VALUE_32_BITS=-2147483648,T.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(i,s){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,s==null?this.bits=P.makeArray(i):this.bits=s)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const s=P.makeArray(i);j.arraycopy(this.bits,0,s,0,this.bits.length),this.bits=s}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const s=this.size;if(i>=s)return s;const c=this.bits;let d=Math.floor(i/32),f=c[d];f&=~((1<<(i&31))-1);const p=c.length;for(;f===0;){if(++d===p)return s;f=c[d]}const y=d*32+T.numberOfTrailingZeros(f);return y>s?s:y}getNextUnset(i){const s=this.size;if(i>=s)return s;const c=this.bits;let d=Math.floor(i/32),f=~c[d];f&=~((1<<(i&31))-1);const p=c.length;for(;f===0;){if(++d===p)return s;f=~c[d]}const y=d*32+T.numberOfTrailingZeros(f);return y>s?s:y}setBulk(i,s){this.bits[Math.floor(i/32)]=s}setRange(i,s){if(s<i||i<0||s>this.size)throw new m;if(s===i)return;s--;const c=Math.floor(i/32),d=Math.floor(s/32),f=this.bits;for(let p=c;p<=d;p++){const y=p>c?0:i&31,w=(2<<(p<d?31:s&31))-(1<<y);f[p]|=w}}clear(){const i=this.bits.length,s=this.bits;for(let c=0;c<i;c++)s[c]=0}isRange(i,s,c){if(s<i||i<0||s>this.size)throw new m;if(s===i)return!0;s--;const d=Math.floor(i/32),f=Math.floor(s/32),p=this.bits;for(let y=d;y<=f;y++){const v=y>d?0:i&31,O=(2<<(y<f?31:s&31))-(1<<v)&4294967295;if((p[y]&O)!==(c?O:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,s){if(s<0||s>32)throw new m("Num bits must be between 0 and 32");this.ensureCapacity(this.size+s);for(let c=s;c>0;c--)this.appendBit((i>>c-1&1)===1)}appendBitArray(i){const s=i.size;this.ensureCapacity(this.size+s);for(let c=0;c<s;c++)this.appendBit(i.get(c))}xor(i){if(this.size!==i.size)throw new m("Sizes don't match");const s=this.bits;for(let c=0,d=s.length;c<d;c++)s[c]^=i.bits[c]}toBytes(i,s,c,d){for(let f=0;f<d;f++){let p=0;for(let y=0;y<8;y++)this.get(i)&&(p|=1<<7-y),i++;s[c+f]=p}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),s=Math.floor((this.size-1)/32),c=s+1,d=this.bits;for(let f=0;f<c;f++){let p=d[f];p=p>>1&1431655765|(p&1431655765)<<1,p=p>>2&858993459|(p&858993459)<<2,p=p>>4&252645135|(p&252645135)<<4,p=p>>8&16711935|(p&16711935)<<8,p=p>>16&65535|(p&65535)<<16,i[s-f]=p}if(this.size!==c*32){const f=c*32-this.size;let p=i[0]>>>f;for(let y=1;y<c;y++){const v=i[y];p|=v<<32-f,i[y-1]=p,p=v>>>f}i[c-1]=p}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof P))return!1;const s=i;return this.size===s.size&&_.equals(this.bits,s.bits)}hashCode(){return 31*this.size+_.hashCode(this.bits)}toString(){let i="";for(let s=0,c=this.size;s<c;s++)s&7||(i+=" "),i+=this.get(s)?"X":".";return i}clone(){return new P(this.size,this.bits.slice())}}var A;(function(M){M[M.OTHER=0]="OTHER",M[M.PURE_BARCODE=1]="PURE_BARCODE",M[M.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",M[M.TRY_HARDER=3]="TRY_HARDER",M[M.CHARACTER_SET=4]="CHARACTER_SET",M[M.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",M[M.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",M[M.ASSUME_GS1=7]="ASSUME_GS1",M[M.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",M[M.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",M[M.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(A||(A={}));var N=A;class k extends g{static getFormatInstance(){return new k}}k.kind="FormatException";var W;(function(M){M[M.Cp437=0]="Cp437",M[M.ISO8859_1=1]="ISO8859_1",M[M.ISO8859_2=2]="ISO8859_2",M[M.ISO8859_3=3]="ISO8859_3",M[M.ISO8859_4=4]="ISO8859_4",M[M.ISO8859_5=5]="ISO8859_5",M[M.ISO8859_6=6]="ISO8859_6",M[M.ISO8859_7=7]="ISO8859_7",M[M.ISO8859_8=8]="ISO8859_8",M[M.ISO8859_9=9]="ISO8859_9",M[M.ISO8859_10=10]="ISO8859_10",M[M.ISO8859_11=11]="ISO8859_11",M[M.ISO8859_13=12]="ISO8859_13",M[M.ISO8859_14=13]="ISO8859_14",M[M.ISO8859_15=14]="ISO8859_15",M[M.ISO8859_16=15]="ISO8859_16",M[M.SJIS=16]="SJIS",M[M.Cp1250=17]="Cp1250",M[M.Cp1251=18]="Cp1251",M[M.Cp1252=19]="Cp1252",M[M.Cp1256=20]="Cp1256",M[M.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",M[M.UTF8=22]="UTF8",M[M.ASCII=23]="ASCII",M[M.Big5=24]="Big5",M[M.GB18030=25]="GB18030",M[M.EUC_KR=26]="EUC_KR"})(W||(W={}));class F{constructor(i,s,c,...d){this.valueIdentifier=i,this.name=c,typeof s=="number"?this.values=Int32Array.from([s]):this.values=s,this.otherEncodingNames=d,F.VALUE_IDENTIFIER_TO_ECI.set(i,this),F.NAME_TO_ECI.set(c,this);const f=this.values;for(let p=0,y=f.length;p!==y;p++){const v=f[p];F.VALUES_TO_ECI.set(v,this)}for(const p of d)F.NAME_TO_ECI.set(p,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new k("incorect value");const s=F.VALUES_TO_ECI.get(i);if(s===void 0)throw new k("incorect value");return s}static getCharacterSetECIByName(i){const s=F.NAME_TO_ECI.get(i);if(s===void 0)throw new k("incorect value");return s}equals(i){if(!(i instanceof F))return!1;const s=i;return this.getName()===s.getName()}}F.VALUE_IDENTIFIER_TO_ECI=new Map,F.VALUES_TO_ECI=new Map,F.NAME_TO_ECI=new Map,F.Cp437=new F(W.Cp437,Int32Array.from([0,2]),"Cp437"),F.ISO8859_1=new F(W.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),F.ISO8859_2=new F(W.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),F.ISO8859_3=new F(W.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),F.ISO8859_4=new F(W.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),F.ISO8859_5=new F(W.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),F.ISO8859_6=new F(W.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),F.ISO8859_7=new F(W.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),F.ISO8859_8=new F(W.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),F.ISO8859_9=new F(W.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),F.ISO8859_10=new F(W.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),F.ISO8859_11=new F(W.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),F.ISO8859_13=new F(W.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),F.ISO8859_14=new F(W.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),F.ISO8859_15=new F(W.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),F.ISO8859_16=new F(W.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),F.SJIS=new F(W.SJIS,20,"SJIS","Shift_JIS"),F.Cp1250=new F(W.Cp1250,21,"Cp1250","windows-1250"),F.Cp1251=new F(W.Cp1251,22,"Cp1251","windows-1251"),F.Cp1252=new F(W.Cp1252,23,"Cp1252","windows-1252"),F.Cp1256=new F(W.Cp1256,24,"Cp1256","windows-1256"),F.UnicodeBigUnmarked=new F(W.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),F.UTF8=new F(W.UTF8,26,"UTF8","UTF-8"),F.ASCII=new F(W.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),F.Big5=new F(W.Big5,28,"Big5"),F.GB18030=new F(W.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),F.EUC_KR=new F(W.EUC_KR,30,"EUC_KR","EUC-KR");class ie extends g{}ie.kind="UnsupportedOperationException";class H{static decode(i,s){const c=this.encodingName(s);return this.customDecoder?this.customDecoder(i,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(i,c):new TextDecoder(c).decode(i)}static shouldDecodeOnFallback(i){return!H.isBrowser()&&i==="ISO-8859-1"}static encode(i,s){const c=this.encodingName(s);return this.customEncoder?this.customEncoder(i,c):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof F?i:F.getCharacterSetECIByName(i)}static decodeFallback(i,s){const c=this.encodingCharacterSet(s);if(H.isDecodeFallbackSupported(c)){let d="";for(let f=0,p=i.length;f<p;f++){let y=i[f].toString(16);y.length<2&&(y="0"+y),d+="%"+y}return decodeURIComponent(d)}if(c.equals(F.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new ie(`Encoding ${this.encodingName(s)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(F.UTF8)||i.equals(F.ISO8859_1)||i.equals(F.ASCII)}static encodeFallback(i){const c=btoa(unescape(encodeURIComponent(i))).split(""),d=[];for(let f=0;f<c.length;f++)d.push(c[f].charCodeAt(0));return new Uint8Array(d)}}class Y{static castAsNonUtf8Char(i,s=null){const c=s?s.getName():this.ISO88591;return H.decode(new Uint8Array([i]),c)}static guessEncoding(i,s){if(s!=null&&s.get(N.CHARACTER_SET)!==void 0)return s.get(N.CHARACTER_SET).toString();const c=i.length;let d=!0,f=!0,p=!0,y=0,v=0,w=0,O=0,D=0,z=0,V=0,J=0,ne=0,le=0,pe=0;const Se=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let Ae=0;Ae<c&&(d||f||p);Ae++){const we=i[Ae]&255;p&&(y>0?we&128?y--:p=!1:we&128&&(we&64?(y++,we&32?(y++,we&16?(y++,we&8?p=!1:O++):w++):v++):p=!1)),d&&(we>127&&we<160?d=!1:we>159&&(we<192||we===215||we===247)&&pe++),f&&(D>0?we<64||we===127||we>252?f=!1:D--:we===128||we===160||we>239?f=!1:we>160&&we<224?(z++,J=0,V++,V>ne&&(ne=V)):we>127?(D++,V=0,J++,J>le&&(le=J)):(V=0,J=0))}return p&&y>0&&(p=!1),f&&D>0&&(f=!1),p&&(Se||v+w+O>0)?Y.UTF8:f&&(Y.ASSUME_SHIFT_JIS||ne>=3||le>=3)?Y.SHIFT_JIS:d&&f?ne===2&&z===2||pe*10>=c?Y.SHIFT_JIS:Y.ISO88591:d?Y.ISO88591:f?Y.SHIFT_JIS:p?Y.UTF8:Y.PLATFORM_DEFAULT_ENCODING}static format(i,...s){let c=-1;function d(p,y,v,w,O,D){if(p==="%%")return"%";if(s[++c]===void 0)return;p=w?parseInt(w.substr(1)):void 0;let z=O?parseInt(O.substr(1)):void 0,V;switch(D){case"s":V=s[c];break;case"c":V=s[c][0];break;case"f":V=parseFloat(s[c]).toFixed(p);break;case"p":V=parseFloat(s[c]).toPrecision(p);break;case"e":V=parseFloat(s[c]).toExponential(p);break;case"x":V=parseInt(s[c]).toString(z||16);break;case"d":V=parseFloat(parseInt(s[c],z||10).toPrecision(p)).toFixed(0);break}V=typeof V=="object"?JSON.stringify(V):(+V).toString(z);let J=parseInt(v),ne=v&&v[0]+""=="0"?"0":" ";for(;V.length<J;)V=y!==void 0?V+ne:ne+V;return V}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(f,d)}static getBytes(i,s){return H.encode(i,s)}static getCharCode(i,s=0){return i.charCodeAt(s)}static getCharAt(i){return String.fromCharCode(i)}}Y.SHIFT_JIS=F.SJIS.getName(),Y.GB2312="GB2312",Y.ISO88591=F.ISO8859_1.getName(),Y.EUC_JP="EUC_JP",Y.UTF8=F.UTF8.getName(),Y.PLATFORM_DEFAULT_ENCODING=Y.UTF8,Y.ASSUME_SHIFT_JIS=!1;class re{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=Y.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,s,c){for(let d=s;s<s+c;d++)this.append(i[d]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,s){this.value=this.value.substr(0,i)+s+this.value.substr(i+1)}substring(i,s){return this.value.substring(i,s)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,s){this.value=this.value.substr(0,i)+s+this.value.substr(i+s.length)}}class ae{constructor(i,s,c,d){if(this.width=i,this.height=s,this.rowSize=c,this.bits=d,s==null&&(s=i),this.height=s,i<1||s<1)throw new m("Both dimensions must be greater than 0");c==null&&(c=Math.floor((i+31)/32)),this.rowSize=c,d==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const s=i.length,c=i[0].length,d=new ae(c,s);for(let f=0;f<s;f++){const p=i[f];for(let y=0;y<c;y++)p[y]&&d.set(y,f)}return d}static parseFromString(i,s,c){if(i===null)throw new m("stringRepresentation cannot be null");const d=new Array(i.length);let f=0,p=0,y=-1,v=0,w=0;for(;w<i.length;)if(i.charAt(w)===`
`||i.charAt(w)==="\r"){if(f>p){if(y===-1)y=f-p;else if(f-p!==y)throw new m("row lengths do not match");p=f,v++}w++}else if(i.substring(w,w+s.length)===s)w+=s.length,d[f]=!0,f++;else if(i.substring(w,w+c.length)===c)w+=c.length,d[f]=!1,f++;else throw new m("illegal character encountered: "+i.substring(w));if(f>p){if(y===-1)y=f-p;else if(f-p!==y)throw new m("row lengths do not match");v++}const O=new ae(y,v);for(let D=0;D<f;D++)d[D]&&O.set(Math.floor(D%y),Math.floor(D/y));return O}get(i,s){const c=s*this.rowSize+Math.floor(i/32);return(this.bits[c]>>>(i&31)&1)!==0}set(i,s){const c=s*this.rowSize+Math.floor(i/32);this.bits[c]|=1<<(i&31)&4294967295}unset(i,s){const c=s*this.rowSize+Math.floor(i/32);this.bits[c]&=~(1<<(i&31)&4294967295)}flip(i,s){const c=s*this.rowSize+Math.floor(i/32);this.bits[c]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new m("input matrix dimensions do not match");const s=new P(Math.floor(this.width/32)+1),c=this.rowSize,d=this.bits;for(let f=0,p=this.height;f<p;f++){const y=f*c,v=i.getRow(f,s).getBitArray();for(let w=0;w<c;w++)d[y+w]^=v[w]}}clear(){const i=this.bits,s=i.length;for(let c=0;c<s;c++)i[c]=0}setRegion(i,s,c,d){if(s<0||i<0)throw new m("Left and top must be nonnegative");if(d<1||c<1)throw new m("Height and width must be at least 1");const f=i+c,p=s+d;if(p>this.height||f>this.width)throw new m("The region must fit inside the matrix");const y=this.rowSize,v=this.bits;for(let w=s;w<p;w++){const O=w*y;for(let D=i;D<f;D++)v[O+Math.floor(D/32)]|=1<<(D&31)&4294967295}}getRow(i,s){s==null||s.getSize()<this.width?s=new P(this.width):s.clear();const c=this.rowSize,d=this.bits,f=i*c;for(let p=0;p<c;p++)s.setBulk(p*32,d[f+p]);return s}setRow(i,s){j.arraycopy(s.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),s=this.getHeight();let c=new P(i),d=new P(i);for(let f=0,p=Math.floor((s+1)/2);f<p;f++)c=this.getRow(f,c),d=this.getRow(s-1-f,d),c.reverse(),d.reverse(),this.setRow(f,d),this.setRow(s-1-f,c)}getEnclosingRectangle(){const i=this.width,s=this.height,c=this.rowSize,d=this.bits;let f=i,p=s,y=-1,v=-1;for(let w=0;w<s;w++)for(let O=0;O<c;O++){const D=d[w*c+O];if(D!==0){if(w<p&&(p=w),w>v&&(v=w),O*32<f){let z=0;for(;!(D<<31-z&4294967295);)z++;O*32+z<f&&(f=O*32+z)}if(O*32+31>y){let z=31;for(;!(D>>>z);)z--;O*32+z>y&&(y=O*32+z)}}}return y<f||v<p?null:Int32Array.from([f,p,y-f+1,v-p+1])}getTopLeftOnBit(){const i=this.rowSize,s=this.bits;let c=0;for(;c<s.length&&s[c]===0;)c++;if(c===s.length)return null;const d=c/i;let f=c%i*32;const p=s[c];let y=0;for(;!(p<<31-y&4294967295);)y++;return f+=y,Int32Array.from([f,d])}getBottomRightOnBit(){const i=this.rowSize,s=this.bits;let c=s.length-1;for(;c>=0&&s[c]===0;)c--;if(c<0)return null;const d=Math.floor(c/i);let f=Math.floor(c%i)*32;const p=s[c];let y=31;for(;!(p>>>y);)y--;return f+=y,Int32Array.from([f,d])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof ae))return!1;const s=i;return this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&_.equals(this.bits,s.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+_.hashCode(this.bits),i}toString(i="X ",s="  ",c=`
`){return this.buildToString(i,s,c)}buildToString(i,s,c){let d=new re;for(let f=0,p=this.height;f<p;f++){for(let y=0,v=this.width;y<v;y++)d.append(this.get(y,f)?i:s);d.append(c)}return d.toString()}clone(){return new ae(this.width,this.height,this.rowSize,this.bits.slice())}}class L extends g{static getNotFoundInstance(){return new L}}L.kind="NotFoundException";class G extends I{constructor(i){super(i),this.luminances=G.EMPTY,this.buckets=new Int32Array(G.LUMINANCE_BUCKETS)}getBlackRow(i,s){const c=this.getLuminanceSource(),d=c.getWidth();s==null||s.getSize()<d?s=new P(d):s.clear(),this.initArrays(d);const f=c.getRow(i,this.luminances),p=this.buckets;for(let v=0;v<d;v++)p[(f[v]&255)>>G.LUMINANCE_SHIFT]++;const y=G.estimateBlackPoint(p);if(d<3)for(let v=0;v<d;v++)(f[v]&255)<y&&s.set(v);else{let v=f[0]&255,w=f[1]&255;for(let O=1;O<d-1;O++){const D=f[O+1]&255;(w*4-v-D)/2<y&&s.set(O),v=w,w=D}}return s}getBlackMatrix(){const i=this.getLuminanceSource(),s=i.getWidth(),c=i.getHeight(),d=new ae(s,c);this.initArrays(s);const f=this.buckets;for(let v=1;v<5;v++){const w=Math.floor(c*v/5),O=i.getRow(w,this.luminances),D=Math.floor(s*4/5);for(let z=Math.floor(s/5);z<D;z++){const V=O[z]&255;f[V>>G.LUMINANCE_SHIFT]++}}const p=G.estimateBlackPoint(f),y=i.getMatrix();for(let v=0;v<c;v++){const w=v*s;for(let O=0;O<s;O++)(y[w+O]&255)<p&&d.set(O,v)}return d}createBinarizer(i){return new G(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const s=this.buckets;for(let c=0;c<G.LUMINANCE_BUCKETS;c++)s[c]=0}static estimateBlackPoint(i){const s=i.length;let c=0,d=0,f=0;for(let O=0;O<s;O++)i[O]>f&&(d=O,f=i[O]),i[O]>c&&(c=i[O]);let p=0,y=0;for(let O=0;O<s;O++){const D=O-d,z=i[O]*D*D;z>y&&(p=O,y=z)}if(d>p){const O=d;d=p,p=O}if(p-d<=s/16)throw new L;let v=p-1,w=-1;for(let O=p-1;O>d;O--){const D=O-d,z=D*D*(p-O)*(c-i[O]);z>w&&(v=O,w=z)}return v<<G.LUMINANCE_SHIFT}}G.LUMINANCE_BITS=5,G.LUMINANCE_SHIFT=8-G.LUMINANCE_BITS,G.LUMINANCE_BUCKETS=1<<G.LUMINANCE_BITS,G.EMPTY=Uint8ClampedArray.from([0]);class ee extends G{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),s=i.getWidth(),c=i.getHeight();if(s>=ee.MINIMUM_DIMENSION&&c>=ee.MINIMUM_DIMENSION){const d=i.getMatrix();let f=s>>ee.BLOCK_SIZE_POWER;s&ee.BLOCK_SIZE_MASK&&f++;let p=c>>ee.BLOCK_SIZE_POWER;c&ee.BLOCK_SIZE_MASK&&p++;const y=ee.calculateBlackPoints(d,f,p,s,c),v=new ae(s,c);ee.calculateThresholdForBlock(d,f,p,s,c,y,v),this.matrix=v}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new ee(i)}static calculateThresholdForBlock(i,s,c,d,f,p,y){const v=f-ee.BLOCK_SIZE,w=d-ee.BLOCK_SIZE;for(let O=0;O<c;O++){let D=O<<ee.BLOCK_SIZE_POWER;D>v&&(D=v);const z=ee.cap(O,2,c-3);for(let V=0;V<s;V++){let J=V<<ee.BLOCK_SIZE_POWER;J>w&&(J=w);const ne=ee.cap(V,2,s-3);let le=0;for(let Se=-2;Se<=2;Se++){const Ae=p[z+Se];le+=Ae[ne-2]+Ae[ne-1]+Ae[ne]+Ae[ne+1]+Ae[ne+2]}const pe=le/25;ee.thresholdBlock(i,J,D,pe,d,y)}}}static cap(i,s,c){return i<s?s:i>c?c:i}static thresholdBlock(i,s,c,d,f,p){for(let y=0,v=c*f+s;y<ee.BLOCK_SIZE;y++,v+=f)for(let w=0;w<ee.BLOCK_SIZE;w++)(i[v+w]&255)<=d&&p.set(s+w,c+y)}static calculateBlackPoints(i,s,c,d,f){const p=f-ee.BLOCK_SIZE,y=d-ee.BLOCK_SIZE,v=new Array(c);for(let w=0;w<c;w++){v[w]=new Int32Array(s);let O=w<<ee.BLOCK_SIZE_POWER;O>p&&(O=p);for(let D=0;D<s;D++){let z=D<<ee.BLOCK_SIZE_POWER;z>y&&(z=y);let V=0,J=255,ne=0;for(let pe=0,Se=O*d+z;pe<ee.BLOCK_SIZE;pe++,Se+=d){for(let Ae=0;Ae<ee.BLOCK_SIZE;Ae++){const we=i[Se+Ae]&255;V+=we,we<J&&(J=we),we>ne&&(ne=we)}if(ne-J>ee.MIN_DYNAMIC_RANGE)for(pe++,Se+=d;pe<ee.BLOCK_SIZE;pe++,Se+=d)for(let Ae=0;Ae<ee.BLOCK_SIZE;Ae++)V+=i[Se+Ae]&255}let le=V>>ee.BLOCK_SIZE_POWER*2;if(ne-J<=ee.MIN_DYNAMIC_RANGE&&(le=J/2,w>0&&D>0)){const pe=(v[w-1][D]+2*v[w][D-1]+v[w-1][D-1])/4;J<pe&&(le=pe)}v[w][D]=le}}return v}}ee.BLOCK_SIZE_POWER=3,ee.BLOCK_SIZE=1<<ee.BLOCK_SIZE_POWER,ee.BLOCK_SIZE_MASK=ee.BLOCK_SIZE-1,ee.MINIMUM_DIMENSION=ee.BLOCK_SIZE*5,ee.MIN_DYNAMIC_RANGE=24;class ue{constructor(i,s){this.width=i,this.height=s}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,s,c,d){throw new ie("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ie("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ie("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let s=new re;for(let c=0;c<this.height;c++){const d=this.getRow(c,i);for(let f=0;f<this.width;f++){const p=d[f]&255;let y;p<64?y="#":p<128?y="+":p<192?y=".":y=" ",s.append(y)}s.append(`
`)}return s.toString()}}class $ extends ue{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,s){const c=this.delegate.getRow(i,s),d=this.getWidth();for(let f=0;f<d;f++)c[f]=255-(c[f]&255);return c}getMatrix(){const i=this.delegate.getMatrix(),s=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(s);for(let d=0;d<s;d++)c[d]=255-(i[d]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(i,s,c,d){return new $(this.delegate.crop(i,s,c,d))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new $(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new $(this.delegate.rotateCounterClockwise45())}}class B extends ue{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=B.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const s=i.getContext("2d").getImageData(0,0,i.width,i.height);return B.toGrayscaleBuffer(s.data,i.width,i.height)}static toGrayscaleBuffer(i,s,c){const d=new Uint8ClampedArray(s*c);for(let f=0,p=0,y=i.length;f<y;f+=4,p++){let v;if(i[f+3]===0)v=255;else{const O=i[f],D=i[f+1],z=i[f+2];v=306*O+601*D+117*z+512>>10}d[p]=v}return d}getRow(i,s){if(i<0||i>=this.getHeight())throw new m("Requested row is outside the image: "+i);const c=this.getWidth(),d=i*c;return s===null?s=this.buffer.slice(d,d+c):(s.length<c&&(s=new Uint8ClampedArray(c)),s.set(this.buffer.slice(d,d+c))),s}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,s,c,d){return super.crop(i,s,c,d),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const s=this.getTempCanvasElement(),c=s.getContext("2d"),d=i*B.DEGREE_TO_RADIANS,f=this.canvas.width,p=this.canvas.height,y=Math.ceil(Math.abs(Math.cos(d))*f+Math.abs(Math.sin(d))*p),v=Math.ceil(Math.abs(Math.sin(d))*f+Math.abs(Math.cos(d))*p);return s.width=y,s.height=v,c.translate(y/2,v/2),c.rotate(d),c.drawImage(this.canvas,f/-2,p/-2),this.buffer=B.makeBufferFromCanvasImageData(s),this}invert(){return new $(this)}}B.DEGREE_TO_RADIANS=Math.PI/180;class q{constructor(i,s,c){this.deviceId=i,this.label=s,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var oe=(globalThis||Ir||self||window||void 0)&&(globalThis||Ir||self||window||void 0).__awaiter||function(M,i,s,c){function d(f){return f instanceof s?f:new s(function(p){p(f)})}return new(s||(s=Promise))(function(f,p){function y(O){try{w(c.next(O))}catch(D){p(D)}}function v(O){try{w(c.throw(O))}catch(D){p(D)}}function w(O){O.done?f(O.value):d(O.value).then(y,v)}w((c=c.apply(M,i||[])).next())})};class de{constructor(i,s=500,c){this.reader=i,this.timeBetweenScansMillis=s,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return oe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),s=[];for(const c of i){const d=c.kind==="video"?"videoinput":c.kind;if(d!=="videoinput")continue;const f=c.deviceId||c.id,p=c.label||`Video device ${s.length+1}`,y=c.groupId,v={deviceId:f,label:p,kind:d,groupId:y};s.push(v)}return s})}getVideoInputDevices(){return oe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(s=>new q(s.deviceId,s.label))})}findDeviceById(i){return oe(this,void 0,void 0,function*(){const s=yield this.listVideoInputDevices();return s?s.find(c=>c.deviceId===i):null})}decodeFromInputVideoDevice(i,s){return oe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,s)})}decodeOnceFromVideoDevice(i,s){return oe(this,void 0,void 0,function*(){this.reset();let c;i?c={deviceId:{exact:i}}:c={facingMode:"environment"};const d={video:c};return yield this.decodeOnceFromConstraints(d,s)})}decodeOnceFromConstraints(i,s){return oe(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(c,s)})}decodeOnceFromStream(i,s){return oe(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(i,s);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(i,s,c){return oe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,s,c)})}decodeFromVideoDevice(i,s,c){return oe(this,void 0,void 0,function*(){let d;i?d={deviceId:{exact:i}}:d={facingMode:"environment"};const f={video:d};return yield this.decodeFromConstraints(f,s,c)})}decodeFromConstraints(i,s,c){return oe(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(d,s,c)})}decodeFromStream(i,s,c){return oe(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(i,s);return yield this.decodeContinuously(d,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,s){return oe(this,void 0,void 0,function*(){const c=this.prepareVideoElement(s);return this.addVideoSource(c,i),this.videoElement=c,this.stream=i,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(i){return new Promise((s,c)=>this.playVideoOnLoad(i,()=>s()))}playVideoOnLoad(i,s){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",s),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return oe(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,s){const c=document.getElementById(i);if(!c)throw new b(`element with id '${i}' not found`);if(c.nodeName.toLowerCase()!==s.toLowerCase())throw new b(`element with id '${i}' must be an ${s} element`);return c}decodeFromImage(i,s){if(!i&&!s)throw new b("either imageElement with a src set or an url must be provided");return s&&!i?this.decodeFromImageUrl(s):this.decodeFromImageElement(i)}decodeFromVideo(i,s){if(!i&&!s)throw new b("Either an element with a src set or an URL must be provided");return s&&!i?this.decodeFromVideoUrl(s):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,s,c){if(i===void 0&&s===void 0)throw new b("Either an element with a src set or an URL must be provided");return s&&!i?this.decodeFromVideoUrlContinuously(s,c):this.decodeFromVideoElementContinuously(i,c)}decodeFromImageElement(i){if(!i)throw new b("An image element must be provided.");this.reset();const s=this.prepareImageElement(i);this.imageElement=s;let c;return this.isImageLoaded(s)?c=this.decodeOnce(s,!1,!0):c=this._decodeOnLoadImage(s),c}decodeFromVideoElement(i){const s=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(s)}decodeFromVideoElementContinuously(i,s){const c=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(c,s)}_decodeFromVideoElementSetup(i){if(!i)throw new b("A video element must be provided.");this.reset();const s=this.prepareVideoElement(i);return this.videoElement=s,s}decodeFromImageUrl(i){if(!i)throw new b("An URL must be provided.");this.reset();const s=this.prepareImageElement();this.imageElement=s;const c=this._decodeOnLoadImage(s);return s.src=i,c}decodeFromVideoUrl(i){if(!i)throw new b("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),c=this.decodeFromVideoElement(s);return s.src=i,c}decodeFromVideoUrlContinuously(i,s){if(!i)throw new b("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(c,s);return c.src=i,d}_decodeOnLoadImage(i){return new Promise((s,c)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(s,c),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return oe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,s){return oe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,s)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let s;return typeof i>"u"&&(s=document.createElement("img"),s.width=200,s.height=200),typeof i=="string"&&(s=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(s=i),s}prepareVideoElement(i){let s;return!i&&typeof document<"u"&&(s=document.createElement("video"),s.width=200,s.height=200),typeof i=="string"&&(s=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(s=i),s.setAttribute("autoplay","true"),s.setAttribute("muted","true"),s.setAttribute("playsinline","true"),s}decodeOnce(i,s=!0,c=!0){this._stopAsyncDecode=!1;const d=(f,p)=>{if(this._stopAsyncDecode){p(new L("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const y=this.decode(i);f(y)}catch(y){const v=s&&y instanceof L,O=(y instanceof C||y instanceof k)&&c;if(v||O)return setTimeout(d,this._timeBetweenDecodingAttempts,f,p);p(y)}};return new Promise((f,p)=>d(f,p))}decodeContinuously(i,s){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const d=this.decode(i);s(d,null),setTimeout(c,this.timeBetweenScansMillis)}catch(d){s(null,d);const f=d instanceof C||d instanceof k,p=d instanceof L;(f||p)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(i){const s=this.createBinaryBitmap(i);return this.decodeBitmap(s)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,s,c){s||(s={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(i,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}drawImageOnCanvas(i,s,c=this.captureCanvasContext){s||(s={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(i,s.sx,s.sy,s.sWidth,s.sHeight,s.dx,s.dy,s.dWidth,s.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const s=this.getCaptureCanvas(i),c=new B(s),d=new ee(c);return new S(d)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const s=this.createCaptureCanvas(i);this.captureCanvas=s}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const s=document.createElement("canvas");let c,d;return typeof i<"u"&&(i instanceof HTMLVideoElement?(c=i.videoWidth,d=i.videoHeight):i instanceof HTMLImageElement&&(c=i.naturalWidth||i.width,d=i.naturalHeight||i.height)),s.style.width=c+"px",s.style.height=d+"px",s.width=c,s.height=d,s}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,s){try{i.srcObject=s}catch{i.src=URL.createObjectURL(s)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class be{constructor(i,s,c=s==null?0:8*s.length,d,f,p=j.currentTimeMillis()){this.text=i,this.rawBytes=s,this.numBits=c,this.resultPoints=d,this.format=f,this.timestamp=p,this.text=i,this.rawBytes=s,c==null?this.numBits=s==null?0:8*s.length:this.numBits=c,this.resultPoints=d,this.format=f,this.resultMetadata=null,p==null?this.timestamp=j.currentTimeMillis():this.timestamp=p}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,s){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,s)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const s=this.resultPoints;if(s===null)this.resultPoints=i;else if(i!==null&&i.length>0){const c=new Array(s.length+i.length);j.arraycopy(s,0,c,0,s.length),j.arraycopy(i,0,c,s.length,i.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Me;(function(M){M[M.AZTEC=0]="AZTEC",M[M.CODABAR=1]="CODABAR",M[M.CODE_39=2]="CODE_39",M[M.CODE_93=3]="CODE_93",M[M.CODE_128=4]="CODE_128",M[M.DATA_MATRIX=5]="DATA_MATRIX",M[M.EAN_8=6]="EAN_8",M[M.EAN_13=7]="EAN_13",M[M.ITF=8]="ITF",M[M.MAXICODE=9]="MAXICODE",M[M.PDF_417=10]="PDF_417",M[M.QR_CODE=11]="QR_CODE",M[M.RSS_14=12]="RSS_14",M[M.RSS_EXPANDED=13]="RSS_EXPANDED",M[M.UPC_A=14]="UPC_A",M[M.UPC_E=15]="UPC_E",M[M.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Me||(Me={}));var te=Me,Ne;(function(M){M[M.OTHER=0]="OTHER",M[M.ORIENTATION=1]="ORIENTATION",M[M.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",M[M.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",M[M.ISSUE_NUMBER=4]="ISSUE_NUMBER",M[M.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",M[M.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",M[M.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",M[M.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",M[M.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",M[M.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Ne||(Ne={}));var Ee=Ne;class ve{constructor(i,s,c,d,f=-1,p=-1){this.rawBytes=i,this.text=s,this.byteSegments=c,this.ecLevel=d,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=p,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Oe{exp(i){return this.expTable[i]}log(i){if(i===0)throw new m;return this.logTable[i]}static addOrSubtract(i,s){return i^s}}class Te{constructor(i,s){if(s.length===0)throw new m;this.field=i;const c=s.length;if(c>1&&s[0]===0){let d=1;for(;d<c&&s[d]===0;)d++;d===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-d),j.arraycopy(s,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const s=this.coefficients;let c;if(i===1){c=0;for(let p=0,y=s.length;p!==y;p++){const v=s[p];c=Oe.addOrSubtract(c,v)}return c}c=s[0];const d=s.length,f=this.field;for(let p=1;p<d;p++)c=Oe.addOrSubtract(f.multiply(i,c),s[p]);return c}addOrSubtract(i){if(!this.field.equals(i.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let s=this.coefficients,c=i.coefficients;if(s.length>c.length){const p=s;s=c,c=p}let d=new Int32Array(c.length);const f=c.length-s.length;j.arraycopy(c,0,d,0,f);for(let p=f;p<c.length;p++)d[p]=Oe.addOrSubtract(s[p-f],c[p]);return new Te(this.field,d)}multiply(i){if(!this.field.equals(i.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const s=this.coefficients,c=s.length,d=i.coefficients,f=d.length,p=new Int32Array(c+f-1),y=this.field;for(let v=0;v<c;v++){const w=s[v];for(let O=0;O<f;O++)p[v+O]=Oe.addOrSubtract(p[v+O],y.multiply(w,d[O]))}return new Te(y,p)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const s=this.coefficients.length,c=this.field,d=new Int32Array(s),f=this.coefficients;for(let p=0;p<s;p++)d[p]=c.multiply(f[p],i);return new Te(c,d)}multiplyByMonomial(i,s){if(i<0)throw new m;if(s===0)return this.field.getZero();const c=this.coefficients,d=c.length,f=new Int32Array(d+i),p=this.field;for(let y=0;y<d;y++)f[y]=p.multiply(c[y],s);return new Te(p,f)}divide(i){if(!this.field.equals(i.field))throw new m("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new m("Divide by 0");const s=this.field;let c=s.getZero(),d=this;const f=i.getCoefficient(i.getDegree()),p=s.inverse(f);for(;d.getDegree()>=i.getDegree()&&!d.isZero();){const y=d.getDegree()-i.getDegree(),v=s.multiply(d.getCoefficient(d.getDegree()),p),w=i.multiplyByMonomial(y,v),O=s.buildMonomial(y,v);c=c.addOrSubtract(O),d=d.addOrSubtract(w)}return[c,d]}toString(){let i="";for(let s=this.getDegree();s>=0;s--){let c=this.getCoefficient(s);if(c!==0){if(c<0?(i+=" - ",c=-c):i.length>0&&(i+=" + "),s===0||c!==1){const d=this.field.log(c);d===0?i+="1":d===1?i+="a":(i+="a^",i+=d)}s!==0&&(s===1?i+="x":(i+="x^",i+=s))}}return i}}class ge extends g{}ge.kind="ArithmeticException";class se extends Oe{constructor(i,s,c){super(),this.primitive=i,this.size=s,this.generatorBase=c;const d=new Int32Array(s);let f=1;for(let y=0;y<s;y++)d[y]=f,f*=2,f>=s&&(f^=i,f&=s-1);this.expTable=d;const p=new Int32Array(s);for(let y=0;y<s-1;y++)p[d[y]]=y;this.logTable=p,this.zero=new Te(this,Int32Array.from([0])),this.one=new Te(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,s){if(i<0)throw new m;if(s===0)return this.zero;const c=new Int32Array(i+1);return c[0]=s,new Te(this,c)}inverse(i){if(i===0)throw new ge;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,s){return i===0||s===0?0:this.expTable[(this.logTable[i]+this.logTable[s])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+T.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}se.AZTEC_DATA_12=new se(4201,4096,1),se.AZTEC_DATA_10=new se(1033,1024,1),se.AZTEC_DATA_6=new se(67,64,1),se.AZTEC_PARAM=new se(19,16,1),se.QR_CODE_FIELD_256=new se(285,256,0),se.DATA_MATRIX_FIELD_256=new se(301,256,1),se.AZTEC_DATA_8=se.DATA_MATRIX_FIELD_256,se.MAXICODE_FIELD_64=se.AZTEC_DATA_6;class je extends g{}je.kind="ReedSolomonException";class _e extends g{}_e.kind="IllegalStateException";class Fe{constructor(i){this.field=i}decode(i,s){const c=this.field,d=new Te(c,i),f=new Int32Array(s);let p=!0;for(let V=0;V<s;V++){const J=d.evaluateAt(c.exp(V+c.getGeneratorBase()));f[f.length-1-V]=J,J!==0&&(p=!1)}if(p)return;const y=new Te(c,f),v=this.runEuclideanAlgorithm(c.buildMonomial(s,1),y,s),w=v[0],O=v[1],D=this.findErrorLocations(w),z=this.findErrorMagnitudes(O,D);for(let V=0;V<D.length;V++){const J=i.length-1-c.log(D[V]);if(J<0)throw new je("Bad error location");i[J]=se.addOrSubtract(i[J],z[V])}}runEuclideanAlgorithm(i,s,c){if(i.getDegree()<s.getDegree()){const V=i;i=s,s=V}const d=this.field;let f=i,p=s,y=d.getZero(),v=d.getOne();for(;p.getDegree()>=(c/2|0);){let V=f,J=y;if(f=p,y=v,f.isZero())throw new je("r_{i-1} was zero");p=V;let ne=d.getZero();const le=f.getCoefficient(f.getDegree()),pe=d.inverse(le);for(;p.getDegree()>=f.getDegree()&&!p.isZero();){const Se=p.getDegree()-f.getDegree(),Ae=d.multiply(p.getCoefficient(p.getDegree()),pe);ne=ne.addOrSubtract(d.buildMonomial(Se,Ae)),p=p.addOrSubtract(f.multiplyByMonomial(Se,Ae))}if(v=ne.multiply(y).addOrSubtract(J),p.getDegree()>=f.getDegree())throw new _e("Division algorithm failed to reduce polynomial?")}const w=v.getCoefficient(0);if(w===0)throw new je("sigmaTilde(0) was zero");const O=d.inverse(w),D=v.multiplyScalar(O),z=p.multiplyScalar(O);return[D,z]}findErrorLocations(i){const s=i.getDegree();if(s===1)return Int32Array.from([i.getCoefficient(1)]);const c=new Int32Array(s);let d=0;const f=this.field;for(let p=1;p<f.getSize()&&d<s;p++)i.evaluateAt(p)===0&&(c[d]=f.inverse(p),d++);if(d!==s)throw new je("Error locator degree does not match number of roots");return c}findErrorMagnitudes(i,s){const c=s.length,d=new Int32Array(c),f=this.field;for(let p=0;p<c;p++){const y=f.inverse(s[p]);let v=1;for(let w=0;w<c;w++)if(p!==w){const O=f.multiply(s[w],y),D=O&1?O&-2:O|1;v=f.multiply(v,D)}d[p]=f.multiply(i.evaluateAt(y),f.inverse(v)),f.getGeneratorBase()!==0&&(d[p]=f.multiply(d[p],y))}return d}}var De;(function(M){M[M.UPPER=0]="UPPER",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.DIGIT=3]="DIGIT",M[M.PUNCT=4]="PUNCT",M[M.BINARY=5]="BINARY"})(De||(De={}));class Z{decode(i){this.ddata=i;let s=i.getBits(),c=this.extractBits(s),d=this.correctBits(c),f=Z.convertBoolArrayToByteArray(d),p=Z.getEncodedData(d),y=new ve(f,p,null,null);return y.setNumBits(d.length),y}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let s=i.length,c=De.UPPER,d=De.UPPER,f="",p=0;for(;p<s;)if(d===De.BINARY){if(s-p<5)break;let y=Z.readCode(i,p,5);if(p+=5,y===0){if(s-p<11)break;y=Z.readCode(i,p,11)+31,p+=11}for(let v=0;v<y;v++){if(s-p<8){p=s;break}const w=Z.readCode(i,p,8);f+=Y.castAsNonUtf8Char(w),p+=8}d=c}else{let y=d===De.DIGIT?4:5;if(s-p<y)break;let v=Z.readCode(i,p,y);p+=y;let w=Z.getCharacter(d,v);w.startsWith("CTRL_")?(c=d,d=Z.getTable(w.charAt(5)),w.charAt(6)==="L"&&(c=d)):(f+=w,d=c)}return f}static getTable(i){switch(i){case"L":return De.LOWER;case"P":return De.PUNCT;case"M":return De.MIXED;case"D":return De.DIGIT;case"B":return De.BINARY;case"U":default:return De.UPPER}}static getCharacter(i,s){switch(i){case De.UPPER:return Z.UPPER_TABLE[s];case De.LOWER:return Z.LOWER_TABLE[s];case De.MIXED:return Z.MIXED_TABLE[s];case De.PUNCT:return Z.PUNCT_TABLE[s];case De.DIGIT:return Z.DIGIT_TABLE[s];default:throw new _e("Bad table")}}correctBits(i){let s,c;this.ddata.getNbLayers()<=2?(c=6,s=se.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,s=se.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,s=se.AZTEC_DATA_10):(c=12,s=se.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),f=i.length/c;if(f<d)throw new k;let p=i.length%c,y=new Int32Array(f);for(let z=0;z<f;z++,p+=c)y[z]=Z.readCode(i,p,c);try{new Fe(s).decode(y,f-d)}catch(z){throw new k(z)}let v=(1<<c)-1,w=0;for(let z=0;z<d;z++){let V=y[z];if(V===0||V===v)throw new k;(V===1||V===v-1)&&w++}let O=new Array(d*c-w),D=0;for(let z=0;z<d;z++){let V=y[z];if(V===1||V===v-1)O.fill(V>1,D,D+c-1),D+=c-1;else for(let J=c-1;J>=0;--J)O[D++]=(V&1<<J)!==0}return O}extractBits(i){let s=this.ddata.isCompact(),c=this.ddata.getNbLayers(),d=(s?11:14)+c*4,f=new Int32Array(d),p=new Array(this.totalBitsInLayer(c,s));if(s)for(let y=0;y<f.length;y++)f[y]=y;else{let y=d+1+2*T.truncDivision(T.truncDivision(d,2)-1,15),v=d/2,w=T.truncDivision(y,2);for(let O=0;O<v;O++){let D=O+T.truncDivision(O,15);f[v-O-1]=w-D-1,f[v+O]=w+D+1}}for(let y=0,v=0;y<c;y++){let w=(c-y)*4+(s?9:12),O=y*2,D=d-1-O;for(let z=0;z<w;z++){let V=z*2;for(let J=0;J<2;J++)p[v+V+J]=i.get(f[O+J],f[O+z]),p[v+2*w+V+J]=i.get(f[O+z],f[D-J]),p[v+4*w+V+J]=i.get(f[D-J],f[D-z]),p[v+6*w+V+J]=i.get(f[D-z],f[O+J])}v+=w*8}return p}static readCode(i,s,c){let d=0;for(let f=s;f<s+c;f++)d<<=1,i[f]&&(d|=1);return d}static readByte(i,s){let c=i.length-s;return c>=8?Z.readCode(i,s,8):Z.readCode(i,s,c)<<8-c}static convertBoolArrayToByteArray(i){let s=new Uint8Array((i.length+7)/8);for(let c=0;c<s.length;c++)s[c]=Z.readByte(i,8*c);return s}totalBitsInLayer(i,s){return((s?88:112)+16*i)*i}}Z.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Z.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Z.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Z.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Z.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ye{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,s,c,d){const f=i-c,p=s-d;return Math.sqrt(f*f+p*p)}static sum(i){let s=0;for(let c=0,d=i.length;c!==d;c++){const f=i[c];s+=f}return s}}class K{static floatToIntBits(i){return i}}K.MAX_VALUE=Number.MAX_SAFE_INTEGER;class fe{constructor(i,s){this.x=i,this.y=s}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof fe){const s=i;return this.x===s.x&&this.y===s.y}return!1}hashCode(){return 31*K.floatToIntBits(this.x)+K.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const s=this.distance(i[0],i[1]),c=this.distance(i[1],i[2]),d=this.distance(i[0],i[2]);let f,p,y;if(c>=s&&c>=d?(p=i[0],f=i[1],y=i[2]):d>=c&&d>=s?(p=i[1],f=i[0],y=i[2]):(p=i[2],f=i[0],y=i[1]),this.crossProductZ(f,p,y)<0){const v=f;f=y,y=v}i[0]=f,i[1]=p,i[2]=y}static distance(i,s){return ye.distance(i.x,i.y,s.x,s.y)}static crossProductZ(i,s,c){const d=s.x,f=s.y;return(c.x-d)*(i.y-f)-(c.y-f)*(i.x-d)}}class Be{constructor(i,s){this.bits=i,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Xe extends Be{constructor(i,s,c,d,f){super(i,s),this.compact=c,this.nbDatablocks=d,this.nbLayers=f}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ft{constructor(i,s,c,d){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),s==null&&(s=ft.INIT_SIZE),c==null&&(c=i.getWidth()/2|0),d==null&&(d=i.getHeight()/2|0);const f=s/2|0;if(this.leftInit=c-f,this.rightInit=c+f,this.upInit=d-f,this.downInit=d+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new L}detect(){let i=this.leftInit,s=this.rightInit,c=this.upInit,d=this.downInit,f=!1,p=!0,y=!1,v=!1,w=!1,O=!1,D=!1;const z=this.width,V=this.height;for(;p;){p=!1;let J=!0;for(;(J||!v)&&s<z;)J=this.containsBlackPoint(c,d,s,!1),J?(s++,p=!0,v=!0):v||s++;if(s>=z){f=!0;break}let ne=!0;for(;(ne||!w)&&d<V;)ne=this.containsBlackPoint(i,s,d,!0),ne?(d++,p=!0,w=!0):w||d++;if(d>=V){f=!0;break}let le=!0;for(;(le||!O)&&i>=0;)le=this.containsBlackPoint(c,d,i,!1),le?(i--,p=!0,O=!0):O||i--;if(i<0){f=!0;break}let pe=!0;for(;(pe||!D)&&c>=0;)pe=this.containsBlackPoint(i,s,c,!0),pe?(c--,p=!0,D=!0):D||c--;if(c<0){f=!0;break}p&&(y=!0)}if(!f&&y){const J=s-i;let ne=null;for(let Ae=1;ne===null&&Ae<J;Ae++)ne=this.getBlackPointOnSegment(i,d-Ae,i+Ae,d);if(ne==null)throw new L;let le=null;for(let Ae=1;le===null&&Ae<J;Ae++)le=this.getBlackPointOnSegment(i,c+Ae,i+Ae,c);if(le==null)throw new L;let pe=null;for(let Ae=1;pe===null&&Ae<J;Ae++)pe=this.getBlackPointOnSegment(s,c+Ae,s-Ae,c);if(pe==null)throw new L;let Se=null;for(let Ae=1;Se===null&&Ae<J;Ae++)Se=this.getBlackPointOnSegment(s,d-Ae,s-Ae,d);if(Se==null)throw new L;return this.centerEdges(Se,ne,pe,le)}else throw new L}getBlackPointOnSegment(i,s,c,d){const f=ye.round(ye.distance(i,s,c,d)),p=(c-i)/f,y=(d-s)/f,v=this.image;for(let w=0;w<f;w++){const O=ye.round(i+w*p),D=ye.round(s+w*y);if(v.get(O,D))return new fe(O,D)}return null}centerEdges(i,s,c,d){const f=i.getX(),p=i.getY(),y=s.getX(),v=s.getY(),w=c.getX(),O=c.getY(),D=d.getX(),z=d.getY(),V=ft.CORR;return f<this.width/2?[new fe(D-V,z+V),new fe(y+V,v+V),new fe(w-V,O-V),new fe(f+V,p-V)]:[new fe(D+V,z+V),new fe(y+V,v-V),new fe(w-V,O+V),new fe(f-V,p-V)]}containsBlackPoint(i,s,c,d){const f=this.image;if(d){for(let p=i;p<=s;p++)if(f.get(p,c))return!0}else for(let p=i;p<=s;p++)if(f.get(c,p))return!0;return!1}}ft.INIT_SIZE=10,ft.CORR=1;class At{static checkAndNudgePoints(i,s){const c=i.getWidth(),d=i.getHeight();let f=!0;for(let p=0;p<s.length&&f;p+=2){const y=Math.floor(s[p]),v=Math.floor(s[p+1]);if(y<-1||y>c||v<-1||v>d)throw new L;f=!1,y===-1?(s[p]=0,f=!0):y===c&&(s[p]=c-1,f=!0),v===-1?(s[p+1]=0,f=!0):v===d&&(s[p+1]=d-1,f=!0)}f=!0;for(let p=s.length-2;p>=0&&f;p-=2){const y=Math.floor(s[p]),v=Math.floor(s[p+1]);if(y<-1||y>c||v<-1||v>d)throw new L;f=!1,y===-1?(s[p]=0,f=!0):y===c&&(s[p]=c-1,f=!0),v===-1?(s[p+1]=0,f=!0):v===d&&(s[p+1]=d-1,f=!0)}}}class Pt{constructor(i,s,c,d,f,p,y,v,w){this.a11=i,this.a21=s,this.a31=c,this.a12=d,this.a22=f,this.a32=p,this.a13=y,this.a23=v,this.a33=w}static quadrilateralToQuadrilateral(i,s,c,d,f,p,y,v,w,O,D,z,V,J,ne,le){const pe=Pt.quadrilateralToSquare(i,s,c,d,f,p,y,v);return Pt.squareToQuadrilateral(w,O,D,z,V,J,ne,le).times(pe)}transformPoints(i){const s=i.length,c=this.a11,d=this.a12,f=this.a13,p=this.a21,y=this.a22,v=this.a23,w=this.a31,O=this.a32,D=this.a33;for(let z=0;z<s;z+=2){const V=i[z],J=i[z+1],ne=f*V+v*J+D;i[z]=(c*V+p*J+w)/ne,i[z+1]=(d*V+y*J+O)/ne}}transformPointsWithValues(i,s){const c=this.a11,d=this.a12,f=this.a13,p=this.a21,y=this.a22,v=this.a23,w=this.a31,O=this.a32,D=this.a33,z=i.length;for(let V=0;V<z;V++){const J=i[V],ne=s[V],le=f*J+v*ne+D;i[V]=(c*J+p*ne+w)/le,s[V]=(d*J+y*ne+O)/le}}static squareToQuadrilateral(i,s,c,d,f,p,y,v){const w=i-c+f-y,O=s-d+p-v;if(w===0&&O===0)return new Pt(c-i,f-c,i,d-s,p-d,s,0,0,1);{const D=c-f,z=y-f,V=d-p,J=v-p,ne=D*J-z*V,le=(w*J-z*O)/ne,pe=(D*O-w*V)/ne;return new Pt(c-i+le*c,y-i+pe*y,i,d-s+le*d,v-s+pe*v,s,le,pe,1)}}static quadrilateralToSquare(i,s,c,d,f,p,y,v){return Pt.squareToQuadrilateral(i,s,c,d,f,p,y,v).buildAdjoint()}buildAdjoint(){return new Pt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new Pt(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class Je extends At{sampleGrid(i,s,c,d,f,p,y,v,w,O,D,z,V,J,ne,le,pe,Se,Ae){const we=Pt.quadrilateralToQuadrilateral(d,f,p,y,v,w,O,D,z,V,J,ne,le,pe,Se,Ae);return this.sampleGridWithTransform(i,s,c,we)}sampleGridWithTransform(i,s,c,d){if(s<=0||c<=0)throw new L;const f=new ae(s,c),p=new Float32Array(2*s);for(let y=0;y<c;y++){const v=p.length,w=y+.5;for(let O=0;O<v;O+=2)p[O]=O/2+.5,p[O+1]=w;d.transformPoints(p),At.checkAndNudgePoints(i,p);try{for(let O=0;O<v;O+=2)i.get(Math.floor(p[O]),Math.floor(p[O+1]))&&f.set(O/2,y)}catch{throw new L}}return f}}class nt{static setGridSampler(i){nt.gridSampler=i}static getInstance(){return nt.gridSampler}}nt.gridSampler=new Je;class Ot{constructor(i,s){this.x=i,this.y=s}toResultPoint(){return new fe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ad{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let s=this.getMatrixCenter(),c=this.getBullsEyeCorners(s);if(i){let p=c[0];c[0]=c[2],c[2]=p}this.extractParameters(c);let d=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),f=this.getMatrixCornerPoints(c);return new Xe(d,f,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new L;let s=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(i[0],i[1],s),this.sampleLine(i[1],i[2],s),this.sampleLine(i[2],i[3],s),this.sampleLine(i[3],i[0],s)]);this.shift=this.getRotation(c,s);let d=0;for(let p=0;p<4;p++){let y=c[(this.shift+p)%4];this.compact?(d<<=7,d+=y>>1&127):(d<<=10,d+=(y>>2&992)+(y>>1&31))}let f=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(f>>6)+1,this.nbDataBlocks=(f&63)+1):(this.nbLayers=(f>>11)+1,this.nbDataBlocks=(f&2047)+1)}getRotation(i,s){let c=0;i.forEach((d,f,p)=>{let y=(d>>s-2<<1)+(d&1);c=(c<<3)+y}),c=((c&1)<<11)+(c>>1);for(let d=0;d<4;d++)if(T.bitCount(c^this.EXPECTED_CORNER_BITS[d])<=2)return d;throw new L}getCorrectedParameterData(i,s){let c,d;s?(c=7,d=2):(c=10,d=4);let f=c-d,p=new Int32Array(c);for(let v=c-1;v>=0;--v)p[v]=i&15,i>>=4;try{new Fe(se.AZTEC_PARAM).decode(p,f)}catch{throw new L}let y=0;for(let v=0;v<d;v++)y=(y<<4)+p[v];return y}getBullsEyeCorners(i){let s=i,c=i,d=i,f=i,p=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let D=this.getFirstDifferent(s,p,1,-1),z=this.getFirstDifferent(c,p,1,1),V=this.getFirstDifferent(d,p,-1,1),J=this.getFirstDifferent(f,p,-1,-1);if(this.nbCenterLayers>2){let ne=this.distancePoint(J,D)*this.nbCenterLayers/(this.distancePoint(f,s)*(this.nbCenterLayers+2));if(ne<.75||ne>1.25||!this.isWhiteOrBlackRectangle(D,z,V,J))break}s=D,c=z,d=V,f=J,p=!p}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new L;this.compact=this.nbCenterLayers===5;let y=new fe(s.getX()+.5,s.getY()-.5),v=new fe(c.getX()+.5,c.getY()+.5),w=new fe(d.getX()-.5,d.getY()+.5),O=new fe(f.getX()-.5,f.getY()-.5);return this.expandSquare([y,v,w,O],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,s,c,d;try{let y=new ft(this.image).detect();i=y[0],s=y[1],c=y[2],d=y[3]}catch{let v=this.image.getWidth()/2,w=this.image.getHeight()/2;i=this.getFirstDifferent(new Ot(v+7,w-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new Ot(v+7,w+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Ot(v-7,w+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Ot(v-7,w-7),!1,-1,-1).toResultPoint()}let f=ye.round((i.getX()+d.getX()+s.getX()+c.getX())/4),p=ye.round((i.getY()+d.getY()+s.getY()+c.getY())/4);try{let y=new ft(this.image,15,f,p).detect();i=y[0],s=y[1],c=y[2],d=y[3]}catch{i=this.getFirstDifferent(new Ot(f+7,p-7),!1,1,-1).toResultPoint(),s=this.getFirstDifferent(new Ot(f+7,p+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Ot(f-7,p+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Ot(f-7,p-7),!1,-1,-1).toResultPoint()}return f=ye.round((i.getX()+d.getX()+s.getX()+c.getX())/4),p=ye.round((i.getY()+d.getY()+s.getY()+c.getY())/4),new Ot(f,p)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,s,c,d,f){let p=nt.getInstance(),y=this.getDimension(),v=y/2-this.nbCenterLayers,w=y/2+this.nbCenterLayers;return p.sampleGrid(i,y,y,v,v,w,v,w,w,v,w,s.getX(),s.getY(),c.getX(),c.getY(),d.getX(),d.getY(),f.getX(),f.getY())}sampleLine(i,s,c){let d=0,f=this.distanceResultPoint(i,s),p=f/c,y=i.getX(),v=i.getY(),w=p*(s.getX()-i.getX())/f,O=p*(s.getY()-i.getY())/f;for(let D=0;D<c;D++)this.image.get(ye.round(y+D*w),ye.round(v+D*O))&&(d|=1<<c-D-1);return d}isWhiteOrBlackRectangle(i,s,c,d){let f=3;i=new Ot(i.getX()-f,i.getY()+f),s=new Ot(s.getX()-f,s.getY()-f),c=new Ot(c.getX()+f,c.getY()-f),d=new Ot(d.getX()+f,d.getY()+f);let p=this.getColor(d,i);if(p===0)return!1;let y=this.getColor(i,s);return y!==p||(y=this.getColor(s,c),y!==p)?!1:(y=this.getColor(c,d),y===p)}getColor(i,s){let c=this.distancePoint(i,s),d=(s.getX()-i.getX())/c,f=(s.getY()-i.getY())/c,p=0,y=i.getX(),v=i.getY(),w=this.image.get(i.getX(),i.getY()),O=Math.ceil(c);for(let z=0;z<O;z++)y+=d,v+=f,this.image.get(ye.round(y),ye.round(v))!==w&&p++;let D=p/c;return D>.1&&D<.9?0:D<=.1===w?1:-1}getFirstDifferent(i,s,c,d){let f=i.getX()+c,p=i.getY()+d;for(;this.isValid(f,p)&&this.image.get(f,p)===s;)f+=c,p+=d;for(f-=c,p-=d;this.isValid(f,p)&&this.image.get(f,p)===s;)f+=c;for(f-=c;this.isValid(f,p)&&this.image.get(f,p)===s;)p+=d;return p-=d,new Ot(f,p)}expandSquare(i,s,c){let d=c/(2*s),f=i[0].getX()-i[2].getX(),p=i[0].getY()-i[2].getY(),y=(i[0].getX()+i[2].getX())/2,v=(i[0].getY()+i[2].getY())/2,w=new fe(y+d*f,v+d*p),O=new fe(y-d*f,v-d*p);f=i[1].getX()-i[3].getX(),p=i[1].getY()-i[3].getY(),y=(i[1].getX()+i[3].getX())/2,v=(i[1].getY()+i[3].getY())/2;let D=new fe(y+d*f,v+d*p),z=new fe(y-d*f,v-d*p);return[w,D,O,z]}isValid(i,s){return i>=0&&i<this.image.getWidth()&&s>0&&s<this.image.getHeight()}isValidPoint(i){let s=ye.round(i.getX()),c=ye.round(i.getY());return this.isValid(s,c)}distancePoint(i,s){return ye.distance(i.getX(),i.getY(),s.getX(),s.getY())}distanceResultPoint(i,s){return ye.distance(i.getX(),i.getY(),s.getX(),s.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(T.truncDivision(this.nbLayers-4,8)+1)+15}}class di{decode(i,s=null){let c=null,d=new Ad(i.getBlackMatrix()),f=null,p=null;try{let O=d.detectMirror(!1);f=O.getPoints(),this.reportFoundResultPoints(s,f),p=new Z().decode(O)}catch(O){c=O}if(p==null)try{let O=d.detectMirror(!0);f=O.getPoints(),this.reportFoundResultPoints(s,f),p=new Z().decode(O)}catch(O){throw c??O}let y=new be(p.getText(),p.getRawBytes(),p.getNumBits(),f,te.AZTEC,j.currentTimeMillis()),v=p.getByteSegments();v!=null&&y.putMetadata(Ee.BYTE_SEGMENTS,v);let w=p.getECLevel();return w!=null&&y.putMetadata(Ee.ERROR_CORRECTION_LEVEL,w),y}reportFoundResultPoints(i,s){if(i!=null){let c=i.get(N.NEED_RESULT_POINT_CALLBACK);c!=null&&s.forEach((d,f,p)=>{c.foundPossibleResultPoint(d)})}}reset(){}}class F2 extends de{constructor(i=500){super(new di,i)}}class Lt{decode(i,s){try{return this.doDecode(i,s)}catch{if(s&&s.get(N.TRY_HARDER)===!0&&i.isRotateSupported()){const f=i.rotateCounterClockwise(),p=this.doDecode(f,s),y=p.getResultMetadata();let v=270;y!==null&&y.get(Ee.ORIENTATION)===!0&&(v=v+y.get(Ee.ORIENTATION)%360),p.putMetadata(Ee.ORIENTATION,v);const w=p.getResultPoints();if(w!==null){const O=f.getHeight();for(let D=0;D<w.length;D++)w[D]=new fe(O-w[D].getY()-1,w[D].getX())}return p}else throw new L}}reset(){}doDecode(i,s){const c=i.getWidth(),d=i.getHeight();let f=new P(c);const p=s&&s.get(N.TRY_HARDER)===!0,y=Math.max(1,d>>(p?8:5));let v;p?v=d:v=15;const w=Math.trunc(d/2);for(let O=0;O<v;O++){const D=Math.trunc((O+1)/2),z=(O&1)===0,V=w+y*(z?D:-D);if(V<0||V>=d)break;try{f=i.getBlackRow(V,f)}catch{continue}for(let J=0;J<2;J++){if(J===1&&(f.reverse(),s&&s.get(N.NEED_RESULT_POINT_CALLBACK)===!0)){const ne=new Map;s.forEach((le,pe)=>ne.set(pe,le)),ne.delete(N.NEED_RESULT_POINT_CALLBACK),s=ne}try{const ne=this.decodeRow(V,f,s);if(J===1){ne.putMetadata(Ee.ORIENTATION,180);const le=ne.getResultPoints();le!==null&&(le[0]=new fe(c-le[0].getX()-1,le[0].getY()),le[1]=new fe(c-le[1].getX()-1,le[1].getY()))}return ne}catch{}}}throw new L}static recordPattern(i,s,c){const d=c.length;for(let w=0;w<d;w++)c[w]=0;const f=i.getSize();if(s>=f)throw new L;let p=!i.get(s),y=0,v=s;for(;v<f;){if(i.get(v)!==p)c[y]++;else{if(++y===d)break;c[y]=1,p=!p}v++}if(!(y===d||y===d-1&&v===f))throw new L}static recordPatternInReverse(i,s,c){let d=c.length,f=i.get(s);for(;s>0&&d>=0;)i.get(--s)!==f&&(d--,f=!f);if(d>=0)throw new L;Lt.recordPattern(i,s+1,c)}static patternMatchVariance(i,s,c){const d=i.length;let f=0,p=0;for(let w=0;w<d;w++)f+=i[w],p+=s[w];if(f<p)return Number.POSITIVE_INFINITY;const y=f/p;c*=y;let v=0;for(let w=0;w<d;w++){const O=i[w],D=s[w]*y,z=O>D?O-D:D-O;if(z>c)return Number.POSITIVE_INFINITY;v+=z}return v/f}}class Ie extends Lt{static findStartPattern(i){const s=i.getSize(),c=i.getNextSet(0);let d=0,f=Int32Array.from([0,0,0,0,0,0]),p=c,y=!1;const v=6;for(let w=c;w<s;w++)if(i.get(w)!==y)f[d]++;else{if(d===v-1){let O=Ie.MAX_AVG_VARIANCE,D=-1;for(let z=Ie.CODE_START_A;z<=Ie.CODE_START_C;z++){const V=Lt.patternMatchVariance(f,Ie.CODE_PATTERNS[z],Ie.MAX_INDIVIDUAL_VARIANCE);V<O&&(O=V,D=z)}if(D>=0&&i.isRange(Math.max(0,p-(w-p)/2),p,!1))return Int32Array.from([p,w,D]);p+=f[0]+f[1],f=f.slice(2,f.length-1),f[d-1]=0,f[d]=0,d--}else d++;f[d]=1,y=!y}throw new L}static decodeCode(i,s,c){Lt.recordPattern(i,c,s);let d=Ie.MAX_AVG_VARIANCE,f=-1;for(let p=0;p<Ie.CODE_PATTERNS.length;p++){const y=Ie.CODE_PATTERNS[p],v=this.patternMatchVariance(s,y,Ie.MAX_INDIVIDUAL_VARIANCE);v<d&&(d=v,f=p)}if(f>=0)return f;throw new L}decodeRow(i,s,c){const d=c&&c.get(N.ASSUME_GS1)===!0,f=Ie.findStartPattern(s),p=f[2];let y=0;const v=new Uint8Array(20);v[y++]=p;let w;switch(p){case Ie.CODE_START_A:w=Ie.CODE_CODE_A;break;case Ie.CODE_START_B:w=Ie.CODE_CODE_B;break;case Ie.CODE_START_C:w=Ie.CODE_CODE_C;break;default:throw new k}let O=!1,D=!1,z="",V=f[0],J=f[1];const ne=Int32Array.from([0,0,0,0,0,0]);let le=0,pe=0,Se=p,Ae=0,we=!0,et=!1,qe=!1;for(;!O;){const Ji=D;switch(D=!1,le=pe,pe=Ie.decodeCode(s,ne,J),v[y++]=pe,pe!==Ie.CODE_STOP&&(we=!0),pe!==Ie.CODE_STOP&&(Ae++,Se+=Ae*pe),V=J,J+=ne.reduce((gw,yw)=>gw+yw,0),pe){case Ie.CODE_START_A:case Ie.CODE_START_B:case Ie.CODE_START_C:throw new k}switch(w){case Ie.CODE_CODE_A:if(pe<64)qe===et?z+=String.fromCharCode(32+pe):z+=String.fromCharCode(32+pe+128),qe=!1;else if(pe<96)qe===et?z+=String.fromCharCode(pe-64):z+=String.fromCharCode(pe+64),qe=!1;else switch(pe!==Ie.CODE_STOP&&(we=!1),pe){case Ie.CODE_FNC_1:d&&(z.length===0?z+="]C1":z+="");break;case Ie.CODE_FNC_2:case Ie.CODE_FNC_3:break;case Ie.CODE_FNC_4_A:!et&&qe?(et=!0,qe=!1):et&&qe?(et=!1,qe=!1):qe=!0;break;case Ie.CODE_SHIFT:D=!0,w=Ie.CODE_CODE_B;break;case Ie.CODE_CODE_B:w=Ie.CODE_CODE_B;break;case Ie.CODE_CODE_C:w=Ie.CODE_CODE_C;break;case Ie.CODE_STOP:O=!0;break}break;case Ie.CODE_CODE_B:if(pe<96)qe===et?z+=String.fromCharCode(32+pe):z+=String.fromCharCode(32+pe+128),qe=!1;else switch(pe!==Ie.CODE_STOP&&(we=!1),pe){case Ie.CODE_FNC_1:d&&(z.length===0?z+="]C1":z+="");break;case Ie.CODE_FNC_2:case Ie.CODE_FNC_3:break;case Ie.CODE_FNC_4_B:!et&&qe?(et=!0,qe=!1):et&&qe?(et=!1,qe=!1):qe=!0;break;case Ie.CODE_SHIFT:D=!0,w=Ie.CODE_CODE_A;break;case Ie.CODE_CODE_A:w=Ie.CODE_CODE_A;break;case Ie.CODE_CODE_C:w=Ie.CODE_CODE_C;break;case Ie.CODE_STOP:O=!0;break}break;case Ie.CODE_CODE_C:if(pe<100)pe<10&&(z+="0"),z+=pe;else switch(pe!==Ie.CODE_STOP&&(we=!1),pe){case Ie.CODE_FNC_1:d&&(z.length===0?z+="]C1":z+="");break;case Ie.CODE_CODE_A:w=Ie.CODE_CODE_A;break;case Ie.CODE_CODE_B:w=Ie.CODE_CODE_B;break;case Ie.CODE_STOP:O=!0;break}break}Ji&&(w=w===Ie.CODE_CODE_A?Ie.CODE_CODE_B:Ie.CODE_CODE_A)}const vn=J-V;if(J=s.getNextUnset(J),!s.isRange(J,Math.min(s.getSize(),J+(J-V)/2),!1))throw new L;if(Se-=Ae*le,Se%103!==le)throw new C;const Kn=z.length;if(Kn===0)throw new L;Kn>0&&we&&(w===Ie.CODE_CODE_C?z=z.substring(0,Kn-2):z=z.substring(0,Kn-1));const wn=(f[1]+f[0])/2,yt=V+vn/2,rn=v.length,jn=new Uint8Array(rn);for(let Ji=0;Ji<rn;Ji++)jn[Ji]=v[Ji];const Qi=[new fe(wn,i),new fe(yt,i)];return new be(z,jn,0,Qi,te.CODE_128,new Date().getTime())}}Ie.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ie.MAX_AVG_VARIANCE=.25,Ie.MAX_INDIVIDUAL_VARIANCE=.7,Ie.CODE_SHIFT=98,Ie.CODE_CODE_C=99,Ie.CODE_CODE_B=100,Ie.CODE_CODE_A=101,Ie.CODE_FNC_1=102,Ie.CODE_FNC_2=97,Ie.CODE_FNC_3=96,Ie.CODE_FNC_4_A=101,Ie.CODE_FNC_4_B=100,Ie.CODE_START_A=103,Ie.CODE_START_B=104,Ie.CODE_START_C=105,Ie.CODE_STOP=106;class $t extends Lt{constructor(i=!1,s=!1){super(),this.usingCheckDigit=i,this.extendedMode=s,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,s,c){let d=this.counters;d.fill(0),this.decodeRowResult="";let f=$t.findAsteriskPattern(s,d),p=s.getNextSet(f[1]),y=s.getSize(),v,w;do{$t.recordPattern(s,p,d);let ne=$t.toNarrowWidePattern(d);if(ne<0)throw new L;v=$t.patternToChar(ne),this.decodeRowResult+=v,w=p;for(let le of d)p+=le;p=s.getNextSet(p)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let O=0;for(let ne of d)O+=ne;let D=p-w-O;if(p!==y&&D*2<O)throw new L;if(this.usingCheckDigit){let ne=this.decodeRowResult.length-1,le=0;for(let pe=0;pe<ne;pe++)le+=$t.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(pe));if(this.decodeRowResult.charAt(ne)!==$t.ALPHABET_STRING.charAt(le%43))throw new C;this.decodeRowResult=this.decodeRowResult.substring(0,ne)}if(this.decodeRowResult.length===0)throw new L;let z;this.extendedMode?z=$t.decodeExtended(this.decodeRowResult):z=this.decodeRowResult;let V=(f[1]+f[0])/2,J=w+O/2;return new be(z,null,0,[new fe(V,i),new fe(J,i)],te.CODE_39,new Date().getTime())}static findAsteriskPattern(i,s){let c=i.getSize(),d=i.getNextSet(0),f=0,p=d,y=!1,v=s.length;for(let w=d;w<c;w++)if(i.get(w)!==y)s[f]++;else{if(f===v-1){if(this.toNarrowWidePattern(s)===$t.ASTERISK_ENCODING&&i.isRange(Math.max(0,p-Math.floor((w-p)/2)),p,!1))return[p,w];p+=s[0]+s[1],s.copyWithin(0,2,2+f-1),s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,y=!y}throw new L}static toNarrowWidePattern(i){let s=i.length,c=0,d;do{let f=2147483647;for(let v of i)v<f&&v>c&&(f=v);c=f,d=0;let p=0,y=0;for(let v=0;v<s;v++){let w=i[v];w>c&&(y|=1<<s-1-v,d++,p+=w)}if(d===3){for(let v=0;v<s&&d>0;v++){let w=i[v];if(w>c&&(d--,w*2>=p))return-1}return y}}while(d>3);return-1}static patternToChar(i){for(let s=0;s<$t.CHARACTER_ENCODINGS.length;s++)if($t.CHARACTER_ENCODINGS[s]===i)return $t.ALPHABET_STRING.charAt(s);if(i===$t.ASTERISK_ENCODING)return"*";throw new L}static decodeExtended(i){let s=i.length,c="";for(let d=0;d<s;d++){let f=i.charAt(d);if(f==="+"||f==="$"||f==="%"||f==="/"){let p=i.charAt(d+1),y="\0";switch(f){case"+":if(p>="A"&&p<="Z")y=String.fromCharCode(p.charCodeAt(0)+32);else throw new k;break;case"$":if(p>="A"&&p<="Z")y=String.fromCharCode(p.charCodeAt(0)-64);else throw new k;break;case"%":if(p>="A"&&p<="E")y=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")y=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")y=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")y=String.fromCharCode(p.charCodeAt(0)+43);else if(p==="U")y="\0";else if(p==="V")y="@";else if(p==="W")y="`";else if(p==="X"||p==="Y"||p==="Z")y="";else throw new k;break;case"/":if(p>="A"&&p<="O")y=String.fromCharCode(p.charCodeAt(0)-32);else if(p==="Z")y=":";else throw new k;break}c+=y,d++}else c+=f}return c}}$t.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",$t.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],$t.ASTERISK_ENCODING=148;class xt extends Lt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,s,c){let d=this.decodeStart(s),f=this.decodeEnd(s),p=new re;xt.decodeMiddle(s,d[1],f[0],p);let y=p.toString(),v=null;c!=null&&(v=c.get(N.ALLOWED_LENGTHS)),v==null&&(v=xt.DEFAULT_ALLOWED_LENGTHS);let w=y.length,O=!1,D=0;for(let J of v){if(w===J){O=!0;break}J>D&&(D=J)}if(!O&&w>D&&(O=!0),!O)throw new k;const z=[new fe(d[1],i),new fe(f[0],i)];return new be(y,null,0,z,te.ITF,new Date().getTime())}static decodeMiddle(i,s,c,d){let f=new Int32Array(10),p=new Int32Array(5),y=new Int32Array(5);for(f.fill(0),p.fill(0),y.fill(0);s<c;){Lt.recordPattern(i,s,f);for(let w=0;w<5;w++){let O=2*w;p[w]=f[O],y[w]=f[O+1]}let v=xt.decodeDigit(p);d.append(v.toString()),v=this.decodeDigit(y),d.append(v.toString()),f.forEach(function(w){s+=w})}}decodeStart(i){let s=xt.skipWhiteSpace(i),c=xt.findGuardPattern(i,s,xt.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(i,c[0]),c}validateQuietZone(i,s){let c=this.narrowLineWidth*10;c=c<s?c:s;for(let d=s-1;c>0&&d>=0&&!i.get(d);d--)c--;if(c!==0)throw new L}static skipWhiteSpace(i){const s=i.getSize(),c=i.getNextSet(0);if(c===s)throw new L;return c}decodeEnd(i){i.reverse();try{let s=xt.skipWhiteSpace(i),c;try{c=xt.findGuardPattern(i,s,xt.END_PATTERN_REVERSED[0])}catch(f){f instanceof L&&(c=xt.findGuardPattern(i,s,xt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,c[0]);let d=c[0];return c[0]=i.getSize()-c[1],c[1]=i.getSize()-d,c}finally{i.reverse()}}static findGuardPattern(i,s,c){let d=c.length,f=new Int32Array(d),p=i.getSize(),y=!1,v=0,w=s;f.fill(0);for(let O=s;O<p;O++)if(i.get(O)!==y)f[v]++;else{if(v===d-1){if(Lt.patternMatchVariance(f,c,xt.MAX_INDIVIDUAL_VARIANCE)<xt.MAX_AVG_VARIANCE)return[w,O];w+=f[0]+f[1],j.arraycopy(f,2,f,0,v-1),f[v-1]=0,f[v]=0,v--}else v++;f[v]=1,y=!y}throw new L}static decodeDigit(i){let s=xt.MAX_AVG_VARIANCE,c=-1,d=xt.PATTERNS.length;for(let f=0;f<d;f++){let p=xt.PATTERNS[f],y=Lt.patternMatchVariance(i,p,xt.MAX_INDIVIDUAL_VARIANCE);y<s?(s=y,c=f):y===s&&(c=-1)}if(c>=0)return c%10;throw new L}}xt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],xt.MAX_AVG_VARIANCE=.38,xt.MAX_INDIVIDUAL_VARIANCE=.5,xt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],xt.START_PATTERN=Int32Array.from([1,1,1,1]),xt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Nt extends Lt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let s=!1,c,d=0,f=Int32Array.from([0,0,0]);for(;!s;){f=Int32Array.from([0,0,0]),c=Nt.findGuardPattern(i,d,!1,this.START_END_PATTERN,f);let p=c[0];d=c[1];let y=p-(d-p);y>=0&&(s=i.isRange(y,p,!1))}return c}static checkChecksum(i){return Nt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let s=i.length;if(s===0)return!1;let c=parseInt(i.charAt(s-1),10);return Nt.getStandardUPCEANChecksum(i.substring(0,s-1))===c}static getStandardUPCEANChecksum(i){let s=i.length,c=0;for(let d=s-1;d>=0;d-=2){let f=i.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new k;c+=f}c*=3;for(let d=s-2;d>=0;d-=2){let f=i.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new k;c+=f}return(1e3-c)%10}static decodeEnd(i,s){return Nt.findGuardPattern(i,s,!1,Nt.START_END_PATTERN,new Int32Array(Nt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,s,c,d){return this.findGuardPattern(i,s,c,d,new Int32Array(d.length))}static findGuardPattern(i,s,c,d,f){let p=i.getSize();s=c?i.getNextUnset(s):i.getNextSet(s);let y=0,v=s,w=d.length,O=c;for(let D=s;D<p;D++)if(i.get(D)!==O)f[y]++;else{if(y===w-1){if(Lt.patternMatchVariance(f,d,Nt.MAX_INDIVIDUAL_VARIANCE)<Nt.MAX_AVG_VARIANCE)return Int32Array.from([v,D]);v+=f[0]+f[1];let z=f.slice(2,f.length-1);for(let V=0;V<y-1;V++)f[V]=z[V];f[y-1]=0,f[y]=0,y--}else y++;f[y]=1,O=!O}throw new L}static decodeDigit(i,s,c,d){this.recordPattern(i,c,s);let f=this.MAX_AVG_VARIANCE,p=-1,y=d.length;for(let v=0;v<y;v++){let w=d[v],O=Lt.patternMatchVariance(s,w,Nt.MAX_INDIVIDUAL_VARIANCE);O<f&&(f=O,p=v)}if(p>=0)return p;throw new L}}Nt.MAX_AVG_VARIANCE=.48,Nt.MAX_INDIVIDUAL_VARIANCE=.7,Nt.START_END_PATTERN=Int32Array.from([1,1,1]),Nt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Nt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Nt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ha{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,s,c){let d=this.decodeRowStringBuffer,f=this.decodeMiddle(s,c,d),p=d.toString(),y=ha.parseExtensionString(p),v=[new fe((c[0]+c[1])/2,i),new fe(f,i)],w=new be(p,null,0,v,te.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&w.putAllMetadata(y),w}decodeMiddle(i,s,c){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=i.getSize(),p=s[1],y=0;for(let w=0;w<5&&p<f;w++){let O=Nt.decodeDigit(i,d,p,Nt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+O%10);for(let D of d)p+=D;O>=10&&(y|=1<<4-w),w!==4&&(p=i.getNextSet(p),p=i.getNextUnset(p))}if(c.length!==5)throw new L;let v=this.determineCheckDigit(y);if(ha.extensionChecksum(c.toString())!==v)throw new L;return p}static extensionChecksum(i){let s=i.length,c=0;for(let d=s-2;d>=0;d-=2)c+=i.charAt(d).charCodeAt(0)-48;c*=3;for(let d=s-1;d>=0;d-=2)c+=i.charAt(d).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(i){for(let s=0;s<10;s++)if(i===this.CHECK_DIGIT_ENCODINGS[s])return s;throw new L}static parseExtensionString(i){if(i.length!==5)return null;let s=ha.parseExtension5String(i);return s==null?null:new Map([[Ee.SUGGESTED_PRICE,s]])}static parseExtension5String(i){let s;switch(i.charAt(0)){case"0":s="£";break;case"5":s="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}s="";break;default:s="";break}let c=parseInt(i.substring(1)),d=(c/100).toString(),f=c%100,p=f<10?"0"+f:f.toString();return s+d+"."+p}}class Cd{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,s,c){let d=this.decodeRowStringBuffer,f=this.decodeMiddle(s,c,d),p=d.toString(),y=Cd.parseExtensionString(p),v=[new fe((c[0]+c[1])/2,i),new fe(f,i)],w=new be(p,null,0,v,te.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&w.putAllMetadata(y),w}decodeMiddle(i,s,c){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=i.getSize(),p=s[1],y=0;for(let v=0;v<2&&p<f;v++){let w=Nt.decodeDigit(i,d,p,Nt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+w%10);for(let O of d)p+=O;w>=10&&(y|=1<<1-v),v!==1&&(p=i.getNextSet(p),p=i.getNextUnset(p))}if(c.length!==2)throw new L;if(parseInt(c.toString())%4!==y)throw new L;return p}static parseExtensionString(i){return i.length!==2?null:new Map([[Ee.ISSUE_NUMBER,parseInt(i)]])}}class Pp{static decodeRow(i,s,c){let d=Nt.findGuardPattern(s,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ha().decodeRow(i,s,d)}catch{return new Cd().decodeRow(i,s,d)}}}Pp.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class at extends Nt{constructor(){super(),this.decodeRowStringBuffer="",at.L_AND_G_PATTERNS=at.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let s=at.L_PATTERNS[i-10],c=new Int32Array(s.length);for(let d=0;d<s.length;d++)c[d]=s[s.length-d-1];at.L_AND_G_PATTERNS[i]=c}}decodeRow(i,s,c){let d=at.findStartGuardPattern(s),f=c==null?null:c.get(N.NEED_RESULT_POINT_CALLBACK);if(f!=null){const we=new fe((d[0]+d[1])/2,i);f.foundPossibleResultPoint(we)}let p=this.decodeMiddle(s,d,this.decodeRowStringBuffer),y=p.rowOffset,v=p.resultString;if(f!=null){const we=new fe(y,i);f.foundPossibleResultPoint(we)}let w=this.decodeEnd(s,y);if(f!=null){const we=new fe((w[0]+w[1])/2,i);f.foundPossibleResultPoint(we)}let O=w[1],D=O+(O-w[0]);if(D>=s.getSize()||!s.isRange(O,D,!1))throw new L;let z=v.toString();if(z.length<8)throw new k;if(!at.checkChecksum(z))throw new C;let V=(d[1]+d[0])/2,J=(w[1]+w[0])/2,ne=this.getBarcodeFormat(),le=[new fe(V,i),new fe(J,i)],pe=new be(z,null,0,le,ne,new Date().getTime()),Se=0;try{let we=Pp.decodeRow(i,s,w[1]);pe.putMetadata(Ee.UPC_EAN_EXTENSION,we.getText()),pe.putAllMetadata(we.getResultMetadata()),pe.addResultPoints(we.getResultPoints()),Se=we.getText().length}catch{}let Ae=c==null?null:c.get(N.ALLOWED_EAN_EXTENSIONS);if(Ae!=null){let we=!1;for(let et in Ae)if(Se.toString()===et){we=!0;break}if(!we)throw new L}return pe}decodeEnd(i,s){return at.findGuardPattern(i,s,!1,at.START_END_PATTERN,new Int32Array(at.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return at.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let s=i.length;if(s===0)return!1;let c=parseInt(i.charAt(s-1),10);return at.getStandardUPCEANChecksum(i.substring(0,s-1))===c}static getStandardUPCEANChecksum(i){let s=i.length,c=0;for(let d=s-1;d>=0;d-=2){let f=i.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new k;c+=f}c*=3;for(let d=s-2;d>=0;d-=2){let f=i.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new k;c+=f}return(1e3-c)%10}}class ui extends at{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,s,c){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=i.getSize(),p=s[1],y=0;for(let w=0;w<6&&p<f;w++){let O=at.decodeDigit(i,d,p,at.L_AND_G_PATTERNS);c+=String.fromCharCode(48+O%10);for(let D of d)p+=D;O>=10&&(y|=1<<5-w)}c=ui.determineFirstDigit(c,y),p=at.findGuardPattern(i,p,!0,at.MIDDLE_PATTERN,new Int32Array(at.MIDDLE_PATTERN.length).fill(0))[1];for(let w=0;w<6&&p<f;w++){let O=at.decodeDigit(i,d,p,at.L_PATTERNS);c+=String.fromCharCode(48+O);for(let D of d)p+=D}return{rowOffset:p,resultString:c}}getBarcodeFormat(){return te.EAN_13}static determineFirstDigit(i,s){for(let c=0;c<10;c++)if(s===this.FIRST_DIGIT_ENCODINGS[c])return i=String.fromCharCode(48+c)+i,i;throw new L}}ui.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Np extends at{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,s,c){const d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=i.getSize(),p=s[1];for(let v=0;v<4&&p<f;v++){let w=at.decodeDigit(i,d,p,at.L_PATTERNS);c+=String.fromCharCode(48+w);for(let O of d)p+=O}p=at.findGuardPattern(i,p,!0,at.MIDDLE_PATTERN,new Int32Array(at.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<4&&p<f;v++){let w=at.decodeDigit(i,d,p,at.L_PATTERNS);c+=String.fromCharCode(48+w);for(let O of d)p+=O}return{rowOffset:p,resultString:c}}getBarcodeFormat(){return te.EAN_8}}class kp extends at{constructor(){super(...arguments),this.ean13Reader=new ui}getBarcodeFormat(){return te.UPC_A}decode(i,s){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,s,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,s,c))}decodeMiddle(i,s,c){return this.ean13Reader.decodeMiddle(i,s,c)}maybeReturnResult(i){let s=i.getText();if(s.charAt(0)==="0"){let c=new be(s.substring(1),null,null,i.getResultPoints(),te.UPC_A);return i.getResultMetadata()!=null&&c.putAllMetadata(i.getResultMetadata()),c}else throw new L}reset(){this.ean13Reader.reset()}}class qn extends at{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,s,c){const d=this.decodeMiddleCounters.map(w=>w);d[0]=0,d[1]=0,d[2]=0,d[3]=0;const f=i.getSize();let p=s[1],y=0;for(let w=0;w<6&&p<f;w++){const O=qn.decodeDigit(i,d,p,qn.L_AND_G_PATTERNS);c+=String.fromCharCode(48+O%10);for(let D of d)p+=D;O>=10&&(y|=1<<5-w)}let v=qn.determineNumSysAndCheckDigit(c,y);return{rowOffset:p,resultString:v}}decodeEnd(i,s){return qn.findGuardPatternWithoutCounters(i,s,!0,qn.MIDDLE_END_PATTERN)}checkChecksum(i){return at.checkChecksum(qn.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,s){for(let c=0;c<=1;c++)for(let d=0;d<10;d++)if(s===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][d]){let f=String.fromCharCode(48+c),p=String.fromCharCode(48+d);return f+i+p}throw L.getNotFoundInstance()}getBarcodeFormat(){return te.UPC_E}static convertUPCEtoUPCA(i){const s=i.slice(1,7).split("").map(f=>f.charCodeAt(0)),c=new re;c.append(i.charAt(0));let d=s[5];switch(d){case 0:case 1:case 2:c.appendChars(s,0,2),c.append(d),c.append("0000"),c.appendChars(s,2,3);break;case 3:c.appendChars(s,0,3),c.append("00000"),c.appendChars(s,3,2);break;case 4:c.appendChars(s,0,4),c.append("00000"),c.append(s[4]);break;default:c.appendChars(s,0,5),c.append("0000"),c.append(d);break}return i.length>=8&&c.append(i.charAt(7)),c.toString()}}qn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),qn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class jd extends Lt{constructor(i){super();let s=i==null?null:i.get(N.POSSIBLE_FORMATS),c=[];r(s)?(c.push(new ui),c.push(new kp),c.push(new Np),c.push(new qn)):(s.indexOf(te.EAN_13)>-1&&c.push(new ui),s.indexOf(te.UPC_A)>-1&&c.push(new kp),s.indexOf(te.EAN_8)>-1&&c.push(new Np),s.indexOf(te.UPC_E)>-1&&c.push(new qn)),this.readers=c}decodeRow(i,s,c){for(let d of this.readers)try{const f=d.decodeRow(i,s,c),p=f.getBarcodeFormat()===te.EAN_13&&f.getText().charAt(0)==="0",y=c==null?null:c.get(N.POSSIBLE_FORMATS),v=y==null||y.includes(te.UPC_A);if(p&&v){const w=f.getRawBytes(),O=new be(f.getText().substring(1),w,w?w.length:null,f.getResultPoints(),te.UPC_A);return O.putAllMetadata(f.getResultMetadata()),O}return f}catch{}throw new L}reset(){for(let i of this.readers)i.reset()}}class sn extends Lt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,s){for(let c=0;c<s.length;c++)if(Lt.patternMatchVariance(i,s[c],sn.MAX_INDIVIDUAL_VARIANCE)<sn.MAX_AVG_VARIANCE)return c;throw new L}static count(i){return ye.sum(new Int32Array(i))}static increment(i,s){let c=0,d=s[0];for(let f=1;f<i.length;f++)s[f]>d&&(d=s[f],c=f);i[c]++}static decrement(i,s){let c=0,d=s[0];for(let f=1;f<i.length;f++)s[f]<d&&(d=s[f],c=f);i[c]--}static isFinderPattern(i){let s=i[0]+i[1],c=s+i[2]+i[3],d=s/c;if(d>=sn.MIN_FINDER_PATTERN_RATIO&&d<=sn.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;for(let y of i)y>p&&(p=y),y<f&&(f=y);return p<10*f}return!1}}sn.MAX_AVG_VARIANCE=.2,sn.MAX_INDIVIDUAL_VARIANCE=.45,sn.MIN_FINDER_PATTERN_RATIO=9.5/12,sn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Hi{constructor(i,s){this.value=i,this.checksumPortion=s}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Hi))return!1;const s=i;return this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ls{constructor(i,s,c,d,f){this.value=i,this.startEnd=s,this.value=i,this.startEnd=s,this.resultPoints=new Array,this.resultPoints.push(new fe(c,f)),this.resultPoints.push(new fe(d,f))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Ls))return!1;const s=i;return this.value===s.value}hashCode(){return this.value}}class ar{constructor(){}static getRSSvalue(i,s,c){let d=0;for(let v of i)d+=v;let f=0,p=0,y=i.length;for(let v=0;v<y-1;v++){let w;for(w=1,p|=1<<v;w<i[v];w++,p&=~(1<<v)){let O=ar.combins(d-w-1,y-v-2);if(c&&p===0&&d-w-(y-v-1)>=y-v-1&&(O-=ar.combins(d-w-(y-v),y-v-2)),y-v-1>1){let D=0;for(let z=d-w-(y-v-2);z>s;z--)D+=ar.combins(d-w-z-1,y-v-3);O-=D*(y-1-v)}else d-w>s&&O--;f+=O}d-=w}return f}static combins(i,s){let c,d;i-s>s?(d=s,c=i-s):(d=i-s,c=s);let f=1,p=1;for(let y=i;y>c;y--)f*=y,p<=d&&(f/=p,p++);for(;p<=d;)f/=p,p++;return f}}class $2{static buildBitArray(i){let s=i.length*2-1;i[i.length-1].getRightChar()==null&&(s-=1);let c=12*s,d=new P(c),f=0,y=i[0].getRightChar().getValue();for(let v=11;v>=0;--v)y&1<<v&&d.set(f),f++;for(let v=1;v<i.length;++v){let w=i[v],O=w.getLeftChar().getValue();for(let D=11;D>=0;--D)O&1<<D&&d.set(f),f++;if(w.getRightChar()!=null){let D=w.getRightChar().getValue();for(let z=11;z>=0;--z)D&1<<z&&d.set(f),f++}}return d}}class fi{constructor(i,s){s?this.decodedInformation=null:(this.finished=i,this.decodedInformation=s)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ed{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class yn extends Ed{constructor(i,s){super(i),this.value=s}getValue(){return this.value}isFNC1(){return this.value===yn.FNC1}}yn.FNC1="$";class hi extends Ed{constructor(i,s,c){super(i),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=s}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Bn extends Ed{constructor(i,s,c){if(super(i),s<0||s>10||c<0||c>10)throw new k;this.firstDigit=s,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Bn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Bn.FNC1}isAnyFNC1(){return this.firstDigit===Bn.FNC1||this.secondDigit===Bn.FNC1}}Bn.FNC1=10;class Re{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new L;let s=i.substring(0,2);for(let f of Re.TWO_DIGIT_DATA_LENGTH)if(f[0]===s)return f[1]===Re.VARIABLE_LENGTH?Re.processVariableAI(2,f[2],i):Re.processFixedAI(2,f[1],i);if(i.length<3)throw new L;let c=i.substring(0,3);for(let f of Re.THREE_DIGIT_DATA_LENGTH)if(f[0]===c)return f[1]===Re.VARIABLE_LENGTH?Re.processVariableAI(3,f[2],i):Re.processFixedAI(3,f[1],i);for(let f of Re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(f[0]===c)return f[1]===Re.VARIABLE_LENGTH?Re.processVariableAI(4,f[2],i):Re.processFixedAI(4,f[1],i);if(i.length<4)throw new L;let d=i.substring(0,4);for(let f of Re.FOUR_DIGIT_DATA_LENGTH)if(f[0]===d)return f[1]===Re.VARIABLE_LENGTH?Re.processVariableAI(4,f[2],i):Re.processFixedAI(4,f[1],i);throw new L}static processFixedAI(i,s,c){if(c.length<i)throw new L;let d=c.substring(0,i);if(c.length<i+s)throw new L;let f=c.substring(i,i+s),p=c.substring(i+s),y="("+d+")"+f,v=Re.parseFieldsInGeneralPurpose(p);return v==null?y:y+v}static processVariableAI(i,s,c){let d=c.substring(0,i),f;c.length<i+s?f=c.length:f=i+s;let p=c.substring(i,f),y=c.substring(f),v="("+d+")"+p,w=Re.parseFieldsInGeneralPurpose(y);return w==null?v:v+w}}Re.VARIABLE_LENGTH=[],Re.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Re.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Re.VARIABLE_LENGTH,20],["22",Re.VARIABLE_LENGTH,29],["30",Re.VARIABLE_LENGTH,8],["37",Re.VARIABLE_LENGTH,8],["90",Re.VARIABLE_LENGTH,30],["91",Re.VARIABLE_LENGTH,30],["92",Re.VARIABLE_LENGTH,30],["93",Re.VARIABLE_LENGTH,30],["94",Re.VARIABLE_LENGTH,30],["95",Re.VARIABLE_LENGTH,30],["96",Re.VARIABLE_LENGTH,30],["97",Re.VARIABLE_LENGTH,3],["98",Re.VARIABLE_LENGTH,30],["99",Re.VARIABLE_LENGTH,30]],Re.THREE_DIGIT_DATA_LENGTH=[["240",Re.VARIABLE_LENGTH,30],["241",Re.VARIABLE_LENGTH,30],["242",Re.VARIABLE_LENGTH,6],["250",Re.VARIABLE_LENGTH,30],["251",Re.VARIABLE_LENGTH,30],["253",Re.VARIABLE_LENGTH,17],["254",Re.VARIABLE_LENGTH,20],["400",Re.VARIABLE_LENGTH,30],["401",Re.VARIABLE_LENGTH,30],["402",17],["403",Re.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Re.VARIABLE_LENGTH,20],["421",Re.VARIABLE_LENGTH,15],["422",3],["423",Re.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Re.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Re.VARIABLE_LENGTH,15],["391",Re.VARIABLE_LENGTH,18],["392",Re.VARIABLE_LENGTH,15],["393",Re.VARIABLE_LENGTH,18],["703",Re.VARIABLE_LENGTH,30]],Re.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Re.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Re.VARIABLE_LENGTH,20],["8003",Re.VARIABLE_LENGTH,30],["8004",Re.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Re.VARIABLE_LENGTH,30],["8008",Re.VARIABLE_LENGTH,12],["8018",18],["8020",Re.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Re.VARIABLE_LENGTH,70],["8200",Re.VARIABLE_LENGTH,70]];class Gi{constructor(i){this.buffer=new re,this.information=i}decodeAllCodes(i,s){let c=s,d=null;do{let f=this.decodeGeneralPurposeField(c,d),p=Re.parseFieldsInGeneralPurpose(f.getNewString());if(p!=null&&i.append(p),f.isRemaining()?d=""+f.getRemainingValue():d=null,c===f.getNewPosition())break;c=f.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let s=i;s<i+3;++s)if(this.information.get(s))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let f=this.extractNumericValueFromBitArray(i,4);return f===0?new Bn(this.information.getSize(),Bn.FNC1,Bn.FNC1):new Bn(this.information.getSize(),f-1,Bn.FNC1)}let s=this.extractNumericValueFromBitArray(i,7),c=(s-8)/11,d=(s-8)%11;return new Bn(i+7,c,d)}extractNumericValueFromBitArray(i,s){return Gi.extractNumericValueFromBitArray(this.information,i,s)}static extractNumericValueFromBitArray(i,s,c){let d=0;for(let f=0;f<c;++f)i.get(s+f)&&(d|=1<<c-f-1);return d}decodeGeneralPurposeField(i,s){this.buffer.setLengthToZero(),s!=null&&this.buffer.append(s),this.current.setPosition(i);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new hi(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new hi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,s;do{let c=this.current.getPosition();if(this.current.isAlpha()?(s=this.parseAlphaBlock(),i=s.isFinished()):this.current.isIsoIec646()?(s=this.parseIsoIec646Block(),i=s.isFinished()):(s=this.parseNumericBlock(),i=s.isFinished()),!(c!==this.current.getPosition())&&!i)break}while(!i);return s.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let s;return i.isSecondDigitFNC1()?s=new hi(this.current.getPosition(),this.buffer.toString()):s=new hi(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new fi(!0,s)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let s=new hi(this.current.getPosition(),this.buffer.toString());return new fi(!0,s)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new fi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let s=new hi(this.current.getPosition(),this.buffer.toString());return new fi(!0,s)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new fi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let s=new hi(this.current.getPosition(),this.buffer.toString());return new fi(!0,s)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new fi(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(i,5);if(s>=5&&s<16)return!0;if(i+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(i,7);if(c>=64&&c<116)return!0;if(i+8>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(i,8);return d>=232&&d<253}decodeIsoIec646(i){let s=this.extractNumericValueFromBitArray(i,5);if(s===15)return new yn(i+5,yn.FNC1);if(s>=5&&s<15)return new yn(i+5,"0"+(s-5));let c=this.extractNumericValueFromBitArray(i,7);if(c>=64&&c<90)return new yn(i+7,""+(c+1));if(c>=90&&c<116)return new yn(i+7,""+(c+7));let d=this.extractNumericValueFromBitArray(i,8),f;switch(d){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new k}return new yn(i+8,f)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(i,5);if(s>=5&&s<16)return!0;if(i+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(i,6);return c>=16&&c<63}decodeAlphanumeric(i){let s=this.extractNumericValueFromBitArray(i,5);if(s===15)return new yn(i+5,yn.FNC1);if(s>=5&&s<15)return new yn(i+5,"0"+(s-5));let c=this.extractNumericValueFromBitArray(i,6);if(c>=32&&c<58)return new yn(i+6,""+(c+33));let d;switch(c){case 58:d="*";break;case 59:d=",";break;case 60:d="-";break;case 61:d=".";break;case 62:d="/";break;default:throw new _e("Decoding invalid alphanumeric value: "+c)}return new yn(i+6,d)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let s=0;s<5&&s+i<this.information.getSize();++s)if(s===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+s))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let s=i;s<i+3;++s)if(this.information.get(s))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let s=0;s<4&&s+i<this.information.getSize();++s)if(this.information.get(i+s))return!1;return!0}}class Id{constructor(i){this.information=i,this.generalDecoder=new Gi(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class mn extends Id{constructor(i){super(i)}encodeCompressedGtin(i,s){i.append("(01)");let c=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,s,c)}encodeCompressedGtinWithoutAI(i,s,c){for(let d=0;d<4;++d){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(s+10*d,10);f/100===0&&i.append("0"),f/10===0&&i.append("0"),i.append(f)}mn.appendCheckDigit(i,c)}static appendCheckDigit(i,s){let c=0;for(let d=0;d<13;d++){let f=i.charAt(d+s).charCodeAt(0)-48;c+=d&1?f:3*f}c=10-c%10,c===10&&(c=0),i.append(c)}}mn.GTIN_SIZE=40;class Xi extends mn{constructor(i){super(i)}parseInformation(){let i=new re;i.append("(01)");let s=i.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(Xi.HEADER_SIZE,4);return i.append(c),this.encodeCompressedGtinWithoutAI(i,Xi.HEADER_SIZE+4,s),this.getGeneralDecoder().decodeAllCodes(i,Xi.HEADER_SIZE+44)}}Xi.HEADER_SIZE=4;class Ws extends Id{constructor(i){super(i)}parseInformation(){let i=new re;return this.getGeneralDecoder().decodeAllCodes(i,Ws.HEADER_SIZE)}}Ws.HEADER_SIZE=5;class Fs extends mn{constructor(i){super(i)}encodeCompressedWeight(i,s,c){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(s,c);this.addWeightCode(i,d);let f=this.checkWeight(d),p=1e5;for(let y=0;y<5;++y)f/p===0&&i.append("0"),p/=10;i.append(f)}}class sr extends Fs{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=sr.HEADER_SIZE+Fs.GTIN_SIZE+sr.WEIGHT_SIZE)throw new L;let i=new re;return this.encodeCompressedGtin(i,sr.HEADER_SIZE),this.encodeCompressedWeight(i,sr.HEADER_SIZE+Fs.GTIN_SIZE,sr.WEIGHT_SIZE),i.toString()}}sr.HEADER_SIZE=5,sr.WEIGHT_SIZE=15;class U2 extends sr{constructor(i){super(i)}addWeightCode(i,s){i.append("(3103)")}checkWeight(i){return i}}class V2 extends sr{constructor(i){super(i)}addWeightCode(i,s){s<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class lr extends mn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<lr.HEADER_SIZE+mn.GTIN_SIZE)throw new L;let i=new re;this.encodeCompressedGtin(i,lr.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(lr.HEADER_SIZE+mn.GTIN_SIZE,lr.LAST_DIGIT_SIZE);i.append("(392"),i.append(s),i.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(lr.HEADER_SIZE+mn.GTIN_SIZE+lr.LAST_DIGIT_SIZE,null);return i.append(c.getNewString()),i.toString()}}lr.HEADER_SIZE=8,lr.LAST_DIGIT_SIZE=2;class hn extends mn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<hn.HEADER_SIZE+mn.GTIN_SIZE)throw new L;let i=new re;this.encodeCompressedGtin(i,hn.HEADER_SIZE);let s=this.getGeneralDecoder().extractNumericValueFromBitArray(hn.HEADER_SIZE+mn.GTIN_SIZE,hn.LAST_DIGIT_SIZE);i.append("(393"),i.append(s),i.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(hn.HEADER_SIZE+mn.GTIN_SIZE+hn.LAST_DIGIT_SIZE,hn.FIRST_THREE_DIGITS_SIZE);c/100==0&&i.append("0"),c/10==0&&i.append("0"),i.append(c);let d=this.getGeneralDecoder().decodeGeneralPurposeField(hn.HEADER_SIZE+mn.GTIN_SIZE+hn.LAST_DIGIT_SIZE+hn.FIRST_THREE_DIGITS_SIZE,null);return i.append(d.getNewString()),i.toString()}}hn.HEADER_SIZE=8,hn.LAST_DIGIT_SIZE=2,hn.FIRST_THREE_DIGITS_SIZE=10;class Tt extends Fs{constructor(i,s,c){super(i),this.dateCode=c,this.firstAIdigits=s}parseInformation(){if(this.getInformation().getSize()!=Tt.HEADER_SIZE+Tt.GTIN_SIZE+Tt.WEIGHT_SIZE+Tt.DATE_SIZE)throw new L;let i=new re;return this.encodeCompressedGtin(i,Tt.HEADER_SIZE),this.encodeCompressedWeight(i,Tt.HEADER_SIZE+Tt.GTIN_SIZE,Tt.WEIGHT_SIZE),this.encodeCompressedDate(i,Tt.HEADER_SIZE+Tt.GTIN_SIZE+Tt.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,s){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(s,Tt.DATE_SIZE);if(c==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let d=c%32;c/=32;let f=c%12+1;c/=12;let p=c;p/10==0&&i.append("0"),i.append(p),f/10==0&&i.append("0"),i.append(f),d/10==0&&i.append("0"),i.append(d)}addWeightCode(i,s){i.append("("),i.append(this.firstAIdigits),i.append(s/1e5),i.append(")")}checkWeight(i){return i%1e5}}Tt.HEADER_SIZE=8,Tt.WEIGHT_SIZE=20,Tt.DATE_SIZE=16;function Mp(M){try{if(M.get(1))return new Xi(M);if(!M.get(2))return new Ws(M);switch(Gi.extractNumericValueFromBitArray(M,1,4)){case 4:return new U2(M);case 5:return new V2(M)}switch(Gi.extractNumericValueFromBitArray(M,1,5)){case 12:return new lr(M);case 13:return new hn(M)}switch(Gi.extractNumericValueFromBitArray(M,1,7)){case 56:return new Tt(M,"310","11");case 57:return new Tt(M,"320","11");case 58:return new Tt(M,"310","13");case 59:return new Tt(M,"320","13");case 60:return new Tt(M,"310","15");case 61:return new Tt(M,"320","15");case 62:return new Tt(M,"310","17");case 63:return new Tt(M,"320","17")}}catch(i){throw console.log(i),new _e("unknown decoder: "+M)}}class Ur{constructor(i,s,c,d){this.leftchar=i,this.rightchar=s,this.finderpattern=c,this.maybeLast=d}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,s){return i instanceof Ur?Ur.equalsOrNull(i.leftchar,s.leftchar)&&Ur.equalsOrNull(i.rightchar,s.rightchar)&&Ur.equalsOrNull(i.finderpattern,s.finderpattern):!1}static equalsOrNull(i,s){return i===null?s===null:Ur.equals(i,s)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Od{constructor(i,s,c){this.pairs=i,this.rowNumber=s,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,s){return i instanceof Od?this.checkEqualitity(i,s)&&i.wasReversed===s.wasReversed:!1}checkEqualitity(i,s){if(!i||!s)return;let c;return i.forEach((d,f)=>{s.forEach(p=>{d.getLeftChar().getValue()===p.getLeftChar().getValue()&&d.getRightChar().getValue()===p.getRightChar().getValue()&&d.getFinderPatter().getValue()===p.getFinderPatter().getValue()&&(c=!0)})}),c}}class me extends sn{constructor(i){super(...arguments),this.pairs=new Array(me.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,s,c){this.pairs.length=0,this.startFromEven=!1;try{return me.constructResult(this.decodeRow2pairs(i,s))}catch(d){this.verbose&&console.log(d)}return this.pairs.length=0,this.startFromEven=!0,me.constructResult(this.decodeRow2pairs(i,s))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,s){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(s,this.pairs,i))}catch(f){if(f instanceof L){if(!this.pairs.length)throw new L;c=!0}}if(this.checkChecksum())return this.pairs;let d;if(this.rows.length?d=!0:d=!1,this.storeRow(i,!1),d){let f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new L}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let s=null;try{s=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return i&&(this.rows=this.rows.reverse()),s}checkRows(i,s){for(let c=s;c<this.rows.length;c++){let d=this.rows[c];this.pairs.length=0;for(let p of i)this.pairs.push(p.getPairs());if(this.pairs.push(d.getPairs()),!me.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let f=new Array(i);f.push(d);try{return this.checkRows(f,c+1)}catch(p){this.verbose&&console.log(p)}}throw new L}static isValidSequence(i){for(let s of me.FINDER_PATTERN_SEQUENCES){if(i.length>s.length)continue;let c=!0;for(let d=0;d<i.length;d++)if(i[d].getFinderPattern().getValue()!=s[d]){c=!1;break}if(c)return!0}return!1}storeRow(i,s){let c=0,d=!1,f=!1;for(;c<this.rows.length;){let p=this.rows[c];if(p.getRowNumber()>i){f=p.isEquivalent(this.pairs);break}d=p.isEquivalent(this.pairs),c++}f||d||me.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new Od(this.pairs,i,s)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,s){for(let c of s)if(c.getPairs().length!==i.length){for(let d of c.getPairs())for(let f of i)if(Ur.equals(d,f))break}}static isPartialRow(i,s){for(let c of s){let d=!0;for(let f of i){let p=!1;for(let y of c.getPairs())if(f.equals(y)){p=!0;break}if(!p){d=!1;break}}if(d)return!0}return!1}getRows(){return this.rows}static constructResult(i){let s=$2.buildBitArray(i),d=Mp(s).parseInformation(),f=i[0].getFinderPattern().getResultPoints(),p=i[i.length-1].getFinderPattern().getResultPoints(),y=[f[0],f[1],p[0],p[1]];return new be(d,null,null,y,te.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),s=i.getLeftChar(),c=i.getRightChar();if(c==null)return!1;let d=c.getChecksumPortion(),f=2;for(let y=1;y<this.pairs.size();++y){let v=this.pairs.get(y);d+=v.getLeftChar().getChecksumPortion(),f++;let w=v.getRightChar();w!=null&&(d+=w.getChecksumPortion(),f++)}return d%=211,211*(f-4)+d==s.getValue()}static getNextSecondBar(i,s){let c;return i.get(s)?(c=i.getNextUnset(s),c=i.getNextSet(c)):(c=i.getNextSet(s),c=i.getNextUnset(c)),c}retrieveNextPair(i,s,c){let d=s.length%2==0;this.startFromEven&&(d=!d);let f,p=!0,y=-1;do this.findNextPair(i,s,y),f=this.parseFoundFinderPattern(i,c,d),f==null?y=me.getNextSecondBar(i,this.startEnd[0]):p=!1;while(p);let v=this.decodeDataCharacter(i,f,d,!0);if(!this.isEmptyPair(s)&&s[s.length-1].mustBeLast())throw new L;let w;try{w=this.decodeDataCharacter(i,f,d,!1)}catch(O){w=null,this.verbose&&console.log(O)}return new Ur(v,w,f,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,s,c){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=i.getSize(),p;c>=0?p=c:this.isEmptyPair(s)?p=0:p=s[s.length-1].getFinderPattern().getStartEnd()[1];let y=s.length%2!=0;this.startFromEven&&(y=!y);let v=!1;for(;p<f&&(v=!i.get(p),!!v);)p++;let w=0,O=p;for(let D=p;D<f;D++)if(i.get(D)!=v)d[w]++;else{if(w==3){if(y&&me.reverseCounters(d),me.isFinderPattern(d)){this.startEnd[0]=O,this.startEnd[1]=D;return}y&&me.reverseCounters(d),O+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,w--}else w++;d[w]=1,v=!v}throw new L}static reverseCounters(i){let s=i.length;for(let c=0;c<s/2;++c){let d=i[c];i[c]=i[s-c-1],i[s-c-1]=d}}parseFoundFinderPattern(i,s,c){let d,f,p;if(c){let w=this.startEnd[0]-1;for(;w>=0&&!i.get(w);)w--;w++,d=this.startEnd[0]-w,f=w,p=this.startEnd[1]}else f=this.startEnd[0],p=i.getNextUnset(this.startEnd[1]+1),d=p-this.startEnd[1];let y=this.getDecodeFinderCounters();j.arraycopy(y,0,y,1,y.length-1),y[0]=d;let v;try{v=this.parseFinderValue(y,me.FINDER_PATTERNS)}catch{return null}return new Ls(v,[f,p],f,p,s)}decodeDataCharacter(i,s,c,d){let f=this.getDataCharacterCounters();for(let yt=0;yt<f.length;yt++)f[yt]=0;if(d)me.recordPatternInReverse(i,s.getStartEnd()[0],f);else{me.recordPattern(i,s.getStartEnd()[1],f);for(let yt=0,rn=f.length-1;yt<rn;yt++,rn--){let jn=f[yt];f[yt]=f[rn],f[rn]=jn}}let p=17,y=ye.sum(new Int32Array(f))/p,v=(s.getStartEnd()[1]-s.getStartEnd()[0])/15;if(Math.abs(y-v)/v>.3)throw new L;let w=this.getOddCounts(),O=this.getEvenCounts(),D=this.getOddRoundingErrors(),z=this.getEvenRoundingErrors();for(let yt=0;yt<f.length;yt++){let rn=1*f[yt]/y,jn=rn+.5;if(jn<1){if(rn<.3)throw new L;jn=1}else if(jn>8){if(rn>8.7)throw new L;jn=8}let Qi=yt/2;yt&1?(O[Qi]=jn,z[Qi]=rn-jn):(w[Qi]=jn,D[Qi]=rn-jn)}this.adjustOddEvenCounts(p);let V=4*s.getValue()+(c?0:2)+(d?0:1)-1,J=0,ne=0;for(let yt=w.length-1;yt>=0;yt--){if(me.isNotA1left(s,c,d)){let rn=me.WEIGHTS[V][2*yt];ne+=w[yt]*rn}J+=w[yt]}let le=0;for(let yt=O.length-1;yt>=0;yt--)if(me.isNotA1left(s,c,d)){let rn=me.WEIGHTS[V][2*yt+1];le+=O[yt]*rn}let pe=ne+le;if(J&1||J>13||J<4)throw new L;let Se=(13-J)/2,Ae=me.SYMBOL_WIDEST[Se],we=9-Ae,et=ar.getRSSvalue(w,Ae,!0),qe=ar.getRSSvalue(O,we,!1),vn=me.EVEN_TOTAL_SUBSET[Se],Kn=me.GSUM[Se],wn=et*vn+qe+Kn;return new Hi(wn,pe)}static isNotA1left(i,s,c){return!(i.getValue()==0&&s&&c)}adjustOddEvenCounts(i){let s=ye.sum(new Int32Array(this.getOddCounts())),c=ye.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1;s>13?f=!0:s<4&&(d=!0);let p=!1,y=!1;c>13?y=!0:c<4&&(p=!0);let v=s+c-i,w=(s&1)==1,O=(c&1)==0;if(v==1)if(w){if(O)throw new L;f=!0}else{if(!O)throw new L;y=!0}else if(v==-1)if(w){if(O)throw new L;d=!0}else{if(!O)throw new L;p=!0}else if(v==0){if(w){if(!O)throw new L;s<c?(d=!0,y=!0):(f=!0,p=!0)}else if(O)throw new L}else throw new L;if(d){if(f)throw new L;me.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&me.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(y)throw new L;me.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&me.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}me.SYMBOL_WIDEST=[7,5,4,3,1],me.EVEN_TOTAL_SUBSET=[4,20,52,104,204],me.GSUM=[0,348,1388,2948,3988],me.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],me.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],me.FINDER_PAT_A=0,me.FINDER_PAT_B=1,me.FINDER_PAT_C=2,me.FINDER_PAT_D=3,me.FINDER_PAT_E=4,me.FINDER_PAT_F=5,me.FINDER_PATTERN_SEQUENCES=[[me.FINDER_PAT_A,me.FINDER_PAT_A],[me.FINDER_PAT_A,me.FINDER_PAT_B,me.FINDER_PAT_B],[me.FINDER_PAT_A,me.FINDER_PAT_C,me.FINDER_PAT_B,me.FINDER_PAT_D],[me.FINDER_PAT_A,me.FINDER_PAT_E,me.FINDER_PAT_B,me.FINDER_PAT_D,me.FINDER_PAT_C],[me.FINDER_PAT_A,me.FINDER_PAT_E,me.FINDER_PAT_B,me.FINDER_PAT_D,me.FINDER_PAT_D,me.FINDER_PAT_F],[me.FINDER_PAT_A,me.FINDER_PAT_E,me.FINDER_PAT_B,me.FINDER_PAT_D,me.FINDER_PAT_E,me.FINDER_PAT_F,me.FINDER_PAT_F],[me.FINDER_PAT_A,me.FINDER_PAT_A,me.FINDER_PAT_B,me.FINDER_PAT_B,me.FINDER_PAT_C,me.FINDER_PAT_C,me.FINDER_PAT_D,me.FINDER_PAT_D],[me.FINDER_PAT_A,me.FINDER_PAT_A,me.FINDER_PAT_B,me.FINDER_PAT_B,me.FINDER_PAT_C,me.FINDER_PAT_C,me.FINDER_PAT_D,me.FINDER_PAT_E,me.FINDER_PAT_E],[me.FINDER_PAT_A,me.FINDER_PAT_A,me.FINDER_PAT_B,me.FINDER_PAT_B,me.FINDER_PAT_C,me.FINDER_PAT_C,me.FINDER_PAT_D,me.FINDER_PAT_E,me.FINDER_PAT_F,me.FINDER_PAT_F],[me.FINDER_PAT_A,me.FINDER_PAT_A,me.FINDER_PAT_B,me.FINDER_PAT_B,me.FINDER_PAT_C,me.FINDER_PAT_D,me.FINDER_PAT_D,me.FINDER_PAT_E,me.FINDER_PAT_E,me.FINDER_PAT_F,me.FINDER_PAT_F]],me.MAX_PAIRS=11;class H2 extends Hi{constructor(i,s,c){super(i,s),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class kt extends sn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,s,c){const d=this.decodePair(s,!1,i,c);kt.addOrTally(this.possibleLeftPairs,d),s.reverse();let f=this.decodePair(s,!0,i,c);kt.addOrTally(this.possibleRightPairs,f),s.reverse();for(let p of this.possibleLeftPairs)if(p.getCount()>1){for(let y of this.possibleRightPairs)if(y.getCount()>1&&kt.checkChecksum(p,y))return kt.constructResult(p,y)}throw new L}static addOrTally(i,s){if(s==null)return;let c=!1;for(let d of i)if(d.getValue()===s.getValue()){d.incrementCount(),c=!0;break}c||i.push(s)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,s){let c=4537077*i.getValue()+s.getValue(),d=new String(c).toString(),f=new re;for(let w=13-d.length;w>0;w--)f.append("0");f.append(d);let p=0;for(let w=0;w<13;w++){let O=f.charAt(w).charCodeAt(0)-48;p+=w&1?O:3*O}p=10-p%10,p===10&&(p=0),f.append(p.toString());let y=i.getFinderPattern().getResultPoints(),v=s.getFinderPattern().getResultPoints();return new be(f.toString(),null,0,[y[0],y[1],v[0],v[1]],te.RSS_14,new Date().getTime())}static checkChecksum(i,s){let c=(i.getChecksumPortion()+16*s.getChecksumPortion())%79,d=9*i.getFinderPattern().getValue()+s.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,c===d}decodePair(i,s,c,d){try{let f=this.findFinderPattern(i,s),p=this.parseFoundFinderPattern(i,c,s,f),y=d==null?null:d.get(N.NEED_RESULT_POINT_CALLBACK);if(y!=null){let O=(f[0]+f[1])/2;s&&(O=i.getSize()-1-O),y.foundPossibleResultPoint(new fe(O,c))}let v=this.decodeDataCharacter(i,p,!0),w=this.decodeDataCharacter(i,p,!1);return new H2(1597*v.getValue()+w.getValue(),v.getChecksumPortion()+4*w.getChecksumPortion(),p)}catch{return null}}decodeDataCharacter(i,s,c){let d=this.getDataCharacterCounters();for(let le=0;le<d.length;le++)d[le]=0;if(c)Lt.recordPatternInReverse(i,s.getStartEnd()[0],d);else{Lt.recordPattern(i,s.getStartEnd()[1]+1,d);for(let le=0,pe=d.length-1;le<pe;le++,pe--){let Se=d[le];d[le]=d[pe],d[pe]=Se}}let f=c?16:15,p=ye.sum(new Int32Array(d))/f,y=this.getOddCounts(),v=this.getEvenCounts(),w=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let le=0;le<d.length;le++){let pe=d[le]/p,Se=Math.floor(pe+.5);Se<1?Se=1:Se>8&&(Se=8);let Ae=Math.floor(le/2);le&1?(v[Ae]=Se,O[Ae]=pe-Se):(y[Ae]=Se,w[Ae]=pe-Se)}this.adjustOddEvenCounts(c,f);let D=0,z=0;for(let le=y.length-1;le>=0;le--)z*=9,z+=y[le],D+=y[le];let V=0,J=0;for(let le=v.length-1;le>=0;le--)V*=9,V+=v[le],J+=v[le];let ne=z+3*V;if(c){if(D&1||D>12||D<4)throw new L;let le=(12-D)/2,pe=kt.OUTSIDE_ODD_WIDEST[le],Se=9-pe,Ae=ar.getRSSvalue(y,pe,!1),we=ar.getRSSvalue(v,Se,!0),et=kt.OUTSIDE_EVEN_TOTAL_SUBSET[le],qe=kt.OUTSIDE_GSUM[le];return new Hi(Ae*et+we+qe,ne)}else{if(J&1||J>10||J<4)throw new L;let le=(10-J)/2,pe=kt.INSIDE_ODD_WIDEST[le],Se=9-pe,Ae=ar.getRSSvalue(y,pe,!0),we=ar.getRSSvalue(v,Se,!1),et=kt.INSIDE_ODD_TOTAL_SUBSET[le],qe=kt.INSIDE_GSUM[le];return new Hi(we*et+Ae+qe,ne)}}findFinderPattern(i,s){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=i.getSize(),f=!1,p=0;for(;p<d&&(f=!i.get(p),s!==f);)p++;let y=0,v=p;for(let w=p;w<d;w++)if(i.get(w)!==f)c[y]++;else{if(y===3){if(sn.isFinderPattern(c))return[v,w];v+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,y--}else y++;c[y]=1,f=!f}throw new L}parseFoundFinderPattern(i,s,c,d){let f=i.get(d[0]),p=d[0]-1;for(;p>=0&&f!==i.get(p);)p--;p++;const y=d[0]-p,v=this.getDecodeFinderCounters(),w=new Int32Array(v.length);j.arraycopy(v,0,w,1,v.length-1),w[0]=y;const O=this.parseFinderValue(w,kt.FINDER_PATTERNS);let D=p,z=d[1];return c&&(D=i.getSize()-1-D,z=i.getSize()-1-z),new Ls(O,[p,d[1]],D,z,s)}adjustOddEvenCounts(i,s){let c=ye.sum(new Int32Array(this.getOddCounts())),d=ye.sum(new Int32Array(this.getEvenCounts())),f=!1,p=!1,y=!1,v=!1;i?(c>12?p=!0:c<4&&(f=!0),d>12?v=!0:d<4&&(y=!0)):(c>11?p=!0:c<5&&(f=!0),d>10?v=!0:d<4&&(y=!0));let w=c+d-s,O=(c&1)===(i?1:0),D=(d&1)===1;if(w===1)if(O){if(D)throw new L;p=!0}else{if(!D)throw new L;v=!0}else if(w===-1)if(O){if(D)throw new L;f=!0}else{if(!D)throw new L;y=!0}else if(w===0){if(O){if(!D)throw new L;c<d?(f=!0,v=!0):(p=!0,y=!0)}else if(D)throw new L}else throw new L;if(f){if(p)throw new L;sn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&sn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(v)throw new L;sn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&sn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}kt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],kt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],kt.OUTSIDE_GSUM=[0,161,961,2015,2715],kt.INSIDE_GSUM=[0,336,1036,1516],kt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],kt.INSIDE_ODD_WIDEST=[2,4,6,8],kt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Yi extends Lt{constructor(i,s){super(),this.readers=[],this.verbose=s===!0;const c=i?i.get(N.POSSIBLE_FORMATS):null,d=i&&i.get(N.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(te.EAN_13)||c.includes(te.UPC_A)||c.includes(te.EAN_8)||c.includes(te.UPC_E))&&this.readers.push(new jd(i)),c.includes(te.CODE_39)&&this.readers.push(new $t(d)),c.includes(te.CODE_128)&&this.readers.push(new Ie),c.includes(te.ITF)&&this.readers.push(new xt),c.includes(te.RSS_14)&&this.readers.push(new kt),c.includes(te.RSS_EXPANDED)&&this.readers.push(new me(this.verbose))):(this.readers.push(new jd(i)),this.readers.push(new $t),this.readers.push(new jd(i)),this.readers.push(new Ie),this.readers.push(new xt),this.readers.push(new kt),this.readers.push(new me(this.verbose)))}decodeRow(i,s,c){for(let d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(i,s,c)}catch{}throw new L}reset(){this.readers.forEach(i=>i.reset())}}class G2 extends de{constructor(i=500,s){super(new Yi(s),i,s)}}class lt{constructor(i,s,c){this.ecCodewords=i,this.ecBlocks=[s],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class st{constructor(i,s){this.count=i,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class tt{constructor(i,s,c,d,f,p){this.versionNumber=i,this.symbolSizeRows=s,this.symbolSizeColumns=c,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=f,this.ecBlocks=p;let y=0;const v=p.getECCodewords(),w=p.getECBlocks();for(let O of w)y+=O.getCount()*(O.getDataCodewords()+v);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,s){if(i&1||s&1)throw new k;for(let c of tt.VERSIONS)if(c.symbolSizeRows===i&&c.symbolSizeColumns===s)return c;throw new k}toString(){return""+this.versionNumber}static buildVersions(){return[new tt(1,10,10,8,8,new lt(5,new st(1,3))),new tt(2,12,12,10,10,new lt(7,new st(1,5))),new tt(3,14,14,12,12,new lt(10,new st(1,8))),new tt(4,16,16,14,14,new lt(12,new st(1,12))),new tt(5,18,18,16,16,new lt(14,new st(1,18))),new tt(6,20,20,18,18,new lt(18,new st(1,22))),new tt(7,22,22,20,20,new lt(20,new st(1,30))),new tt(8,24,24,22,22,new lt(24,new st(1,36))),new tt(9,26,26,24,24,new lt(28,new st(1,44))),new tt(10,32,32,14,14,new lt(36,new st(1,62))),new tt(11,36,36,16,16,new lt(42,new st(1,86))),new tt(12,40,40,18,18,new lt(48,new st(1,114))),new tt(13,44,44,20,20,new lt(56,new st(1,144))),new tt(14,48,48,22,22,new lt(68,new st(1,174))),new tt(15,52,52,24,24,new lt(42,new st(2,102))),new tt(16,64,64,14,14,new lt(56,new st(2,140))),new tt(17,72,72,16,16,new lt(36,new st(4,92))),new tt(18,80,80,18,18,new lt(48,new st(4,114))),new tt(19,88,88,20,20,new lt(56,new st(4,144))),new tt(20,96,96,22,22,new lt(68,new st(4,174))),new tt(21,104,104,24,24,new lt(56,new st(6,136))),new tt(22,120,120,18,18,new lt(68,new st(6,175))),new tt(23,132,132,20,20,new lt(62,new st(8,163))),new tt(24,144,144,22,22,new lt(62,new st(8,156),new st(2,155))),new tt(25,8,18,6,16,new lt(7,new st(1,5))),new tt(26,8,32,6,14,new lt(11,new st(1,10))),new tt(27,12,26,10,24,new lt(14,new st(1,16))),new tt(28,12,36,10,16,new lt(18,new st(1,22))),new tt(29,16,36,14,16,new lt(24,new st(1,32))),new tt(30,16,48,14,22,new lt(28,new st(1,49)))]}}tt.VERSIONS=tt.buildVersions();class Td{constructor(i){const s=i.getHeight();if(s<8||s>144||s&1)throw new k;this.version=Td.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new ae(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const s=i.getHeight(),c=i.getWidth();return tt.getVersionForDimensions(s,c)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let s=0,c=4,d=0;const f=this.mappingBitMatrix.getHeight(),p=this.mappingBitMatrix.getWidth();let y=!1,v=!1,w=!1,O=!1;do if(c===f&&d===0&&!y)i[s++]=this.readCorner1(f,p)&255,c-=2,d+=2,y=!0;else if(c===f-2&&d===0&&p&3&&!v)i[s++]=this.readCorner2(f,p)&255,c-=2,d+=2,v=!0;else if(c===f+4&&d===2&&!(p&7)&&!w)i[s++]=this.readCorner3(f,p)&255,c-=2,d+=2,w=!0;else if(c===f-2&&d===0&&(p&7)===4&&!O)i[s++]=this.readCorner4(f,p)&255,c-=2,d+=2,O=!0;else{do c<f&&d>=0&&!this.readMappingMatrix.get(d,c)&&(i[s++]=this.readUtah(c,d,f,p)&255),c-=2,d+=2;while(c>=0&&d<p);c+=1,d+=3;do c>=0&&d<p&&!this.readMappingMatrix.get(d,c)&&(i[s++]=this.readUtah(c,d,f,p)&255),c+=2,d-=2;while(c<f&&d>=0);c+=3,d+=1}while(c<f||d<p);if(s!==this.version.getTotalCodewords())throw new k;return i}readModule(i,s,c,d){return i<0&&(i+=c,s+=4-(c+4&7)),s<0&&(s+=d,i+=4-(d+4&7)),this.readMappingMatrix.set(s,i),this.mappingBitMatrix.get(s,i)}readUtah(i,s,c,d){let f=0;return this.readModule(i-2,s-2,c,d)&&(f|=1),f<<=1,this.readModule(i-2,s-1,c,d)&&(f|=1),f<<=1,this.readModule(i-1,s-2,c,d)&&(f|=1),f<<=1,this.readModule(i-1,s-1,c,d)&&(f|=1),f<<=1,this.readModule(i-1,s,c,d)&&(f|=1),f<<=1,this.readModule(i,s-2,c,d)&&(f|=1),f<<=1,this.readModule(i,s-1,c,d)&&(f|=1),f<<=1,this.readModule(i,s,c,d)&&(f|=1),f}readCorner1(i,s){let c=0;return this.readModule(i-1,0,i,s)&&(c|=1),c<<=1,this.readModule(i-1,1,i,s)&&(c|=1),c<<=1,this.readModule(i-1,2,i,s)&&(c|=1),c<<=1,this.readModule(0,s-2,i,s)&&(c|=1),c<<=1,this.readModule(0,s-1,i,s)&&(c|=1),c<<=1,this.readModule(1,s-1,i,s)&&(c|=1),c<<=1,this.readModule(2,s-1,i,s)&&(c|=1),c<<=1,this.readModule(3,s-1,i,s)&&(c|=1),c}readCorner2(i,s){let c=0;return this.readModule(i-3,0,i,s)&&(c|=1),c<<=1,this.readModule(i-2,0,i,s)&&(c|=1),c<<=1,this.readModule(i-1,0,i,s)&&(c|=1),c<<=1,this.readModule(0,s-4,i,s)&&(c|=1),c<<=1,this.readModule(0,s-3,i,s)&&(c|=1),c<<=1,this.readModule(0,s-2,i,s)&&(c|=1),c<<=1,this.readModule(0,s-1,i,s)&&(c|=1),c<<=1,this.readModule(1,s-1,i,s)&&(c|=1),c}readCorner3(i,s){let c=0;return this.readModule(i-1,0,i,s)&&(c|=1),c<<=1,this.readModule(i-1,s-1,i,s)&&(c|=1),c<<=1,this.readModule(0,s-3,i,s)&&(c|=1),c<<=1,this.readModule(0,s-2,i,s)&&(c|=1),c<<=1,this.readModule(0,s-1,i,s)&&(c|=1),c<<=1,this.readModule(1,s-3,i,s)&&(c|=1),c<<=1,this.readModule(1,s-2,i,s)&&(c|=1),c<<=1,this.readModule(1,s-1,i,s)&&(c|=1),c}readCorner4(i,s){let c=0;return this.readModule(i-3,0,i,s)&&(c|=1),c<<=1,this.readModule(i-2,0,i,s)&&(c|=1),c<<=1,this.readModule(i-1,0,i,s)&&(c|=1),c<<=1,this.readModule(0,s-2,i,s)&&(c|=1),c<<=1,this.readModule(0,s-1,i,s)&&(c|=1),c<<=1,this.readModule(1,s-1,i,s)&&(c|=1),c<<=1,this.readModule(2,s-1,i,s)&&(c|=1),c<<=1,this.readModule(3,s-1,i,s)&&(c|=1),c}extractDataRegion(i){const s=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(i.getHeight()!==s)throw new m("Dimension of bitMatrix must match the version size");const d=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),p=s/d|0,y=c/f|0,v=p*d,w=y*f,O=new ae(w,v);for(let D=0;D<p;++D){const z=D*d;for(let V=0;V<y;++V){const J=V*f;for(let ne=0;ne<d;++ne){const le=D*(d+2)+1+ne,pe=z+ne;for(let Se=0;Se<f;++Se){const Ae=V*(f+2)+1+Se;if(i.get(Ae,le)){const we=J+Se;O.set(we,pe)}}}}}return O}}class _d{constructor(i,s){this.numDataCodewords=i,this.codewords=s}static getDataBlocks(i,s){const c=s.getECBlocks();let d=0;const f=c.getECBlocks();for(let ne of f)d+=ne.getCount();const p=new Array(d);let y=0;for(let ne of f)for(let le=0;le<ne.getCount();le++){const pe=ne.getDataCodewords(),Se=c.getECCodewords()+pe;p[y++]=new _d(pe,new Uint8Array(Se))}const w=p[0].codewords.length-c.getECCodewords(),O=w-1;let D=0;for(let ne=0;ne<O;ne++)for(let le=0;le<y;le++)p[le].codewords[ne]=i[D++];const z=s.getVersionNumber()===24,V=z?8:y;for(let ne=0;ne<V;ne++)p[ne].codewords[w-1]=i[D++];const J=p[0].codewords.length;for(let ne=w;ne<J;ne++)for(let le=0;le<y;le++){const pe=z?(le+8)%y:le,Se=z&&pe>7?ne-1:ne;p[pe].codewords[Se]=i[D++]}if(D!==i.length)throw new m;return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Rd{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new m(""+i);let s=0,c=this.bitOffset,d=this.byteOffset;const f=this.bytes;if(c>0){const p=8-c,y=i<p?i:p,v=p-y,w=255>>8-y<<v;s=(f[d]&w)>>v,i-=y,c+=y,c===8&&(c=0,d++)}if(i>0){for(;i>=8;)s=s<<8|f[d]&255,d++,i-=8;if(i>0){const p=8-i,y=255>>p<<p;s=s<<i|(f[d]&y)>>p,c+=i}}return this.bitOffset=c,this.byteOffset=d,s}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Ut;(function(M){M[M.PAD_ENCODE=0]="PAD_ENCODE",M[M.ASCII_ENCODE=1]="ASCII_ENCODE",M[M.C40_ENCODE=2]="C40_ENCODE",M[M.TEXT_ENCODE=3]="TEXT_ENCODE",M[M.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",M[M.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",M[M.BASE256_ENCODE=6]="BASE256_ENCODE"})(Ut||(Ut={}));class Vr{static decode(i){const s=new Rd(i),c=new re,d=new re,f=new Array;let p=Ut.ASCII_ENCODE;do if(p===Ut.ASCII_ENCODE)p=this.decodeAsciiSegment(s,c,d);else{switch(p){case Ut.C40_ENCODE:this.decodeC40Segment(s,c);break;case Ut.TEXT_ENCODE:this.decodeTextSegment(s,c);break;case Ut.ANSIX12_ENCODE:this.decodeAnsiX12Segment(s,c);break;case Ut.EDIFACT_ENCODE:this.decodeEdifactSegment(s,c);break;case Ut.BASE256_ENCODE:this.decodeBase256Segment(s,c,f);break;default:throw new k}p=Ut.ASCII_ENCODE}while(p!==Ut.PAD_ENCODE&&s.available()>0);return d.length()>0&&c.append(d.toString()),new ve(i,c.toString(),f.length===0?null:f,null)}static decodeAsciiSegment(i,s,c){let d=!1;do{let f=i.readBits(8);if(f===0)throw new k;if(f<=128)return d&&(f+=128),s.append(String.fromCharCode(f-1)),Ut.ASCII_ENCODE;if(f===129)return Ut.PAD_ENCODE;if(f<=229){const p=f-130;p<10&&s.append("0"),s.append(""+p)}else switch(f){case 230:return Ut.C40_ENCODE;case 231:return Ut.BASE256_ENCODE;case 232:s.append("");break;case 233:case 234:break;case 235:d=!0;break;case 236:s.append("[)>05"),c.insert(0,"");break;case 237:s.append("[)>06"),c.insert(0,"");break;case 238:return Ut.ANSIX12_ENCODE;case 239:return Ut.TEXT_ENCODE;case 240:return Ut.EDIFACT_ENCODE;case 241:break;default:if(f!==254||i.available()!==0)throw new k;break}}while(i.available()>0);return Ut.ASCII_ENCODE}static decodeC40Segment(i,s){let c=!1;const d=[];let f=0;do{if(i.available()===8)return;const p=i.readBits(8);if(p===254)return;this.parseTwoBytes(p,i.readBits(8),d);for(let y=0;y<3;y++){const v=d[y];switch(f){case 0:if(v<3)f=v+1;else if(v<this.C40_BASIC_SET_CHARS.length){const w=this.C40_BASIC_SET_CHARS[v];c?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),c=!1):s.append(w)}else throw new k;break;case 1:c?(s.append(String.fromCharCode(v+128)),c=!1):s.append(String.fromCharCode(v)),f=0;break;case 2:if(v<this.C40_SHIFT2_SET_CHARS.length){const w=this.C40_SHIFT2_SET_CHARS[v];c?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),c=!1):s.append(w)}else switch(v){case 27:s.append("");break;case 30:c=!0;break;default:throw new k}f=0;break;case 3:c?(s.append(String.fromCharCode(v+224)),c=!1):s.append(String.fromCharCode(v+96)),f=0;break;default:throw new k}}}while(i.available()>0)}static decodeTextSegment(i,s){let c=!1,d=[],f=0;do{if(i.available()===8)return;const p=i.readBits(8);if(p===254)return;this.parseTwoBytes(p,i.readBits(8),d);for(let y=0;y<3;y++){const v=d[y];switch(f){case 0:if(v<3)f=v+1;else if(v<this.TEXT_BASIC_SET_CHARS.length){const w=this.TEXT_BASIC_SET_CHARS[v];c?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),c=!1):s.append(w)}else throw new k;break;case 1:c?(s.append(String.fromCharCode(v+128)),c=!1):s.append(String.fromCharCode(v)),f=0;break;case 2:if(v<this.TEXT_SHIFT2_SET_CHARS.length){const w=this.TEXT_SHIFT2_SET_CHARS[v];c?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),c=!1):s.append(w)}else switch(v){case 27:s.append("");break;case 30:c=!0;break;default:throw new k}f=0;break;case 3:if(v<this.TEXT_SHIFT3_SET_CHARS.length){const w=this.TEXT_SHIFT3_SET_CHARS[v];c?(s.append(String.fromCharCode(w.charCodeAt(0)+128)),c=!1):s.append(w),f=0}else throw new k;break;default:throw new k}}}while(i.available()>0)}static decodeAnsiX12Segment(i,s){const c=[];do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),c);for(let f=0;f<3;f++){const p=c[f];switch(p){case 0:s.append("\r");break;case 1:s.append("*");break;case 2:s.append(">");break;case 3:s.append(" ");break;default:if(p<14)s.append(String.fromCharCode(p+44));else if(p<40)s.append(String.fromCharCode(p+51));else throw new k;break}}}while(i.available()>0)}static parseTwoBytes(i,s,c){let d=(i<<8)+s-1,f=Math.floor(d/1600);c[0]=f,d-=f*1600,f=Math.floor(d/40),c[1]=f,c[2]=d-f*40}static decodeEdifactSegment(i,s){do{if(i.available()<=16)return;for(let c=0;c<4;c++){let d=i.readBits(6);if(d===31){const f=8-i.getBitOffset();f!==8&&i.readBits(f);return}d&32||(d|=64),s.append(String.fromCharCode(d))}}while(i.available()>0)}static decodeBase256Segment(i,s,c){let d=1+i.getByteOffset();const f=this.unrandomize255State(i.readBits(8),d++);let p;if(f===0?p=i.available()/8|0:f<250?p=f:p=250*(f-249)+this.unrandomize255State(i.readBits(8),d++),p<0)throw new k;const y=new Uint8Array(p);for(let v=0;v<p;v++){if(i.available()<8)throw new k;y[v]=this.unrandomize255State(i.readBits(8),d++)}c.push(y);try{s.append(H.decode(y,Y.ISO88591))}catch(v){throw new _e("Platform does not support required encoding: "+v.message)}}static unrandomize255State(i,s){const c=149*s%255+1,d=i-c;return d>=0?d:d+256}}Vr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Vr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Vr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Vr.TEXT_SHIFT2_SET_CHARS=Vr.C40_SHIFT2_SET_CHARS,Vr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class X2{constructor(){this.rsDecoder=new Fe(se.DATA_MATRIX_FIELD_256)}decode(i){const s=new Td(i),c=s.getVersion(),d=s.readCodewords(),f=_d.getDataBlocks(d,c);let p=0;for(let w of f)p+=w.getNumDataCodewords();const y=new Uint8Array(p),v=f.length;for(let w=0;w<v;w++){const O=f[w],D=O.getCodewords(),z=O.getNumDataCodewords();this.correctErrors(D,z);for(let V=0;V<z;V++)y[V*v+w]=D[V]}return Vr.decode(y)}correctErrors(i,s){const c=new Int32Array(i);try{this.rsDecoder.decode(c,i.length-s)}catch{throw new C}for(let d=0;d<s;d++)i[d]=c[d]}}class zt{constructor(i){this.image=i,this.rectangleDetector=new ft(this.image)}detect(){const i=this.rectangleDetector.detect();let s=this.detectSolid1(i);if(s=this.detectSolid2(s),s[3]=this.correctTopRight(s),!s[3])throw new L;s=this.shiftToModuleCenter(s);const c=s[0],d=s[1],f=s[2],p=s[3];let y=this.transitionsBetween(c,p)+1,v=this.transitionsBetween(f,p)+1;(y&1)===1&&(y+=1),(v&1)===1&&(v+=1),4*y<7*v&&4*v<7*y&&(y=v=Math.max(y,v));let w=zt.sampleGrid(this.image,c,d,f,p,y,v);return new Be(w,[c,d,f,p])}static shiftPoint(i,s,c){let d=(s.getX()-i.getX())/(c+1),f=(s.getY()-i.getY())/(c+1);return new fe(i.getX()+d,i.getY()+f)}static moveAway(i,s,c){let d=i.getX(),f=i.getY();return d<s?d-=1:d+=1,f<c?f-=1:f+=1,new fe(d,f)}detectSolid1(i){let s=i[0],c=i[1],d=i[3],f=i[2],p=this.transitionsBetween(s,c),y=this.transitionsBetween(c,d),v=this.transitionsBetween(d,f),w=this.transitionsBetween(f,s),O=p,D=[f,s,c,d];return O>y&&(O=y,D[0]=s,D[1]=c,D[2]=d,D[3]=f),O>v&&(O=v,D[0]=c,D[1]=d,D[2]=f,D[3]=s),O>w&&(D[0]=d,D[1]=f,D[2]=s,D[3]=c),D}detectSolid2(i){let s=i[0],c=i[1],d=i[2],f=i[3],p=this.transitionsBetween(s,f),y=zt.shiftPoint(c,d,(p+1)*4),v=zt.shiftPoint(d,c,(p+1)*4),w=this.transitionsBetween(y,s),O=this.transitionsBetween(v,f);return w<O?(i[0]=s,i[1]=c,i[2]=d,i[3]=f):(i[0]=c,i[1]=d,i[2]=f,i[3]=s),i}correctTopRight(i){let s=i[0],c=i[1],d=i[2],f=i[3],p=this.transitionsBetween(s,f),y=this.transitionsBetween(c,f),v=zt.shiftPoint(s,c,(y+1)*4),w=zt.shiftPoint(d,c,(p+1)*4);p=this.transitionsBetween(v,f),y=this.transitionsBetween(w,f);let O=new fe(f.getX()+(d.getX()-c.getX())/(p+1),f.getY()+(d.getY()-c.getY())/(p+1)),D=new fe(f.getX()+(s.getX()-c.getX())/(y+1),f.getY()+(s.getY()-c.getY())/(y+1));if(!this.isValid(O))return this.isValid(D)?D:null;if(!this.isValid(D))return O;let z=this.transitionsBetween(v,O)+this.transitionsBetween(w,O),V=this.transitionsBetween(v,D)+this.transitionsBetween(w,D);return z>V?O:D}shiftToModuleCenter(i){let s=i[0],c=i[1],d=i[2],f=i[3],p=this.transitionsBetween(s,f)+1,y=this.transitionsBetween(d,f)+1,v=zt.shiftPoint(s,c,y*4),w=zt.shiftPoint(d,c,p*4);p=this.transitionsBetween(v,f)+1,y=this.transitionsBetween(w,f)+1,(p&1)===1&&(p+=1),(y&1)===1&&(y+=1);let O=(s.getX()+c.getX()+d.getX()+f.getX())/4,D=(s.getY()+c.getY()+d.getY()+f.getY())/4;s=zt.moveAway(s,O,D),c=zt.moveAway(c,O,D),d=zt.moveAway(d,O,D),f=zt.moveAway(f,O,D);let z,V;return v=zt.shiftPoint(s,c,y*4),v=zt.shiftPoint(v,f,p*4),z=zt.shiftPoint(c,s,y*4),z=zt.shiftPoint(z,d,p*4),w=zt.shiftPoint(d,f,y*4),w=zt.shiftPoint(w,c,p*4),V=zt.shiftPoint(f,d,y*4),V=zt.shiftPoint(V,s,p*4),[v,z,w,V]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,s,c,d,f,p,y){return nt.getInstance().sampleGrid(i,p,y,.5,.5,p-.5,.5,p-.5,y-.5,.5,y-.5,s.getX(),s.getY(),f.getX(),f.getY(),d.getX(),d.getY(),c.getX(),c.getY())}transitionsBetween(i,s){let c=Math.trunc(i.getX()),d=Math.trunc(i.getY()),f=Math.trunc(s.getX()),p=Math.trunc(s.getY()),y=Math.abs(p-d)>Math.abs(f-c);if(y){let ne=c;c=d,d=ne,ne=f,f=p,p=ne}let v=Math.abs(f-c),w=Math.abs(p-d),O=-v/2,D=d<p?1:-1,z=c<f?1:-1,V=0,J=this.image.get(y?d:c,y?c:d);for(let ne=c,le=d;ne!==f;ne+=z){let pe=this.image.get(y?le:ne,y?ne:le);if(pe!==J&&(V++,J=pe),O+=w,O>0){if(le===p)break;le+=D,O-=v}}return V}}class Hr{constructor(){this.decoder=new X2}decode(i,s=null){let c,d;if(s!=null&&s.has(N.PURE_BARCODE)){const w=Hr.extractPureBits(i.getBlackMatrix());c=this.decoder.decode(w),d=Hr.NO_POINTS}else{const w=new zt(i.getBlackMatrix()).detect();c=this.decoder.decode(w.getBits()),d=w.getPoints()}const f=c.getRawBytes(),p=new be(c.getText(),f,8*f.length,d,te.DATA_MATRIX,j.currentTimeMillis()),y=c.getByteSegments();y!=null&&p.putMetadata(Ee.BYTE_SEGMENTS,y);const v=c.getECLevel();return v!=null&&p.putMetadata(Ee.ERROR_CORRECTION_LEVEL,v),p}reset(){}static extractPureBits(i){const s=i.getTopLeftOnBit(),c=i.getBottomRightOnBit();if(s==null||c==null)throw new L;const d=this.moduleSize(s,i);let f=s[1];const p=c[1];let y=s[0];const w=(c[0]-y+1)/d,O=(p-f+1)/d;if(w<=0||O<=0)throw new L;const D=d/2;f+=D,y+=D;const z=new ae(w,O);for(let V=0;V<O;V++){const J=f+V*d;for(let ne=0;ne<w;ne++)i.get(y+ne*d,J)&&z.set(ne,V)}return z}static moduleSize(i,s){const c=s.getWidth();let d=i[0];const f=i[1];for(;d<c&&s.get(d,f);)d++;if(d===c)throw new L;const p=d-i[0];if(p===0)throw new L;return p}}Hr.NO_POINTS=[];class Y2 extends de{constructor(i=500){super(new Hr,i)}}var qi;(function(M){M[M.L=0]="L",M[M.M=1]="M",M[M.Q=2]="Q",M[M.H=3]="H"})(qi||(qi={}));class bt{constructor(i,s,c){this.value=i,this.stringValue=s,this.bits=c,bt.FOR_BITS.set(c,this),bt.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return bt.L;case"M":return bt.M;case"Q":return bt.Q;case"H":return bt.H;default:throw new b(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof bt))return!1;const s=i;return this.value===s.value}static forBits(i){if(i<0||i>=bt.FOR_BITS.size)throw new m;return bt.FOR_BITS.get(i)}}bt.FOR_BITS=new Map,bt.FOR_VALUE=new Map,bt.L=new bt(qi.L,"L",1),bt.M=new bt(qi.M,"M",0),bt.Q=new bt(qi.Q,"Q",3),bt.H=new bt(qi.H,"H",2);class ln{constructor(i){this.errorCorrectionLevel=bt.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,s){return T.bitCount(i^s)}static decodeFormatInformation(i,s){const c=ln.doDecodeFormatInformation(i,s);return c!==null?c:ln.doDecodeFormatInformation(i^ln.FORMAT_INFO_MASK_QR,s^ln.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,s){let c=Number.MAX_SAFE_INTEGER,d=0;for(const f of ln.FORMAT_INFO_DECODE_LOOKUP){const p=f[0];if(p===i||p===s)return new ln(f[1]);let y=ln.numBitsDiffering(i,p);y<c&&(d=f[1],c=y),i!==s&&(y=ln.numBitsDiffering(s,p),y<c&&(d=f[1],c=y))}return c<=3?new ln(d):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof ln))return!1;const s=i;return this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}ln.FORMAT_INFO_MASK_QR=21522,ln.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ce{constructor(i,...s){this.ecCodewordsPerBlock=i,this.ecBlocks=s}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const s=this.ecBlocks;for(const c of s)i+=c.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class U{constructor(i,s){this.count=i,this.dataCodewords=s}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Le{constructor(i,s,...c){this.versionNumber=i,this.alignmentPatternCenters=s,this.ecBlocks=c;let d=0;const f=c[0].getECCodewordsPerBlock(),p=c[0].getECBlocks();for(const y of p)d+=y.getCount()*(y.getDataCodewords()+f);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new k;try{return this.getVersionForNumber((i-17)/4)}catch{throw new k}}static getVersionForNumber(i){if(i<1||i>40)throw new m;return Le.VERSIONS[i-1]}static decodeVersionInformation(i){let s=Number.MAX_SAFE_INTEGER,c=0;for(let d=0;d<Le.VERSION_DECODE_INFO.length;d++){const f=Le.VERSION_DECODE_INFO[d];if(f===i)return Le.getVersionForNumber(d+7);const p=ln.numBitsDiffering(i,f);p<s&&(c=d+7,s=p)}return s<=3?Le.getVersionForNumber(c):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),s=new ae(i);s.setRegion(0,0,9,9),s.setRegion(i-8,0,8,9),s.setRegion(0,i-8,9,8);const c=this.alignmentPatternCenters.length;for(let d=0;d<c;d++){const f=this.alignmentPatternCenters[d]-2;for(let p=0;p<c;p++)d===0&&(p===0||p===c-1)||d===c-1&&p===0||s.setRegion(this.alignmentPatternCenters[p]-2,f,5,5)}return s.setRegion(6,9,1,i-17),s.setRegion(9,6,i-17,1),this.versionNumber>6&&(s.setRegion(i-11,0,3,6),s.setRegion(0,i-11,6,3)),s}toString(){return""+this.versionNumber}}Le.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Le.VERSIONS=[new Le(1,new Int32Array(0),new ce(7,new U(1,19)),new ce(10,new U(1,16)),new ce(13,new U(1,13)),new ce(17,new U(1,9))),new Le(2,Int32Array.from([6,18]),new ce(10,new U(1,34)),new ce(16,new U(1,28)),new ce(22,new U(1,22)),new ce(28,new U(1,16))),new Le(3,Int32Array.from([6,22]),new ce(15,new U(1,55)),new ce(26,new U(1,44)),new ce(18,new U(2,17)),new ce(22,new U(2,13))),new Le(4,Int32Array.from([6,26]),new ce(20,new U(1,80)),new ce(18,new U(2,32)),new ce(26,new U(2,24)),new ce(16,new U(4,9))),new Le(5,Int32Array.from([6,30]),new ce(26,new U(1,108)),new ce(24,new U(2,43)),new ce(18,new U(2,15),new U(2,16)),new ce(22,new U(2,11),new U(2,12))),new Le(6,Int32Array.from([6,34]),new ce(18,new U(2,68)),new ce(16,new U(4,27)),new ce(24,new U(4,19)),new ce(28,new U(4,15))),new Le(7,Int32Array.from([6,22,38]),new ce(20,new U(2,78)),new ce(18,new U(4,31)),new ce(18,new U(2,14),new U(4,15)),new ce(26,new U(4,13),new U(1,14))),new Le(8,Int32Array.from([6,24,42]),new ce(24,new U(2,97)),new ce(22,new U(2,38),new U(2,39)),new ce(22,new U(4,18),new U(2,19)),new ce(26,new U(4,14),new U(2,15))),new Le(9,Int32Array.from([6,26,46]),new ce(30,new U(2,116)),new ce(22,new U(3,36),new U(2,37)),new ce(20,new U(4,16),new U(4,17)),new ce(24,new U(4,12),new U(4,13))),new Le(10,Int32Array.from([6,28,50]),new ce(18,new U(2,68),new U(2,69)),new ce(26,new U(4,43),new U(1,44)),new ce(24,new U(6,19),new U(2,20)),new ce(28,new U(6,15),new U(2,16))),new Le(11,Int32Array.from([6,30,54]),new ce(20,new U(4,81)),new ce(30,new U(1,50),new U(4,51)),new ce(28,new U(4,22),new U(4,23)),new ce(24,new U(3,12),new U(8,13))),new Le(12,Int32Array.from([6,32,58]),new ce(24,new U(2,92),new U(2,93)),new ce(22,new U(6,36),new U(2,37)),new ce(26,new U(4,20),new U(6,21)),new ce(28,new U(7,14),new U(4,15))),new Le(13,Int32Array.from([6,34,62]),new ce(26,new U(4,107)),new ce(22,new U(8,37),new U(1,38)),new ce(24,new U(8,20),new U(4,21)),new ce(22,new U(12,11),new U(4,12))),new Le(14,Int32Array.from([6,26,46,66]),new ce(30,new U(3,115),new U(1,116)),new ce(24,new U(4,40),new U(5,41)),new ce(20,new U(11,16),new U(5,17)),new ce(24,new U(11,12),new U(5,13))),new Le(15,Int32Array.from([6,26,48,70]),new ce(22,new U(5,87),new U(1,88)),new ce(24,new U(5,41),new U(5,42)),new ce(30,new U(5,24),new U(7,25)),new ce(24,new U(11,12),new U(7,13))),new Le(16,Int32Array.from([6,26,50,74]),new ce(24,new U(5,98),new U(1,99)),new ce(28,new U(7,45),new U(3,46)),new ce(24,new U(15,19),new U(2,20)),new ce(30,new U(3,15),new U(13,16))),new Le(17,Int32Array.from([6,30,54,78]),new ce(28,new U(1,107),new U(5,108)),new ce(28,new U(10,46),new U(1,47)),new ce(28,new U(1,22),new U(15,23)),new ce(28,new U(2,14),new U(17,15))),new Le(18,Int32Array.from([6,30,56,82]),new ce(30,new U(5,120),new U(1,121)),new ce(26,new U(9,43),new U(4,44)),new ce(28,new U(17,22),new U(1,23)),new ce(28,new U(2,14),new U(19,15))),new Le(19,Int32Array.from([6,30,58,86]),new ce(28,new U(3,113),new U(4,114)),new ce(26,new U(3,44),new U(11,45)),new ce(26,new U(17,21),new U(4,22)),new ce(26,new U(9,13),new U(16,14))),new Le(20,Int32Array.from([6,34,62,90]),new ce(28,new U(3,107),new U(5,108)),new ce(26,new U(3,41),new U(13,42)),new ce(30,new U(15,24),new U(5,25)),new ce(28,new U(15,15),new U(10,16))),new Le(21,Int32Array.from([6,28,50,72,94]),new ce(28,new U(4,116),new U(4,117)),new ce(26,new U(17,42)),new ce(28,new U(17,22),new U(6,23)),new ce(30,new U(19,16),new U(6,17))),new Le(22,Int32Array.from([6,26,50,74,98]),new ce(28,new U(2,111),new U(7,112)),new ce(28,new U(17,46)),new ce(30,new U(7,24),new U(16,25)),new ce(24,new U(34,13))),new Le(23,Int32Array.from([6,30,54,78,102]),new ce(30,new U(4,121),new U(5,122)),new ce(28,new U(4,47),new U(14,48)),new ce(30,new U(11,24),new U(14,25)),new ce(30,new U(16,15),new U(14,16))),new Le(24,Int32Array.from([6,28,54,80,106]),new ce(30,new U(6,117),new U(4,118)),new ce(28,new U(6,45),new U(14,46)),new ce(30,new U(11,24),new U(16,25)),new ce(30,new U(30,16),new U(2,17))),new Le(25,Int32Array.from([6,32,58,84,110]),new ce(26,new U(8,106),new U(4,107)),new ce(28,new U(8,47),new U(13,48)),new ce(30,new U(7,24),new U(22,25)),new ce(30,new U(22,15),new U(13,16))),new Le(26,Int32Array.from([6,30,58,86,114]),new ce(28,new U(10,114),new U(2,115)),new ce(28,new U(19,46),new U(4,47)),new ce(28,new U(28,22),new U(6,23)),new ce(30,new U(33,16),new U(4,17))),new Le(27,Int32Array.from([6,34,62,90,118]),new ce(30,new U(8,122),new U(4,123)),new ce(28,new U(22,45),new U(3,46)),new ce(30,new U(8,23),new U(26,24)),new ce(30,new U(12,15),new U(28,16))),new Le(28,Int32Array.from([6,26,50,74,98,122]),new ce(30,new U(3,117),new U(10,118)),new ce(28,new U(3,45),new U(23,46)),new ce(30,new U(4,24),new U(31,25)),new ce(30,new U(11,15),new U(31,16))),new Le(29,Int32Array.from([6,30,54,78,102,126]),new ce(30,new U(7,116),new U(7,117)),new ce(28,new U(21,45),new U(7,46)),new ce(30,new U(1,23),new U(37,24)),new ce(30,new U(19,15),new U(26,16))),new Le(30,Int32Array.from([6,26,52,78,104,130]),new ce(30,new U(5,115),new U(10,116)),new ce(28,new U(19,47),new U(10,48)),new ce(30,new U(15,24),new U(25,25)),new ce(30,new U(23,15),new U(25,16))),new Le(31,Int32Array.from([6,30,56,82,108,134]),new ce(30,new U(13,115),new U(3,116)),new ce(28,new U(2,46),new U(29,47)),new ce(30,new U(42,24),new U(1,25)),new ce(30,new U(23,15),new U(28,16))),new Le(32,Int32Array.from([6,34,60,86,112,138]),new ce(30,new U(17,115)),new ce(28,new U(10,46),new U(23,47)),new ce(30,new U(10,24),new U(35,25)),new ce(30,new U(19,15),new U(35,16))),new Le(33,Int32Array.from([6,30,58,86,114,142]),new ce(30,new U(17,115),new U(1,116)),new ce(28,new U(14,46),new U(21,47)),new ce(30,new U(29,24),new U(19,25)),new ce(30,new U(11,15),new U(46,16))),new Le(34,Int32Array.from([6,34,62,90,118,146]),new ce(30,new U(13,115),new U(6,116)),new ce(28,new U(14,46),new U(23,47)),new ce(30,new U(44,24),new U(7,25)),new ce(30,new U(59,16),new U(1,17))),new Le(35,Int32Array.from([6,30,54,78,102,126,150]),new ce(30,new U(12,121),new U(7,122)),new ce(28,new U(12,47),new U(26,48)),new ce(30,new U(39,24),new U(14,25)),new ce(30,new U(22,15),new U(41,16))),new Le(36,Int32Array.from([6,24,50,76,102,128,154]),new ce(30,new U(6,121),new U(14,122)),new ce(28,new U(6,47),new U(34,48)),new ce(30,new U(46,24),new U(10,25)),new ce(30,new U(2,15),new U(64,16))),new Le(37,Int32Array.from([6,28,54,80,106,132,158]),new ce(30,new U(17,122),new U(4,123)),new ce(28,new U(29,46),new U(14,47)),new ce(30,new U(49,24),new U(10,25)),new ce(30,new U(24,15),new U(46,16))),new Le(38,Int32Array.from([6,32,58,84,110,136,162]),new ce(30,new U(4,122),new U(18,123)),new ce(28,new U(13,46),new U(32,47)),new ce(30,new U(48,24),new U(14,25)),new ce(30,new U(42,15),new U(32,16))),new Le(39,Int32Array.from([6,26,54,82,110,138,166]),new ce(30,new U(20,117),new U(4,118)),new ce(28,new U(40,47),new U(7,48)),new ce(30,new U(43,24),new U(22,25)),new ce(30,new U(10,15),new U(67,16))),new Le(40,Int32Array.from([6,30,58,86,114,142,170]),new ce(30,new U(19,118),new U(6,119)),new ce(28,new U(18,47),new U(31,48)),new ce(30,new U(34,24),new U(34,25)),new ce(30,new U(20,15),new U(61,16)))];var Kt;(function(M){M[M.DATA_MASK_000=0]="DATA_MASK_000",M[M.DATA_MASK_001=1]="DATA_MASK_001",M[M.DATA_MASK_010=2]="DATA_MASK_010",M[M.DATA_MASK_011=3]="DATA_MASK_011",M[M.DATA_MASK_100=4]="DATA_MASK_100",M[M.DATA_MASK_101=5]="DATA_MASK_101",M[M.DATA_MASK_110=6]="DATA_MASK_110",M[M.DATA_MASK_111=7]="DATA_MASK_111"})(Kt||(Kt={}));class zn{constructor(i,s){this.value=i,this.isMasked=s}unmaskBitMatrix(i,s){for(let c=0;c<s;c++)for(let d=0;d<s;d++)this.isMasked(c,d)&&i.flip(d,c)}}zn.values=new Map([[Kt.DATA_MASK_000,new zn(Kt.DATA_MASK_000,(M,i)=>(M+i&1)===0)],[Kt.DATA_MASK_001,new zn(Kt.DATA_MASK_001,(M,i)=>(M&1)===0)],[Kt.DATA_MASK_010,new zn(Kt.DATA_MASK_010,(M,i)=>i%3===0)],[Kt.DATA_MASK_011,new zn(Kt.DATA_MASK_011,(M,i)=>(M+i)%3===0)],[Kt.DATA_MASK_100,new zn(Kt.DATA_MASK_100,(M,i)=>(Math.floor(M/2)+Math.floor(i/3)&1)===0)],[Kt.DATA_MASK_101,new zn(Kt.DATA_MASK_101,(M,i)=>M*i%6===0)],[Kt.DATA_MASK_110,new zn(Kt.DATA_MASK_110,(M,i)=>M*i%6<3)],[Kt.DATA_MASK_111,new zn(Kt.DATA_MASK_111,(M,i)=>(M+i+M*i%3&1)===0)]]);class q2{constructor(i){const s=i.getHeight();if(s<21||(s&3)!==1)throw new k;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let f=0;f<6;f++)i=this.copyBit(f,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let f=5;f>=0;f--)i=this.copyBit(8,f,i);const s=this.bitMatrix.getHeight();let c=0;const d=s-7;for(let f=s-1;f>=d;f--)c=this.copyBit(8,f,c);for(let f=s-8;f<s;f++)c=this.copyBit(f,8,c);if(this.parsedFormatInfo=ln.decodeFormatInformation(i,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new k}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),s=Math.floor((i-17)/4);if(s<=6)return Le.getVersionForNumber(s);let c=0;const d=i-11;for(let p=5;p>=0;p--)for(let y=i-9;y>=d;y--)c=this.copyBit(y,p,c);let f=Le.decodeVersionInformation(c);if(f!==null&&f.getDimensionForVersion()===i)return this.parsedVersion=f,f;c=0;for(let p=5;p>=0;p--)for(let y=i-9;y>=d;y--)c=this.copyBit(p,y,c);if(f=Le.decodeVersionInformation(c),f!==null&&f.getDimensionForVersion()===i)return this.parsedVersion=f,f;throw new k}copyBit(i,s,c){return(this.isMirror?this.bitMatrix.get(s,i):this.bitMatrix.get(i,s))?c<<1|1:c<<1}readCodewords(){const i=this.readFormatInformation(),s=this.readVersion(),c=zn.values.get(i.getDataMask()),d=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,d);const f=s.buildFunctionPattern();let p=!0;const y=new Uint8Array(s.getTotalCodewords());let v=0,w=0,O=0;for(let D=d-1;D>0;D-=2){D===6&&D--;for(let z=0;z<d;z++){const V=p?d-1-z:z;for(let J=0;J<2;J++)f.get(D-J,V)||(O++,w<<=1,this.bitMatrix.get(D-J,V)&&(w|=1),O===8&&(y[v++]=w,O=0,w=0))}p=!p}if(v!==s.getTotalCodewords())throw new k;return y}remask(){if(this.parsedFormatInfo===null)return;const i=zn.values[this.parsedFormatInfo.getDataMask()],s=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,s)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let s=0,c=i.getWidth();s<c;s++)for(let d=s+1,f=i.getHeight();d<f;d++)i.get(s,d)!==i.get(d,s)&&(i.flip(d,s),i.flip(s,d))}}class Pd{constructor(i,s){this.numDataCodewords=i,this.codewords=s}static getDataBlocks(i,s,c){if(i.length!==s.getTotalCodewords())throw new m;const d=s.getECBlocksForLevel(c);let f=0;const p=d.getECBlocks();for(const J of p)f+=J.getCount();const y=new Array(f);let v=0;for(const J of p)for(let ne=0;ne<J.getCount();ne++){const le=J.getDataCodewords(),pe=d.getECCodewordsPerBlock()+le;y[v++]=new Pd(le,new Uint8Array(pe))}const w=y[0].codewords.length;let O=y.length-1;for(;O>=0&&y[O].codewords.length!==w;)O--;O++;const D=w-d.getECCodewordsPerBlock();let z=0;for(let J=0;J<D;J++)for(let ne=0;ne<v;ne++)y[ne].codewords[J]=i[z++];for(let J=O;J<v;J++)y[J].codewords[D]=i[z++];const V=y[0].codewords.length;for(let J=D;J<V;J++)for(let ne=0;ne<v;ne++){const le=ne<O?J:J+1;y[ne].codewords[le]=i[z++]}return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ln;(function(M){M[M.TERMINATOR=0]="TERMINATOR",M[M.NUMERIC=1]="NUMERIC",M[M.ALPHANUMERIC=2]="ALPHANUMERIC",M[M.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",M[M.BYTE=4]="BYTE",M[M.ECI=5]="ECI",M[M.KANJI=6]="KANJI",M[M.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",M[M.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",M[M.HANZI=9]="HANZI"})(Ln||(Ln={}));class We{constructor(i,s,c,d){this.value=i,this.stringValue=s,this.characterCountBitsForVersions=c,this.bits=d,We.FOR_BITS.set(d,this),We.FOR_VALUE.set(i,this)}static forBits(i){const s=We.FOR_BITS.get(i);if(s===void 0)throw new m;return s}getCharacterCountBits(i){const s=i.getVersionNumber();let c;return s<=9?c=0:s<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof We))return!1;const s=i;return this.value===s.value}toString(){return this.stringValue}}We.FOR_BITS=new Map,We.FOR_VALUE=new Map,We.TERMINATOR=new We(Ln.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),We.NUMERIC=new We(Ln.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),We.ALPHANUMERIC=new We(Ln.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),We.STRUCTURED_APPEND=new We(Ln.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),We.BYTE=new We(Ln.BYTE,"BYTE",Int32Array.from([8,16,16]),4),We.ECI=new We(Ln.ECI,"ECI",Int32Array.from([0,0,0]),7),We.KANJI=new We(Ln.KANJI,"KANJI",Int32Array.from([8,10,12]),8),We.FNC1_FIRST_POSITION=new We(Ln.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),We.FNC1_SECOND_POSITION=new We(Ln.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),We.HANZI=new We(Ln.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Rt{static decode(i,s,c,d){const f=new Rd(i);let p=new re;const y=new Array;let v=-1,w=-1;try{let O=null,D=!1,z;do{if(f.available()<4)z=We.TERMINATOR;else{const V=f.readBits(4);z=We.forBits(V)}switch(z){case We.TERMINATOR:break;case We.FNC1_FIRST_POSITION:case We.FNC1_SECOND_POSITION:D=!0;break;case We.STRUCTURED_APPEND:if(f.available()<16)throw new k;v=f.readBits(8),w=f.readBits(8);break;case We.ECI:const V=Rt.parseECIValue(f);if(O=F.getCharacterSetECIByValue(V),O===null)throw new k;break;case We.HANZI:const J=f.readBits(4),ne=f.readBits(z.getCharacterCountBits(s));J===Rt.GB2312_SUBSET&&Rt.decodeHanziSegment(f,p,ne);break;default:const le=f.readBits(z.getCharacterCountBits(s));switch(z){case We.NUMERIC:Rt.decodeNumericSegment(f,p,le);break;case We.ALPHANUMERIC:Rt.decodeAlphanumericSegment(f,p,le,D);break;case We.BYTE:Rt.decodeByteSegment(f,p,le,O,y,d);break;case We.KANJI:Rt.decodeKanjiSegment(f,p,le);break;default:throw new k}break}}while(z!==We.TERMINATOR)}catch{throw new k}return new ve(i,p.toString(),y.length===0?null:y,c===null?null:c.toString(),v,w)}static decodeHanziSegment(i,s,c){if(c*13>i.available())throw new k;const d=new Uint8Array(2*c);let f=0;for(;c>0;){const p=i.readBits(13);let y=p/96<<8&4294967295|p%96;y<959?y+=41377:y+=42657,d[f]=y>>8&255,d[f+1]=y&255,f+=2,c--}try{s.append(H.decode(d,Y.GB2312))}catch(p){throw new k(p)}}static decodeKanjiSegment(i,s,c){if(c*13>i.available())throw new k;const d=new Uint8Array(2*c);let f=0;for(;c>0;){const p=i.readBits(13);let y=p/192<<8&4294967295|p%192;y<7936?y+=33088:y+=49472,d[f]=y>>8,d[f+1]=y,f+=2,c--}try{s.append(H.decode(d,Y.SHIFT_JIS))}catch(p){throw new k(p)}}static decodeByteSegment(i,s,c,d,f,p){if(8*c>i.available())throw new k;const y=new Uint8Array(c);for(let w=0;w<c;w++)y[w]=i.readBits(8);let v;d===null?v=Y.guessEncoding(y,p):v=d.getName();try{s.append(H.decode(y,v))}catch(w){throw new k(w)}f.push(y)}static toAlphaNumericChar(i){if(i>=Rt.ALPHANUMERIC_CHARS.length)throw new k;return Rt.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,s,c,d){const f=s.length();for(;c>1;){if(i.available()<11)throw new k;const p=i.readBits(11);s.append(Rt.toAlphaNumericChar(Math.floor(p/45))),s.append(Rt.toAlphaNumericChar(p%45)),c-=2}if(c===1){if(i.available()<6)throw new k;s.append(Rt.toAlphaNumericChar(i.readBits(6)))}if(d)for(let p=f;p<s.length();p++)s.charAt(p)==="%"&&(p<s.length()-1&&s.charAt(p+1)==="%"?s.deleteCharAt(p+1):s.setCharAt(p,""))}static decodeNumericSegment(i,s,c){for(;c>=3;){if(i.available()<10)throw new k;const d=i.readBits(10);if(d>=1e3)throw new k;s.append(Rt.toAlphaNumericChar(Math.floor(d/100))),s.append(Rt.toAlphaNumericChar(Math.floor(d/10)%10)),s.append(Rt.toAlphaNumericChar(d%10)),c-=3}if(c===2){if(i.available()<7)throw new k;const d=i.readBits(7);if(d>=100)throw new k;s.append(Rt.toAlphaNumericChar(Math.floor(d/10))),s.append(Rt.toAlphaNumericChar(d%10))}else if(c===1){if(i.available()<4)throw new k;const d=i.readBits(4);if(d>=10)throw new k;s.append(Rt.toAlphaNumericChar(d))}}static parseECIValue(i){const s=i.readBits(8);if(!(s&128))return s&127;if((s&192)===128){const c=i.readBits(8);return(s&63)<<8&4294967295|c}if((s&224)===192){const c=i.readBits(16);return(s&31)<<16&4294967295|c}throw new k}}Rt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Rt.GB2312_SUBSET=1;class Dp{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const s=i[0];i[0]=i[2],i[2]=s}}class K2{constructor(){this.rsDecoder=new Fe(se.QR_CODE_FIELD_256)}decodeBooleanArray(i,s){return this.decodeBitMatrix(ae.parseFromBooleanArray(i),s)}decodeBitMatrix(i,s){const c=new q2(i);let d=null;try{return this.decodeBitMatrixParser(c,s)}catch(f){d=f}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const f=this.decodeBitMatrixParser(c,s);return f.setOther(new Dp(!0)),f}catch(f){throw d!==null?d:f}}decodeBitMatrixParser(i,s){const c=i.readVersion(),d=i.readFormatInformation().getErrorCorrectionLevel(),f=i.readCodewords(),p=Pd.getDataBlocks(f,c,d);let y=0;for(const O of p)y+=O.getNumDataCodewords();const v=new Uint8Array(y);let w=0;for(const O of p){const D=O.getCodewords(),z=O.getNumDataCodewords();this.correctErrors(D,z);for(let V=0;V<z;V++)v[w++]=D[V]}return Rt.decode(v,c,d,s)}correctErrors(i,s){const c=new Int32Array(i);try{this.rsDecoder.decode(c,i.length-s)}catch{throw new C}for(let d=0;d<s;d++)i[d]=c[d]}}class Nd extends fe{constructor(i,s,c){super(i,s),this.estimatedModuleSize=c}aboutEquals(i,s,c){if(Math.abs(s-this.getY())<=i&&Math.abs(c-this.getX())<=i){const d=Math.abs(i-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(i,s,c){const d=(this.getX()+s)/2,f=(this.getY()+i)/2,p=(this.estimatedModuleSize+c)/2;return new Nd(d,f,p)}}class $s{constructor(i,s,c,d,f,p,y){this.image=i,this.startX=s,this.startY=c,this.width=d,this.height=f,this.moduleSize=p,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,s=this.height,c=this.width,d=i+c,f=this.startY+s/2,p=new Int32Array(3),y=this.image;for(let v=0;v<s;v++){const w=f+(v&1?-Math.floor((v+1)/2):Math.floor((v+1)/2));p[0]=0,p[1]=0,p[2]=0;let O=i;for(;O<d&&!y.get(O,w);)O++;let D=0;for(;O<d;){if(y.get(O,w))if(D===1)p[1]++;else if(D===2){if(this.foundPatternCross(p)){const z=this.handlePossibleCenter(p,w,O);if(z!==null)return z}p[0]=p[2],p[1]=1,p[2]=0,D=1}else p[++D]++;else D===1&&D++,p[D]++;O++}if(this.foundPatternCross(p)){const z=this.handlePossibleCenter(p,w,d);if(z!==null)return z}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new L}static centerFromEnd(i,s){return s-i[2]-i[1]/2}foundPatternCross(i){const s=this.moduleSize,c=s/2;for(let d=0;d<3;d++)if(Math.abs(s-i[d])>=c)return!1;return!0}crossCheckVertical(i,s,c,d){const f=this.image,p=f.getHeight(),y=this.crossCheckStateCount;y[0]=0,y[1]=0,y[2]=0;let v=i;for(;v>=0&&f.get(s,v)&&y[1]<=c;)y[1]++,v--;if(v<0||y[1]>c)return NaN;for(;v>=0&&!f.get(s,v)&&y[0]<=c;)y[0]++,v--;if(y[0]>c)return NaN;for(v=i+1;v<p&&f.get(s,v)&&y[1]<=c;)y[1]++,v++;if(v===p||y[1]>c)return NaN;for(;v<p&&!f.get(s,v)&&y[2]<=c;)y[2]++,v++;if(y[2]>c)return NaN;const w=y[0]+y[1]+y[2];return 5*Math.abs(w-d)>=2*d?NaN:this.foundPatternCross(y)?$s.centerFromEnd(y,v):NaN}handlePossibleCenter(i,s,c){const d=i[0]+i[1]+i[2],f=$s.centerFromEnd(i,c),p=this.crossCheckVertical(s,f,2*i[1],d);if(!isNaN(p)){const y=(i[0]+i[1]+i[2])/3;for(const w of this.possibleCenters)if(w.aboutEquals(y,p,f))return w.combineEstimate(p,f,y);const v=new Nd(f,p,y);this.possibleCenters.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return null}}class kd extends fe{constructor(i,s,c,d){super(i,s),this.estimatedModuleSize=c,this.count=d,d===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,s,c){if(Math.abs(s-this.getY())<=i&&Math.abs(c-this.getX())<=i){const d=Math.abs(i-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(i,s,c){const d=this.count+1,f=(this.count*this.getX()+s)/d,p=(this.count*this.getY()+i)/d,y=(this.count*this.estimatedModuleSize+c)/d;return new kd(f,p,y,d)}}class Z2{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Zt{constructor(i,s){this.image=i,this.resultPointCallback=s,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=s}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const s=i!=null&&i.get(N.TRY_HARDER)!==void 0,c=i!=null&&i.get(N.PURE_BARCODE)!==void 0,d=this.image,f=d.getHeight(),p=d.getWidth();let y=Math.floor(3*f/(4*Zt.MAX_MODULES));(y<Zt.MIN_SKIP||s)&&(y=Zt.MIN_SKIP);let v=!1;const w=new Int32Array(5);for(let D=y-1;D<f&&!v;D+=y){w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0;let z=0;for(let V=0;V<p;V++)if(d.get(V,D))(z&1)===1&&z++,w[z]++;else if(z&1)w[z]++;else if(z===4)if(Zt.foundPatternCross(w)){if(this.handlePossibleCenter(w,D,V,c)===!0)if(y=2,this.hasSkipped===!0)v=this.haveMultiplyConfirmedCenters();else{const ne=this.findRowSkip();ne>w[2]&&(D+=ne-w[2]-y,V=p-1)}else{w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,z=3;continue}z=0,w[0]=0,w[1]=0,w[2]=0,w[3]=0,w[4]=0}else w[0]=w[2],w[1]=w[3],w[2]=w[4],w[3]=1,w[4]=0,z=3;else w[++z]++;Zt.foundPatternCross(w)&&this.handlePossibleCenter(w,D,p,c)===!0&&(y=w[0],this.hasSkipped&&(v=this.haveMultiplyConfirmedCenters()))}const O=this.selectBestPatterns();return fe.orderBestPatterns(O),new Z2(O)}static centerFromEnd(i,s){return s-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let s=0;for(let f=0;f<5;f++){const p=i[f];if(p===0)return!1;s+=p}if(s<7)return!1;const c=s/7,d=c/2;return Math.abs(c-i[0])<d&&Math.abs(c-i[1])<d&&Math.abs(3*c-i[2])<3*d&&Math.abs(c-i[3])<d&&Math.abs(c-i[4])<d}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,s,c,d){const f=this.getCrossCheckStateCount();let p=0;const y=this.image;for(;i>=p&&s>=p&&y.get(s-p,i-p);)f[2]++,p++;if(i<p||s<p)return!1;for(;i>=p&&s>=p&&!y.get(s-p,i-p)&&f[1]<=c;)f[1]++,p++;if(i<p||s<p||f[1]>c)return!1;for(;i>=p&&s>=p&&y.get(s-p,i-p)&&f[0]<=c;)f[0]++,p++;if(f[0]>c)return!1;const v=y.getHeight(),w=y.getWidth();for(p=1;i+p<v&&s+p<w&&y.get(s+p,i+p);)f[2]++,p++;if(i+p>=v||s+p>=w)return!1;for(;i+p<v&&s+p<w&&!y.get(s+p,i+p)&&f[3]<c;)f[3]++,p++;if(i+p>=v||s+p>=w||f[3]>=c)return!1;for(;i+p<v&&s+p<w&&y.get(s+p,i+p)&&f[4]<c;)f[4]++,p++;if(f[4]>=c)return!1;const O=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(O-d)<2*d&&Zt.foundPatternCross(f)}crossCheckVertical(i,s,c,d){const f=this.image,p=f.getHeight(),y=this.getCrossCheckStateCount();let v=i;for(;v>=0&&f.get(s,v);)y[2]++,v--;if(v<0)return NaN;for(;v>=0&&!f.get(s,v)&&y[1]<=c;)y[1]++,v--;if(v<0||y[1]>c)return NaN;for(;v>=0&&f.get(s,v)&&y[0]<=c;)y[0]++,v--;if(y[0]>c)return NaN;for(v=i+1;v<p&&f.get(s,v);)y[2]++,v++;if(v===p)return NaN;for(;v<p&&!f.get(s,v)&&y[3]<c;)y[3]++,v++;if(v===p||y[3]>=c)return NaN;for(;v<p&&f.get(s,v)&&y[4]<c;)y[4]++,v++;if(y[4]>=c)return NaN;const w=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(w-d)>=2*d?NaN:Zt.foundPatternCross(y)?Zt.centerFromEnd(y,v):NaN}crossCheckHorizontal(i,s,c,d){const f=this.image,p=f.getWidth(),y=this.getCrossCheckStateCount();let v=i;for(;v>=0&&f.get(v,s);)y[2]++,v--;if(v<0)return NaN;for(;v>=0&&!f.get(v,s)&&y[1]<=c;)y[1]++,v--;if(v<0||y[1]>c)return NaN;for(;v>=0&&f.get(v,s)&&y[0]<=c;)y[0]++,v--;if(y[0]>c)return NaN;for(v=i+1;v<p&&f.get(v,s);)y[2]++,v++;if(v===p)return NaN;for(;v<p&&!f.get(v,s)&&y[3]<c;)y[3]++,v++;if(v===p||y[3]>=c)return NaN;for(;v<p&&f.get(v,s)&&y[4]<c;)y[4]++,v++;if(y[4]>=c)return NaN;const w=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(w-d)>=d?NaN:Zt.foundPatternCross(y)?Zt.centerFromEnd(y,v):NaN}handlePossibleCenter(i,s,c,d){const f=i[0]+i[1]+i[2]+i[3]+i[4];let p=Zt.centerFromEnd(i,c),y=this.crossCheckVertical(s,Math.floor(p),i[2],f);if(!isNaN(y)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(y),i[2],f),!isNaN(p)&&(!d||this.crossCheckDiagonal(Math.floor(y),Math.floor(p),i[2],f)))){const v=f/7;let w=!1;const O=this.possibleCenters;for(let D=0,z=O.length;D<z;D++){const V=O[D];if(V.aboutEquals(v,y,p)){O[D]=V.combineEstimate(y,p,v),w=!0;break}}if(!w){const D=new kd(p,y,v);O.push(D),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(D)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let s=null;for(const c of this.possibleCenters)if(c.getCount()>=Zt.CENTER_QUORUM)if(s==null)s=c;else return this.hasSkipped=!0,Math.floor((Math.abs(s.getX()-c.getX())-Math.abs(s.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,s=0;const c=this.possibleCenters.length;for(const p of this.possibleCenters)p.getCount()>=Zt.CENTER_QUORUM&&(i++,s+=p.getEstimatedModuleSize());if(i<3)return!1;const d=s/c;let f=0;for(const p of this.possibleCenters)f+=Math.abs(p.getEstimatedModuleSize()-d);return f<=.05*s}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new L;const s=this.possibleCenters;let c;if(i>3){let d=0,f=0;for(const v of this.possibleCenters){const w=v.getEstimatedModuleSize();d+=w,f+=w*w}c=d/i;let p=Math.sqrt(f/i-c*c);s.sort((v,w)=>{const O=Math.abs(w.getEstimatedModuleSize()-c),D=Math.abs(v.getEstimatedModuleSize()-c);return O<D?-1:O>D?1:0});const y=Math.max(.2*c,p);for(let v=0;v<s.length&&s.length>3;v++){const w=s[v];Math.abs(w.getEstimatedModuleSize()-c)>y&&(s.splice(v,1),v--)}}if(s.length>3){let d=0;for(const f of s)d+=f.getEstimatedModuleSize();c=d/s.length,s.sort((f,p)=>{if(p.getCount()===f.getCount()){const y=Math.abs(p.getEstimatedModuleSize()-c),v=Math.abs(f.getEstimatedModuleSize()-c);return y<v?1:y>v?-1:0}else return p.getCount()-f.getCount()}),s.splice(3)}return[s[0],s[1],s[2]]}}Zt.CENTER_QUORUM=2,Zt.MIN_SKIP=3,Zt.MAX_MODULES=57;class pa{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(N.NEED_RESULT_POINT_CALLBACK);const c=new Zt(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(c)}processFinderPatternInfo(i){const s=i.getTopLeft(),c=i.getTopRight(),d=i.getBottomLeft(),f=this.calculateModuleSize(s,c,d);if(f<1)throw new L("No pattern found in proccess finder.");const p=pa.computeDimension(s,c,d,f),y=Le.getProvisionalVersionForDimension(p),v=y.getDimensionForVersion()-7;let w=null;if(y.getAlignmentPatternCenters().length>0){const V=c.getX()-s.getX()+d.getX(),J=c.getY()-s.getY()+d.getY(),ne=1-3/v,le=Math.floor(s.getX()+ne*(V-s.getX())),pe=Math.floor(s.getY()+ne*(J-s.getY()));for(let Se=4;Se<=16;Se<<=1)try{w=this.findAlignmentInRegion(f,le,pe,Se);break}catch(Ae){if(!(Ae instanceof L))throw Ae}}const O=pa.createTransform(s,c,d,w,p),D=pa.sampleGrid(this.image,O,p);let z;return w===null?z=[d,s,c]:z=[d,s,c,w],new Be(D,z)}static createTransform(i,s,c,d,f){const p=f-3.5;let y,v,w,O;return d!==null?(y=d.getX(),v=d.getY(),w=p-3,O=w):(y=s.getX()-i.getX()+c.getX(),v=s.getY()-i.getY()+c.getY(),w=p,O=p),Pt.quadrilateralToQuadrilateral(3.5,3.5,p,3.5,w,O,3.5,p,i.getX(),i.getY(),s.getX(),s.getY(),y,v,c.getX(),c.getY())}static sampleGrid(i,s,c){return nt.getInstance().sampleGridWithTransform(i,c,c,s)}static computeDimension(i,s,c,d){const f=ye.round(fe.distance(i,s)/d),p=ye.round(fe.distance(i,c)/d);let y=Math.floor((f+p)/2)+7;switch(y&3){case 0:y++;break;case 2:y--;break;case 3:throw new L("Dimensions could be not found.")}return y}calculateModuleSize(i,s,c){return(this.calculateModuleSizeOneWay(i,s)+this.calculateModuleSizeOneWay(i,c))/2}calculateModuleSizeOneWay(i,s){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(s.getX()),Math.floor(s.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(c)?d/7:isNaN(d)?c/7:(c+d)/14}sizeOfBlackWhiteBlackRunBothWays(i,s,c,d){let f=this.sizeOfBlackWhiteBlackRun(i,s,c,d),p=1,y=i-(c-i);y<0?(p=i/(i-y),y=0):y>=this.image.getWidth()&&(p=(this.image.getWidth()-1-i)/(y-i),y=this.image.getWidth()-1);let v=Math.floor(s-(d-s)*p);return p=1,v<0?(p=s/(s-v),v=0):v>=this.image.getHeight()&&(p=(this.image.getHeight()-1-s)/(v-s),v=this.image.getHeight()-1),y=Math.floor(i+(y-i)*p),f+=this.sizeOfBlackWhiteBlackRun(i,s,y,v),f-1}sizeOfBlackWhiteBlackRun(i,s,c,d){const f=Math.abs(d-s)>Math.abs(c-i);if(f){let V=i;i=s,s=V,V=c,c=d,d=V}const p=Math.abs(c-i),y=Math.abs(d-s);let v=-p/2;const w=i<c?1:-1,O=s<d?1:-1;let D=0;const z=c+w;for(let V=i,J=s;V!==z;V+=w){const ne=f?J:V,le=f?V:J;if(D===1===this.image.get(ne,le)){if(D===2)return ye.distance(V,J,i,s);D++}if(v+=y,v>0){if(J===d)break;J+=O,v-=p}}return D===2?ye.distance(c+w,d,i,s):NaN}findAlignmentInRegion(i,s,c,d){const f=Math.floor(d*i),p=Math.max(0,s-f),y=Math.min(this.image.getWidth()-1,s+f);if(y-p<i*3)throw new L("Alignment top exceeds estimated module size.");const v=Math.max(0,c-f),w=Math.min(this.image.getHeight()-1,c+f);if(w-v<i*3)throw new L("Alignment bottom exceeds estimated module size.");return new $s(this.image,p,v,y-p,w-v,i,this.resultPointCallback).find()}}class Gr{constructor(){this.decoder=new K2}getDecoder(){return this.decoder}decode(i,s){let c,d;if(s!=null&&s.get(N.PURE_BARCODE)!==void 0){const v=Gr.extractPureBits(i.getBlackMatrix());c=this.decoder.decodeBitMatrix(v,s),d=Gr.NO_POINTS}else{const v=new pa(i.getBlackMatrix()).detect(s);c=this.decoder.decodeBitMatrix(v.getBits(),s),d=v.getPoints()}c.getOther()instanceof Dp&&c.getOther().applyMirroredCorrection(d);const f=new be(c.getText(),c.getRawBytes(),void 0,d,te.QR_CODE,void 0),p=c.getByteSegments();p!==null&&f.putMetadata(Ee.BYTE_SEGMENTS,p);const y=c.getECLevel();return y!==null&&f.putMetadata(Ee.ERROR_CORRECTION_LEVEL,y),c.hasStructuredAppend()&&(f.putMetadata(Ee.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),f.putMetadata(Ee.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),f}reset(){}static extractPureBits(i){const s=i.getTopLeftOnBit(),c=i.getBottomRightOnBit();if(s===null||c===null)throw new L;const d=this.moduleSize(s,i);let f=s[1],p=c[1],y=s[0],v=c[0];if(y>=v||f>=p)throw new L;if(p-f!==v-y&&(v=y+(p-f),v>=i.getWidth()))throw new L;const w=Math.round((v-y+1)/d),O=Math.round((p-f+1)/d);if(w<=0||O<=0)throw new L;if(O!==w)throw new L;const D=Math.floor(d/2);f+=D,y+=D;const z=y+Math.floor((w-1)*d)-v;if(z>0){if(z>D)throw new L;y-=z}const V=f+Math.floor((O-1)*d)-p;if(V>0){if(V>D)throw new L;f-=V}const J=new ae(w,O);for(let ne=0;ne<O;ne++){const le=f+Math.floor(ne*d);for(let pe=0;pe<w;pe++)i.get(y+Math.floor(pe*d),le)&&J.set(pe,ne)}return J}static moduleSize(i,s){const c=s.getHeight(),d=s.getWidth();let f=i[0],p=i[1],y=!0,v=0;for(;f<d&&p<c;){if(y!==s.get(f,p)){if(++v===5)break;y=!y}f++,p++}if(f===d||p===c)throw new L;return(f-i[0])/7}}Gr.NO_POINTS=new Array;class He{PDF417Common(){}static getBitCountSum(i){return ye.sum(i)}static toIntArray(i){if(i==null||!i.length)return He.EMPTY_INT_ARRAY;const s=new Int32Array(i.length);let c=0;for(const d of i)s[c++]=d;return s}static getCodeword(i){const s=_.binarySearch(He.SYMBOL_TABLE,i&262143);return s<0?-1:(He.CODEWORD_TABLE[s]-1)%He.NUMBER_OF_CODEWORDS}}He.NUMBER_OF_CODEWORDS=929,He.MAX_CODEWORDS_IN_BARCODE=He.NUMBER_OF_CODEWORDS-1,He.MIN_ROWS_IN_BARCODE=3,He.MAX_ROWS_IN_BARCODE=90,He.MODULES_IN_CODEWORD=17,He.MODULES_IN_STOP_PATTERN=18,He.BARS_IN_MODULE=8,He.EMPTY_INT_ARRAY=new Int32Array([]),He.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),He.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Q2{constructor(i,s){this.bits=i,this.points=s}getBits(){return this.bits}getPoints(){return this.points}}class Ze{static detectMultiple(i,s,c){let d=i.getBlackMatrix(),f=Ze.detect(c,d);return f.length||(d=d.clone(),d.rotate180(),f=Ze.detect(c,d)),new Q2(d,f)}static detect(i,s){const c=new Array;let d=0,f=0,p=!1;for(;d<s.getHeight();){const y=Ze.findVertices(s,d,f);if(y[0]==null&&y[3]==null){if(!p)break;p=!1,f=0;for(const v of c)v[1]!=null&&(d=Math.trunc(Math.max(d,v[1].getY()))),v[3]!=null&&(d=Math.max(d,Math.trunc(v[3].getY())));d+=Ze.ROW_STEP;continue}if(p=!0,c.push(y),!i)break;y[2]!=null?(f=Math.trunc(y[2].getX()),d=Math.trunc(y[2].getY())):(f=Math.trunc(y[4].getX()),d=Math.trunc(y[4].getY()))}return c}static findVertices(i,s,c){const d=i.getHeight(),f=i.getWidth(),p=new Array(8);return Ze.copyToResult(p,Ze.findRowsWithPattern(i,d,f,s,c,Ze.START_PATTERN),Ze.INDEXES_START_PATTERN),p[4]!=null&&(c=Math.trunc(p[4].getX()),s=Math.trunc(p[4].getY())),Ze.copyToResult(p,Ze.findRowsWithPattern(i,d,f,s,c,Ze.STOP_PATTERN),Ze.INDEXES_STOP_PATTERN),p}static copyToResult(i,s,c){for(let d=0;d<c.length;d++)i[c[d]]=s[d]}static findRowsWithPattern(i,s,c,d,f,p){const y=new Array(4);let v=!1;const w=new Int32Array(p.length);for(;d<s;d+=Ze.ROW_STEP){let D=Ze.findGuardPattern(i,f,d,c,!1,p,w);if(D!=null){for(;d>0;){const z=Ze.findGuardPattern(i,f,--d,c,!1,p,w);if(z!=null)D=z;else{d++;break}}y[0]=new fe(D[0],d),y[1]=new fe(D[1],d),v=!0;break}}let O=d+1;if(v){let D=0,z=Int32Array.from([Math.trunc(y[0].getX()),Math.trunc(y[1].getX())]);for(;O<s;O++){const V=Ze.findGuardPattern(i,z[0],O,c,!1,p,w);if(V!=null&&Math.abs(z[0]-V[0])<Ze.MAX_PATTERN_DRIFT&&Math.abs(z[1]-V[1])<Ze.MAX_PATTERN_DRIFT)z=V,D=0;else{if(D>Ze.SKIPPED_ROW_COUNT_MAX)break;D++}}O-=D+1,y[2]=new fe(z[0],O),y[3]=new fe(z[1],O)}return O-d<Ze.BARCODE_MIN_HEIGHT&&_.fill(y,null),y}static findGuardPattern(i,s,c,d,f,p,y){_.fillWithin(y,0,y.length,0);let v=s,w=0;for(;i.get(v,c)&&v>0&&w++<Ze.MAX_PIXEL_DRIFT;)v--;let O=v,D=0,z=p.length;for(let V=f;O<d;O++)if(i.get(O,c)!==V)y[D]++;else{if(D===z-1){if(Ze.patternMatchVariance(y,p,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE)return new Int32Array([v,O]);v+=y[0]+y[1],j.arraycopy(y,2,y,0,D-1),y[D-1]=0,y[D]=0,D--}else D++;y[D]=1,V=!V}return D===z-1&&Ze.patternMatchVariance(y,p,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE?new Int32Array([v,O-1]):null}static patternMatchVariance(i,s,c){let d=i.length,f=0,p=0;for(let w=0;w<d;w++)f+=i[w],p+=s[w];if(f<p)return 1/0;let y=f/p;c*=y;let v=0;for(let w=0;w<d;w++){let O=i[w],D=s[w]*y,z=O>D?O-D:D-O;if(z>c)return 1/0;v+=z}return v/f}}Ze.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ze.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ze.MAX_AVG_VARIANCE=.42,Ze.MAX_INDIVIDUAL_VARIANCE=.8,Ze.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ze.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ze.MAX_PIXEL_DRIFT=3,Ze.MAX_PATTERN_DRIFT=5,Ze.SKIPPED_ROW_COUNT_MAX=25,Ze.ROW_STEP=5,Ze.BARCODE_MIN_HEIGHT=10;class tn{constructor(i,s){if(s.length===0)throw new m;this.field=i;let c=s.length;if(c>1&&s[0]===0){let d=1;for(;d<c&&s[d]===0;)d++;d===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-d),j.arraycopy(s,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=s}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let d=0;for(let f of this.coefficients)d=this.field.add(d,f);return d}let s=this.coefficients[0],c=this.coefficients.length;for(let d=1;d<c;d++)s=this.field.add(this.field.multiply(i,s),this.coefficients[d]);return s}add(i){if(!this.field.equals(i.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let s=this.coefficients,c=i.coefficients;if(s.length>c.length){let p=s;s=c,c=p}let d=new Int32Array(c.length),f=c.length-s.length;j.arraycopy(c,0,d,0,f);for(let p=f;p<c.length;p++)d[p]=this.field.add(s[p-f],c[p]);return new tn(this.field,d)}subtract(i){if(!this.field.equals(i.field))throw new m("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof tn?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new tn(this.field,new Int32Array([0]));let s=this.coefficients,c=s.length,d=i.coefficients,f=d.length,p=new Int32Array(c+f-1);for(let y=0;y<c;y++){let v=s[y];for(let w=0;w<f;w++)p[y+w]=this.field.add(p[y+w],this.field.multiply(v,d[w]))}return new tn(this.field,p)}negative(){let i=this.coefficients.length,s=new Int32Array(i);for(let c=0;c<i;c++)s[c]=this.field.subtract(0,this.coefficients[c]);return new tn(this.field,s)}multiplyScalar(i){if(i===0)return new tn(this.field,new Int32Array([0]));if(i===1)return this;let s=this.coefficients.length,c=new Int32Array(s);for(let d=0;d<s;d++)c[d]=this.field.multiply(this.coefficients[d],i);return new tn(this.field,c)}multiplyByMonomial(i,s){if(i<0)throw new m;if(s===0)return new tn(this.field,new Int32Array([0]));let c=this.coefficients.length,d=new Int32Array(c+i);for(let f=0;f<c;f++)d[f]=this.field.multiply(this.coefficients[f],s);return new tn(this.field,d)}toString(){let i=new re;for(let s=this.getDegree();s>=0;s--){let c=this.getCoefficient(s);c!==0&&(c<0?(i.append(" - "),c=-c):i.length()>0&&i.append(" + "),(s===0||c!==1)&&i.append(c),s!==0&&(s===1?i.append("x"):(i.append("x^"),i.append(s))))}return i.toString()}}class J2{add(i,s){return(i+s)%this.modulus}subtract(i,s){return(this.modulus+i-s)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new m;return this.logTable[i]}inverse(i){if(i===0)throw new ge;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,s){return i===0||s===0?0:this.expTable[(this.logTable[i]+this.logTable[s])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class Md extends J2{constructor(i,s){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let c=1;for(let d=0;d<i;d++)this.expTable[d]=c,c=c*s%i;for(let d=0;d<i-1;d++)this.logTable[this.expTable[d]]=d;this.zero=new tn(this,new Int32Array([0])),this.one=new tn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,s){if(i<0)throw new m;if(s===0)return this.zero;let c=new Int32Array(i+1);return c[0]=s,new tn(this,c)}}Md.PDF417_GF=new Md(He.NUMBER_OF_CODEWORDS,3);class Bp{constructor(){this.field=Md.PDF417_GF}decode(i,s,c){let d=new tn(this.field,i),f=new Int32Array(s),p=!1;for(let J=s;J>0;J--){let ne=d.evaluateAt(this.field.exp(J));f[s-J]=ne,ne!==0&&(p=!0)}if(!p)return 0;let y=this.field.getOne();if(c!=null)for(const J of c){let ne=this.field.exp(i.length-1-J),le=new tn(this.field,new Int32Array([this.field.subtract(0,ne),1]));y=y.multiply(le)}let v=new tn(this.field,f),w=this.runEuclideanAlgorithm(this.field.buildMonomial(s,1),v,s),O=w[0],D=w[1],z=this.findErrorLocations(O),V=this.findErrorMagnitudes(D,O,z);for(let J=0;J<z.length;J++){let ne=i.length-1-this.field.log(z[J]);if(ne<0)throw C.getChecksumInstance();i[ne]=this.field.subtract(i[ne],V[J])}return z.length}runEuclideanAlgorithm(i,s,c){if(i.getDegree()<s.getDegree()){let z=i;i=s,s=z}let d=i,f=s,p=this.field.getZero(),y=this.field.getOne();for(;f.getDegree()>=Math.round(c/2);){let z=d,V=p;if(d=f,p=y,d.isZero())throw C.getChecksumInstance();f=z;let J=this.field.getZero(),ne=d.getCoefficient(d.getDegree()),le=this.field.inverse(ne);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){let pe=f.getDegree()-d.getDegree(),Se=this.field.multiply(f.getCoefficient(f.getDegree()),le);J=J.add(this.field.buildMonomial(pe,Se)),f=f.subtract(d.multiplyByMonomial(pe,Se))}y=J.multiply(p).subtract(V).negative()}let v=y.getCoefficient(0);if(v===0)throw C.getChecksumInstance();let w=this.field.inverse(v),O=y.multiply(w),D=f.multiply(w);return[O,D]}findErrorLocations(i){let s=i.getDegree(),c=new Int32Array(s),d=0;for(let f=1;f<this.field.getSize()&&d<s;f++)i.evaluateAt(f)===0&&(c[d]=this.field.inverse(f),d++);if(d!==s)throw C.getChecksumInstance();return c}findErrorMagnitudes(i,s,c){let d=s.getDegree(),f=new Int32Array(d);for(let w=1;w<=d;w++)f[d-w]=this.field.multiply(w,s.getCoefficient(w));let p=new tn(this.field,f),y=c.length,v=new Int32Array(y);for(let w=0;w<y;w++){let O=this.field.inverse(c[w]),D=this.field.subtract(0,i.evaluateAt(O)),z=this.field.inverse(p.evaluateAt(O));v[w]=this.field.multiply(D,z)}return v}}class pi{constructor(i,s,c,d,f){i instanceof pi?this.constructor_2(i):this.constructor_1(i,s,c,d,f)}constructor_1(i,s,c,d,f){const p=s==null||c==null,y=d==null||f==null;if(p&&y)throw new L;p?(s=new fe(0,d.getY()),c=new fe(0,f.getY())):y&&(d=new fe(i.getWidth()-1,s.getY()),f=new fe(i.getWidth()-1,c.getY())),this.image=i,this.topLeft=s,this.bottomLeft=c,this.topRight=d,this.bottomRight=f,this.minX=Math.trunc(Math.min(s.getX(),c.getX())),this.maxX=Math.trunc(Math.max(d.getX(),f.getX())),this.minY=Math.trunc(Math.min(s.getY(),d.getY())),this.maxY=Math.trunc(Math.max(c.getY(),f.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,s){return i==null?s:s==null?i:new pi(i.image,i.topLeft,i.bottomLeft,s.topRight,s.bottomRight)}addMissingRows(i,s,c){let d=this.topLeft,f=this.bottomLeft,p=this.topRight,y=this.bottomRight;if(i>0){let v=c?this.topLeft:this.topRight,w=Math.trunc(v.getY()-i);w<0&&(w=0);let O=new fe(v.getX(),w);c?d=O:p=O}if(s>0){let v=c?this.bottomLeft:this.bottomRight,w=Math.trunc(v.getY()+s);w>=this.image.getHeight()&&(w=this.image.getHeight()-1);let O=new fe(v.getX(),w);c?f=O:y=O}return new pi(this.image,d,f,p,y)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class ew{constructor(i,s,c,d){this.columnCount=i,this.errorCorrectionLevel=d,this.rowCountUpperPart=s,this.rowCountLowerPart=c,this.rowCount=s+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class xa{constructor(){this.buffer=""}static form(i,s){let c=-1;function d(p,y,v,w,O,D){if(p==="%%")return"%";if(s[++c]===void 0)return;p=w?parseInt(w.substr(1)):void 0;let z=O?parseInt(O.substr(1)):void 0,V;switch(D){case"s":V=s[c];break;case"c":V=s[c][0];break;case"f":V=parseFloat(s[c]).toFixed(p);break;case"p":V=parseFloat(s[c]).toPrecision(p);break;case"e":V=parseFloat(s[c]).toExponential(p);break;case"x":V=parseInt(s[c]).toString(z||16);break;case"d":V=parseFloat(parseInt(s[c],z||10).toPrecision(p)).toFixed(0);break}V=typeof V=="object"?JSON.stringify(V):(+V).toString(z);let J=parseInt(v),ne=v&&v[0]+""=="0"?"0":" ";for(;V.length<J;)V=y!==void 0?V+ne:ne+V;return V}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(f,d)}format(i,...s){this.buffer+=xa.form(i,s)}toString(){return this.buffer}}class ga{constructor(i){this.boundingBox=new pi(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let s=this.getCodeword(i);if(s!=null)return s;for(let c=1;c<ga.MAX_NEARBY_DISTANCE;c++){let d=this.imageRowToCodewordIndex(i)-c;if(d>=0&&(s=this.codewords[d],s!=null)||(d=this.imageRowToCodewordIndex(i)+c,d<this.codewords.length&&(s=this.codewords[d],s!=null)))return s}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,s){this.codewords[this.imageRowToCodewordIndex(i)]=s}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new xa;let s=0;for(const c of this.codewords){if(c==null){i.format("%3d:    |   %n",s++);continue}i.format("%3d: %3d|%3d%n",s++,c.getRowNumber(),c.getValue())}return i.toString()}}ga.MAX_NEARBY_DISTANCE=5;class ya{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let s=this.values.get(i);s==null&&(s=0),s++,this.values.set(i,s)}getValue(){let i=-1,s=new Array;for(const[c,d]of this.values.entries()){const f={getKey:()=>c,getValue:()=>d};f.getValue()>i?(i=f.getValue(),s=[],s.push(f.getKey())):f.getValue()===i&&s.push(f.getKey())}return He.toIntArray(s)}getConfidence(i){return this.values.get(i)}}class zp extends ga{constructor(i,s){super(i),this._isLeft=s}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let s=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(s,i);let c=this.getBoundingBox(),d=this._isLeft?c.getTopLeft():c.getTopRight(),f=this._isLeft?c.getBottomLeft():c.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=this.imageRowToCodewordIndex(Math.trunc(f.getY())),v=-1,w=1,O=0;for(let D=p;D<y;D++){if(s[D]==null)continue;let z=s[D],V=z.getRowNumber()-v;if(V===0)O++;else if(V===1)w=Math.max(w,O),O=1,v=z.getRowNumber();else if(V<0||z.getRowNumber()>=i.getRowCount()||V>D)s[D]=null;else{let J;w>2?J=(w-2)*V:J=V;let ne=J>=D;for(let le=1;le<=J&&!ne;le++)ne=s[D-le]!=null;ne?s[D]=null:(v=z.getRowNumber(),O=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let s=new Int32Array(i.getRowCount());for(let c of this.getCodewords())if(c!=null){let d=c.getRowNumber();if(d>=s.length)continue;s[d]++}return s}adjustIncompleteIndicatorColumnRowNumbers(i){let s=this.getBoundingBox(),c=this._isLeft?s.getTopLeft():s.getTopRight(),d=this._isLeft?s.getBottomLeft():s.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),p=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=this.getCodewords(),v=-1;for(let w=f;w<p;w++){if(y[w]==null)continue;let O=y[w];O.setRowNumberAsRowIndicatorColumn();let D=O.getRowNumber()-v;D===0||(D===1?v=O.getRowNumber():O.getRowNumber()>=i.getRowCount()?y[w]=null:v=O.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),s=new ya,c=new ya,d=new ya,f=new ya;for(let y of i){if(y==null)continue;y.setRowNumberAsRowIndicatorColumn();let v=y.getValue()%30,w=y.getRowNumber();switch(this._isLeft||(w+=2),w%3){case 0:c.setValue(v*3+1);break;case 1:f.setValue(v/3),d.setValue(v%3);break;case 2:s.setValue(v+1);break}}if(s.getValue().length===0||c.getValue().length===0||d.getValue().length===0||f.getValue().length===0||s.getValue()[0]<1||c.getValue()[0]+d.getValue()[0]<He.MIN_ROWS_IN_BARCODE||c.getValue()[0]+d.getValue()[0]>He.MAX_ROWS_IN_BARCODE)return null;let p=new ew(s.getValue()[0],c.getValue()[0],d.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(i,p),p}removeIncorrectCodewords(i,s){for(let c=0;c<i.length;c++){let d=i[c];if(i[c]==null)continue;let f=d.getValue()%30,p=d.getRowNumber();if(p>s.getRowCount()){i[c]=null;continue}switch(this._isLeft||(p+=2),p%3){case 0:f*3+1!==s.getRowCountUpperPart()&&(i[c]=null);break;case 1:(Math.trunc(f/3)!==s.getErrorCorrectionLevel()||f%3!==s.getRowCountLowerPart())&&(i[c]=null);break;case 2:f+1!==s.getColumnCount()&&(i[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class ma{constructor(i,s){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=s,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=He.MAX_CODEWORDS_IN_BARCODE,s;do s=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<s);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let s=1;s<this.barcodeColumnCount+1;s++){let c=this.detectionResultColumns[s].getCodewords();for(let d=0;d<c.length;d++)c[d]!=null&&(c[d].hasValidRowNumber()||this.adjustRowNumbers(s,d,c))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<i.length;c++)if(i[c]!=null&&s[c]!=null&&i[c].getRowNumber()===s[c].getRowNumber())for(let d=1;d<=this.barcodeColumnCount;d++){let f=this.detectionResultColumns[d].getCodewords()[c];f!=null&&(f.setRowNumber(i[c].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,s=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<s.length;c++){if(s[c]==null)continue;let d=s[c].getRowNumber(),f=0;for(let p=this.barcodeColumnCount+1;p>0&&f<this.ADJUST_ROW_NUMBER_SKIP;p--){let y=this.detectionResultColumns[p].getCodewords()[c];y!=null&&(f=ma.adjustRowNumberIfValid(d,f,y),y.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,s=this.detectionResultColumns[0].getCodewords();for(let c=0;c<s.length;c++){if(s[c]==null)continue;let d=s[c].getRowNumber(),f=0;for(let p=1;p<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;p++){let y=this.detectionResultColumns[p].getCodewords()[c];y!=null&&(f=ma.adjustRowNumberIfValid(d,f,y),y.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,s,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(i)?(c.setRowNumber(i),s=0):++s),s}adjustRowNumbers(i,s,c){if(!this.detectionResultColumns[i-1])return;let d=c[s],f=this.detectionResultColumns[i-1].getCodewords(),p=f;this.detectionResultColumns[i+1]!=null&&(p=this.detectionResultColumns[i+1].getCodewords());let y=new Array(14);y[2]=f[s],y[3]=p[s],s>0&&(y[0]=c[s-1],y[4]=f[s-1],y[5]=p[s-1]),s>1&&(y[8]=c[s-2],y[10]=f[s-2],y[11]=p[s-2]),s<c.length-1&&(y[1]=c[s+1],y[6]=f[s+1],y[7]=p[s+1]),s<c.length-2&&(y[9]=c[s+2],y[12]=f[s+2],y[13]=p[s+2]);for(let v of y)if(ma.adjustRowNumber(d,v))return}static adjustRowNumber(i,s){return s==null?!1:s.hasValidRowNumber()&&s.getBucket()===i.getBucket()?(i.setRowNumber(s.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,s){this.detectionResultColumns[i]=s}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let s=new xa;for(let c=0;c<i.getCodewords().length;c++){s.format("CW %3d:",c);for(let d=0;d<this.barcodeColumnCount+2;d++){if(this.detectionResultColumns[d]==null){s.format("    |   ");continue}let f=this.detectionResultColumns[d].getCodewords()[c];if(f==null){s.format("    |   ");continue}s.format(" %3d|%3d",f.getRowNumber(),f.getValue())}s.format("%n")}return s.toString()}}class ba{constructor(i,s,c,d){this.rowNumber=ba.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(s),this.bucket=Math.trunc(c),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==ba.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}ba.BARCODE_ROW_UNKNOWN=-1;class bn{static initialize(){for(let i=0;i<He.SYMBOL_TABLE.length;i++){let s=He.SYMBOL_TABLE[i],c=s&1;for(let d=0;d<He.BARS_IN_MODULE;d++){let f=0;for(;(s&1)===c;)f+=1,s>>=1;c=s&1,bn.RATIOS_TABLE[i]||(bn.RATIOS_TABLE[i]=new Array(He.BARS_IN_MODULE)),bn.RATIOS_TABLE[i][He.BARS_IN_MODULE-d-1]=Math.fround(f/He.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let s=bn.getDecodedCodewordValue(bn.sampleBitCounts(i));return s!==-1?s:bn.getClosestDecodedValue(i)}static sampleBitCounts(i){let s=ye.sum(i),c=new Int32Array(He.BARS_IN_MODULE),d=0,f=0;for(let p=0;p<He.MODULES_IN_CODEWORD;p++){let y=s/(2*He.MODULES_IN_CODEWORD)+p*s/He.MODULES_IN_CODEWORD;f+i[d]<=y&&(f+=i[d],d++),c[d]++}return c}static getDecodedCodewordValue(i){let s=bn.getBitValue(i);return He.getCodeword(s)===-1?-1:s}static getBitValue(i){let s=0;for(let c=0;c<i.length;c++)for(let d=0;d<i[c];d++)s=s<<1|(c%2===0?1:0);return Math.trunc(s)}static getClosestDecodedValue(i){let s=ye.sum(i),c=new Array(He.BARS_IN_MODULE);if(s>1)for(let p=0;p<c.length;p++)c[p]=Math.fround(i[p]/s);let d=K.MAX_VALUE,f=-1;this.bSymbolTableReady||bn.initialize();for(let p=0;p<bn.RATIOS_TABLE.length;p++){let y=0,v=bn.RATIOS_TABLE[p];for(let w=0;w<He.BARS_IN_MODULE;w++){let O=Math.fround(v[w]-c[w]);if(y+=Math.fround(O*O),y>=d)break}y<d&&(d=y,f=He.SYMBOL_TABLE[p])}return f}}bn.bSymbolTableReady=!1,bn.RATIOS_TABLE=new Array(He.SYMBOL_TABLE.length).map(M=>new Array(He.BARS_IN_MODULE));class Lp{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class Wp{static parseLong(i,s=void 0){return parseInt(i,s)}}class Fp extends g{}Fp.kind="NullPointerException";class tw{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,s,c){if(i==null)throw new Fp;if(s<0||s>i.length||c<0||s+c>i.length||s+c<0)throw new E;if(c===0)return;for(let d=0;d<c;d++)this.write(i[s+d])}flush(){}close(){}}class nw extends g{}class rw extends tw{constructor(i=32){if(super(),this.count=0,i<0)throw new m("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let c=this.buf.length<<1;if(c-i<0&&(c=i),c<0){if(i<0)throw new nw;c=T.MAX_VALUE}this.buf=_.copyOfUint8Array(this.buf,c)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,s,c){if(s<0||s>i.length||c<0||s+c-i.length>0)throw new E;this.ensureCapacity(this.count+c),j.arraycopy(i,s,this.buf,this.count,c),this.count+=c}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return _.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var ht;(function(M){M[M.ALPHA=0]="ALPHA",M[M.LOWER=1]="LOWER",M[M.MIXED=2]="MIXED",M[M.PUNCT=3]="PUNCT",M[M.ALPHA_SHIFT=4]="ALPHA_SHIFT",M[M.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(ht||(ht={}));function $p(){if(typeof window<"u")return window.BigInt||null;if(typeof Ir<"u")return Ir.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Us;function Xr(M){if(typeof Us>"u"&&(Us=$p()),Us===null)throw new Error("BigInt is not supported!");return Us(M)}function iw(){let M=[];M[0]=Xr(1);let i=Xr(900);M[1]=i;for(let s=2;s<16;s++)M[s]=M[s-1]*i;return M}class he{static decode(i,s){let c=new re(""),d=F.ISO8859_1;c.enableDecoding(d);let f=1,p=i[f++],y=new Lp;for(;f<i[0];){switch(p){case he.TEXT_COMPACTION_MODE_LATCH:f=he.textCompaction(i,f,c);break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:f=he.byteCompaction(p,i,d,f,c);break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[f++]);break;case he.NUMERIC_COMPACTION_MODE_LATCH:f=he.numericCompaction(i,f,c);break;case he.ECI_CHARSET:F.getCharacterSetECIByValue(i[f++]);break;case he.ECI_GENERAL_PURPOSE:f+=2;break;case he.ECI_USER_DEFINED:f++;break;case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=he.decodeMacroBlock(i,f,y);break;case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:throw new k;default:f--,f=he.textCompaction(i,f,c);break}if(f<i.length)p=i[f++];else throw k.getFormatInstance()}if(c.length()===0)throw k.getFormatInstance();let v=new ve(null,c.toString(),null,s);return v.setOther(y),v}static decodeMacroBlock(i,s,c){if(s+he.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw k.getFormatInstance();let d=new Int32Array(he.NUMBER_OF_SEQUENCE_CODEWORDS);for(let y=0;y<he.NUMBER_OF_SEQUENCE_CODEWORDS;y++,s++)d[y]=i[s];c.setSegmentIndex(T.parseInt(he.decodeBase900toBase10(d,he.NUMBER_OF_SEQUENCE_CODEWORDS)));let f=new re;s=he.textCompaction(i,s,f),c.setFileId(f.toString());let p=-1;for(i[s]===he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(p=s+1);s<i[0];)switch(i[s]){case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s++,i[s]){case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let y=new re;s=he.textCompaction(i,s+1,y),c.setFileName(y.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let v=new re;s=he.textCompaction(i,s+1,v),c.setSender(v.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let w=new re;s=he.textCompaction(i,s+1,w),c.setAddressee(w.toString());break;case he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let O=new re;s=he.numericCompaction(i,s+1,O),c.setSegmentCount(T.parseInt(O.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let D=new re;s=he.numericCompaction(i,s+1,D),c.setTimestamp(Wp.parseLong(D.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let z=new re;s=he.numericCompaction(i,s+1,z),c.setChecksum(T.parseInt(z.toString()));break;case he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let V=new re;s=he.numericCompaction(i,s+1,V),c.setFileSize(Wp.parseLong(V.toString()));break;default:throw k.getFormatInstance()}break;case he.MACRO_PDF417_TERMINATOR:s++,c.setLastSegment(!0);break;default:throw k.getFormatInstance()}if(p!==-1){let y=s-p;c.isLastSegment()&&y--,c.setOptionalData(_.copyOfRange(i,p,p+y))}return s}static textCompaction(i,s,c){let d=new Int32Array((i[0]-s)*2),f=new Int32Array((i[0]-s)*2),p=0,y=!1;for(;s<i[0]&&!y;){let v=i[s++];if(v<he.TEXT_COMPACTION_MODE_LATCH)d[p]=v/30,d[p+1]=v%30,p+=2;else switch(v){case he.TEXT_COMPACTION_MODE_LATCH:d[p++]=he.TEXT_COMPACTION_MODE_LATCH;break;case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:s--,y=!0;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d[p]=he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,v=i[s++],f[p]=v,p++;break}}return he.decodeTextCompaction(d,f,p,c),s}static decodeTextCompaction(i,s,c,d){let f=ht.ALPHA,p=ht.ALPHA,y=0;for(;y<c;){let v=i[y],w="";switch(f){case ht.ALPHA:if(v<26)w=String.fromCharCode(65+v);else switch(v){case 26:w=" ";break;case he.LL:f=ht.LOWER;break;case he.ML:f=ht.MIXED;break;case he.PS:p=f,f=ht.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(s[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:f=ht.ALPHA;break}break;case ht.LOWER:if(v<26)w=String.fromCharCode(97+v);else switch(v){case 26:w=" ";break;case he.AS:p=f,f=ht.ALPHA_SHIFT;break;case he.ML:f=ht.MIXED;break;case he.PS:p=f,f=ht.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(s[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:f=ht.ALPHA;break}break;case ht.MIXED:if(v<he.PL)w=he.MIXED_CHARS[v];else switch(v){case he.PL:f=ht.PUNCT;break;case 26:w=" ";break;case he.LL:f=ht.LOWER;break;case he.AL:f=ht.ALPHA;break;case he.PS:p=f,f=ht.PUNCT_SHIFT;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(s[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:f=ht.ALPHA;break}break;case ht.PUNCT:if(v<he.PAL)w=he.PUNCT_CHARS[v];else switch(v){case he.PAL:f=ht.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(s[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:f=ht.ALPHA;break}break;case ht.ALPHA_SHIFT:if(f=p,v<26)w=String.fromCharCode(65+v);else switch(v){case 26:w=" ";break;case he.TEXT_COMPACTION_MODE_LATCH:f=ht.ALPHA;break}break;case ht.PUNCT_SHIFT:if(f=p,v<he.PAL)w=he.PUNCT_CHARS[v];else switch(v){case he.PAL:f=ht.ALPHA;break;case he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(s[y]);break;case he.TEXT_COMPACTION_MODE_LATCH:f=ht.ALPHA;break}break}w!==""&&d.append(w),y++}}static byteCompaction(i,s,c,d,f){let p=new rw,y=0,v=0,w=!1;switch(i){case he.BYTE_COMPACTION_MODE_LATCH:let O=new Int32Array(6),D=s[d++];for(;d<s[0]&&!w;)switch(O[y++]=D,v=900*v+D,D=s[d++],D){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:d--,w=!0;break;default:if(y%5===0&&y>0){for(let z=0;z<6;++z)p.write(Number(Xr(v)>>Xr(8*(5-z))));v=0,y=0}break}d===s[0]&&D<he.TEXT_COMPACTION_MODE_LATCH&&(O[y++]=D);for(let z=0;z<y;z++)p.write(O[z]);break;case he.BYTE_COMPACTION_MODE_LATCH_6:for(;d<s[0]&&!w;){let z=s[d++];if(z<he.TEXT_COMPACTION_MODE_LATCH)y++,v=900*v+z;else switch(z){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.NUMERIC_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:d--,w=!0;break}if(y%5===0&&y>0){for(let V=0;V<6;++V)p.write(Number(Xr(v)>>Xr(8*(5-V))));v=0,y=0}}break}return f.append(H.decode(p.toByteArray(),c)),d}static numericCompaction(i,s,c){let d=0,f=!1,p=new Int32Array(he.MAX_NUMERIC_CODEWORDS);for(;s<i[0]&&!f;){let y=i[s++];if(s===i[0]&&(f=!0),y<he.TEXT_COMPACTION_MODE_LATCH)p[d]=y,d++;else switch(y){case he.TEXT_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH:case he.BYTE_COMPACTION_MODE_LATCH_6:case he.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case he.MACRO_PDF417_TERMINATOR:s--,f=!0;break}(d%he.MAX_NUMERIC_CODEWORDS===0||y===he.NUMERIC_COMPACTION_MODE_LATCH||f)&&d>0&&(c.append(he.decodeBase900toBase10(p,d)),d=0)}return s}static decodeBase900toBase10(i,s){let c=Xr(0);for(let f=0;f<s;f++)c+=he.EXP900[s-f-1]*Xr(i[f]);let d=c.toString();if(d.charAt(0)!=="1")throw new k;return d.substring(1)}}he.TEXT_COMPACTION_MODE_LATCH=900,he.BYTE_COMPACTION_MODE_LATCH=901,he.NUMERIC_COMPACTION_MODE_LATCH=902,he.BYTE_COMPACTION_MODE_LATCH_6=924,he.ECI_USER_DEFINED=925,he.ECI_GENERAL_PURPOSE=926,he.ECI_CHARSET=927,he.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,he.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,he.MACRO_PDF417_TERMINATOR=922,he.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,he.MAX_NUMERIC_CODEWORDS=15,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,he.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,he.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,he.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,he.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,he.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,he.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,he.PL=25,he.LL=27,he.AS=27,he.ML=28,he.AL=28,he.PS=29,he.PAL=29,he.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,he.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",he.EXP900=$p()?iw():[],he.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Qe{constructor(){}static decode(i,s,c,d,f,p,y){let v=new pi(i,s,c,d,f),w=null,O=null,D;for(let J=!0;;J=!1){if(s!=null&&(w=Qe.getRowIndicatorColumn(i,v,s,!0,p,y)),d!=null&&(O=Qe.getRowIndicatorColumn(i,v,d,!1,p,y)),D=Qe.merge(w,O),D==null)throw L.getNotFoundInstance();let ne=D.getBoundingBox();if(J&&ne!=null&&(ne.getMinY()<v.getMinY()||ne.getMaxY()>v.getMaxY()))v=ne;else break}D.setBoundingBox(v);let z=D.getBarcodeColumnCount()+1;D.setDetectionResultColumn(0,w),D.setDetectionResultColumn(z,O);let V=w!=null;for(let J=1;J<=z;J++){let ne=V?J:z-J;if(D.getDetectionResultColumn(ne)!==void 0)continue;let le;ne===0||ne===z?le=new zp(v,ne===0):le=new ga(v),D.setDetectionResultColumn(ne,le);let pe=-1,Se=pe;for(let Ae=v.getMinY();Ae<=v.getMaxY();Ae++){if(pe=Qe.getStartColumn(D,ne,Ae,V),pe<0||pe>v.getMaxX()){if(Se===-1)continue;pe=Se}let we=Qe.detectCodeword(i,v.getMinX(),v.getMaxX(),V,pe,Ae,p,y);we!=null&&(le.setCodeword(Ae,we),Se=pe,p=Math.min(p,we.getWidth()),y=Math.max(y,we.getWidth()))}}return Qe.createDecoderResult(D)}static merge(i,s){if(i==null&&s==null)return null;let c=Qe.getBarcodeMetadata(i,s);if(c==null)return null;let d=pi.merge(Qe.adjustBoundingBox(i),Qe.adjustBoundingBox(s));return new ma(c,d)}static adjustBoundingBox(i){if(i==null)return null;let s=i.getRowHeights();if(s==null)return null;let c=Qe.getMax(s),d=0;for(let y of s)if(d+=c-y,y>0)break;let f=i.getCodewords();for(let y=0;d>0&&f[y]==null;y++)d--;let p=0;for(let y=s.length-1;y>=0&&(p+=c-s[y],!(s[y]>0));y--);for(let y=f.length-1;p>0&&f[y]==null;y--)p--;return i.getBoundingBox().addMissingRows(d,p,i.isLeft())}static getMax(i){let s=-1;for(let c of i)s=Math.max(s,c);return s}static getBarcodeMetadata(i,s){let c;if(i==null||(c=i.getBarcodeMetadata())==null)return s==null?null:s.getBarcodeMetadata();let d;return s==null||(d=s.getBarcodeMetadata())==null?c:c.getColumnCount()!==d.getColumnCount()&&c.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&c.getRowCount()!==d.getRowCount()?null:c}static getRowIndicatorColumn(i,s,c,d,f,p){let y=new zp(s,d);for(let v=0;v<2;v++){let w=v===0?1:-1,O=Math.trunc(Math.trunc(c.getX()));for(let D=Math.trunc(Math.trunc(c.getY()));D<=s.getMaxY()&&D>=s.getMinY();D+=w){let z=Qe.detectCodeword(i,0,i.getWidth(),d,O,D,f,p);z!=null&&(y.setCodeword(D,z),d?O=z.getStartX():O=z.getEndX())}}return y}static adjustCodewordCount(i,s){let c=s[0][1],d=c.getValue(),f=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-Qe.getNumberOfECCodeWords(i.getBarcodeECLevel());if(d.length===0){if(f<1||f>He.MAX_CODEWORDS_IN_BARCODE)throw L.getNotFoundInstance();c.setValue(f)}else d[0]!==f&&c.setValue(f)}static createDecoderResult(i){let s=Qe.createBarcodeMatrix(i);Qe.adjustCodewordCount(i,s);let c=new Array,d=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),f=[],p=new Array;for(let v=0;v<i.getBarcodeRowCount();v++)for(let w=0;w<i.getBarcodeColumnCount();w++){let O=s[v][w+1].getValue(),D=v*i.getBarcodeColumnCount()+w;O.length===0?c.push(D):O.length===1?d[D]=O[0]:(p.push(D),f.push(O))}let y=new Array(f.length);for(let v=0;v<y.length;v++)y[v]=f[v];return Qe.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),d,He.toIntArray(c),He.toIntArray(p),y)}static createDecoderResultFromAmbiguousValues(i,s,c,d,f){let p=new Int32Array(d.length),y=100;for(;y-- >0;){for(let v=0;v<p.length;v++)s[d[v]]=f[v][p[v]];try{return Qe.decodeCodewords(s,i,c)}catch(v){if(!(v instanceof C))throw v}if(p.length===0)throw C.getChecksumInstance();for(let v=0;v<p.length;v++)if(p[v]<f[v].length-1){p[v]++;break}else if(p[v]=0,v===p.length-1)throw C.getChecksumInstance()}throw C.getChecksumInstance()}static createBarcodeMatrix(i){let s=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let d=0;d<s.length;d++)for(let f=0;f<s[d].length;f++)s[d][f]=new ya;let c=0;for(let d of i.getDetectionResultColumns()){if(d!=null){for(let f of d.getCodewords())if(f!=null){let p=f.getRowNumber();if(p>=0){if(p>=s.length)continue;s[p][c].setValue(f.getValue())}}}c++}return s}static isValidBarcodeColumn(i,s){return s>=0&&s<=i.getBarcodeColumnCount()+1}static getStartColumn(i,s,c,d){let f=d?1:-1,p=null;if(Qe.isValidBarcodeColumn(i,s-f)&&(p=i.getDetectionResultColumn(s-f).getCodeword(c)),p!=null)return d?p.getEndX():p.getStartX();if(p=i.getDetectionResultColumn(s).getCodewordNearby(c),p!=null)return d?p.getStartX():p.getEndX();if(Qe.isValidBarcodeColumn(i,s-f)&&(p=i.getDetectionResultColumn(s-f).getCodewordNearby(c)),p!=null)return d?p.getEndX():p.getStartX();let y=0;for(;Qe.isValidBarcodeColumn(i,s-f);){s-=f;for(let v of i.getDetectionResultColumn(s).getCodewords())if(v!=null)return(d?v.getEndX():v.getStartX())+f*y*(v.getEndX()-v.getStartX());y++}return d?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,s,c,d,f,p,y,v){f=Qe.adjustCodewordStartColumn(i,s,c,d,f,p);let w=Qe.getModuleBitCount(i,s,c,d,f,p);if(w==null)return null;let O,D=ye.sum(w);if(d)O=f+D;else{for(let J=0;J<w.length/2;J++){let ne=w[J];w[J]=w[w.length-1-J],w[w.length-1-J]=ne}O=f,f=O-D}if(!Qe.checkCodewordSkew(D,y,v))return null;let z=bn.getDecodedValue(w),V=He.getCodeword(z);return V===-1?null:new ba(f,O,Qe.getCodewordBucketNumber(z),V)}static getModuleBitCount(i,s,c,d,f,p){let y=f,v=new Int32Array(8),w=0,O=d?1:-1,D=d;for(;(d?y<c:y>=s)&&w<v.length;)i.get(y,p)===D?(v[w]++,y+=O):(w++,D=!D);return w===v.length||y===(d?c:s)&&w===v.length-1?v:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,s,c,d,f,p){let y=f,v=d?-1:1;for(let w=0;w<2;w++){for(;(d?y>=s:y<c)&&d===i.get(y,p);){if(Math.abs(f-y)>Qe.CODEWORD_SKEW_SIZE)return f;y+=v}v=-v,d=!d}return y}static checkCodewordSkew(i,s,c){return s-Qe.CODEWORD_SKEW_SIZE<=i&&i<=c+Qe.CODEWORD_SKEW_SIZE}static decodeCodewords(i,s,c){if(i.length===0)throw k.getFormatInstance();let d=1<<s+1,f=Qe.correctErrors(i,c,d);Qe.verifyCodewordCount(i,d);let p=he.decode(i,""+s);return p.setErrorsCorrected(f),p.setErasures(c.length),p}static correctErrors(i,s,c){if(s!=null&&s.length>c/2+Qe.MAX_ERRORS||c<0||c>Qe.MAX_EC_CODEWORDS)throw C.getChecksumInstance();return Qe.errorCorrection.decode(i,c,s)}static verifyCodewordCount(i,s){if(i.length<4)throw k.getFormatInstance();let c=i[0];if(c>i.length)throw k.getFormatInstance();if(c===0)if(s<i.length)i[0]=i.length-s;else throw k.getFormatInstance()}static getBitCountForCodeword(i){let s=new Int32Array(8),c=0,d=s.length-1;for(;!((i&1)!==c&&(c=i&1,d--,d<0));)s[d]++,i>>=1;return s}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return Qe.getCodewordBucketNumber(Qe.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let s=new xa;for(let c=0;c<i.length;c++){s.format("Row %2d: ",c);for(let d=0;d<i[c].length;d++){let f=i[c][d];f.getValue().length===0?s.format("        ",null):s.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}s.format("%n")}return s.toString()}}Qe.CODEWORD_SKEW_SIZE=2,Qe.MAX_ERRORS=3,Qe.MAX_EC_CODEWORDS=512,Qe.errorCorrection=new Bp;class nn{decode(i,s=null){let c=nn.decode(i,s,!1);if(c==null||c.length===0||c[0]==null)throw L.getNotFoundInstance();return c[0]}decodeMultiple(i,s=null){try{return nn.decode(i,s,!0)}catch(c){throw c instanceof k||c instanceof C?L.getNotFoundInstance():c}}static decode(i,s,c){const d=new Array,f=Ze.detectMultiple(i,s,c);for(const p of f.getPoints()){const y=Qe.decode(f.getBits(),p[4],p[5],p[6],p[7],nn.getMinCodewordWidth(p),nn.getMaxCodewordWidth(p)),v=new be(y.getText(),y.getRawBytes(),void 0,p,te.PDF_417);v.putMetadata(Ee.ERROR_CORRECTION_LEVEL,y.getECLevel());const w=y.getOther();w!=null&&v.putMetadata(Ee.PDF417_EXTRA_METADATA,w),d.push(v)}return d.map(p=>p)}static getMaxWidth(i,s){return i==null||s==null?0:Math.trunc(Math.abs(i.getX()-s.getX()))}static getMinWidth(i,s){return i==null||s==null?T.MAX_VALUE:Math.trunc(Math.abs(i.getX()-s.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(nn.getMaxWidth(i[0],i[4]),nn.getMaxWidth(i[6],i[2])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN),Math.max(nn.getMaxWidth(i[1],i[5]),nn.getMaxWidth(i[7],i[3])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(nn.getMinWidth(i[0],i[4]),nn.getMinWidth(i[6],i[2])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN),Math.min(nn.getMinWidth(i[1],i[5]),nn.getMinWidth(i[7],i[3])*He.MODULES_IN_CODEWORD/He.MODULES_IN_STOP_PATTERN)))}reset(){}}class Vs extends g{}Vs.kind="ReaderException";class Up{constructor(i,s){this.verbose=i===!0,s&&this.setHints(s)}decode(i,s){return s&&this.setHints(s),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const s=!r(i)&&i.get(N.TRY_HARDER)===!0,c=r(i)?null:i.get(N.POSSIBLE_FORMATS),d=new Array;if(!r(c)){const f=c.some(p=>p===te.UPC_A||p===te.UPC_E||p===te.EAN_13||p===te.EAN_8||p===te.CODABAR||p===te.CODE_39||p===te.CODE_93||p===te.CODE_128||p===te.ITF||p===te.RSS_14||p===te.RSS_EXPANDED);f&&!s&&d.push(new Yi(i,this.verbose)),c.includes(te.QR_CODE)&&d.push(new Gr),c.includes(te.DATA_MATRIX)&&d.push(new Hr),c.includes(te.AZTEC)&&d.push(new di),c.includes(te.PDF_417)&&d.push(new nn),f&&s&&d.push(new Yi(i,this.verbose))}d.length===0&&(s||d.push(new Yi(i,this.verbose)),d.push(new Gr),d.push(new Hr),d.push(new di),d.push(new nn),s&&d.push(new Yi(i,this.verbose))),this.readers=d}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Vs("No readers where selected, nothing can be read.");for(const s of this.readers)try{return s.decode(i,this.hints)}catch(c){if(c instanceof Vs)continue}throw new L("No MultiFormat Readers were able to detect the code.")}}class ow extends de{constructor(i=null,s=500){const c=new Up;c.setHints(i),super(c,s)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class aw extends de{constructor(i=500){super(new nn,i)}}class sw extends de{constructor(i=500){super(new Gr,i)}}var Dd;(function(M){M[M.ERROR_CORRECTION=0]="ERROR_CORRECTION",M[M.CHARACTER_SET=1]="CHARACTER_SET",M[M.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",M[M.MIN_SIZE=3]="MIN_SIZE",M[M.MAX_SIZE=4]="MAX_SIZE",M[M.MARGIN=5]="MARGIN",M[M.PDF417_COMPACT=6]="PDF417_COMPACT",M[M.PDF417_COMPACTION=7]="PDF417_COMPACTION",M[M.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",M[M.AZTEC_LAYERS=9]="AZTEC_LAYERS",M[M.QR_VERSION=10]="QR_VERSION"})(Dd||(Dd={}));var Vt=Dd;class Bd{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new Te(i,Int32Array.from([1])))}buildGenerator(i){const s=this.cachedGenerators;if(i>=s.length){let c=s[s.length-1];const d=this.field;for(let f=s.length;f<=i;f++){const p=c.multiply(new Te(d,Int32Array.from([1,d.exp(f-1+d.getGeneratorBase())])));s.push(p),c=p}}return s[i]}encode(i,s){if(s===0)throw new m("No error correction bytes");const c=i.length-s;if(c<=0)throw new m("No data bytes provided");const d=this.buildGenerator(s),f=new Int32Array(c);j.arraycopy(i,0,f,0,c);let p=new Te(this.field,f);p=p.multiplyByMonomial(s,1);const v=p.divide(d)[1].getCoefficients(),w=s-v.length;for(let O=0;O<w;O++)i[c+O]=0;j.arraycopy(v,0,i,c+w,v.length)}}class Mt{constructor(){}static applyMaskPenaltyRule1(i){return Mt.applyMaskPenaltyRule1Internal(i,!0)+Mt.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let s=0;const c=i.getArray(),d=i.getWidth(),f=i.getHeight();for(let p=0;p<f-1;p++){const y=c[p];for(let v=0;v<d-1;v++){const w=y[v];w===y[v+1]&&w===c[p+1][v]&&w===c[p+1][v+1]&&s++}}return Mt.N2*s}static applyMaskPenaltyRule3(i){let s=0;const c=i.getArray(),d=i.getWidth(),f=i.getHeight();for(let p=0;p<f;p++)for(let y=0;y<d;y++){const v=c[p];y+6<d&&v[y]===1&&v[y+1]===0&&v[y+2]===1&&v[y+3]===1&&v[y+4]===1&&v[y+5]===0&&v[y+6]===1&&(Mt.isWhiteHorizontal(v,y-4,y)||Mt.isWhiteHorizontal(v,y+7,y+11))&&s++,p+6<f&&c[p][y]===1&&c[p+1][y]===0&&c[p+2][y]===1&&c[p+3][y]===1&&c[p+4][y]===1&&c[p+5][y]===0&&c[p+6][y]===1&&(Mt.isWhiteVertical(c,y,p-4,p)||Mt.isWhiteVertical(c,y,p+7,p+11))&&s++}return s*Mt.N3}static isWhiteHorizontal(i,s,c){s=Math.max(s,0),c=Math.min(c,i.length);for(let d=s;d<c;d++)if(i[d]===1)return!1;return!0}static isWhiteVertical(i,s,c,d){c=Math.max(c,0),d=Math.min(d,i.length);for(let f=c;f<d;f++)if(i[f][s]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let s=0;const c=i.getArray(),d=i.getWidth(),f=i.getHeight();for(let v=0;v<f;v++){const w=c[v];for(let O=0;O<d;O++)w[O]===1&&s++}const p=i.getHeight()*i.getWidth();return Math.floor(Math.abs(s*2-p)*10/p)*Mt.N4}static getDataMaskBit(i,s,c){let d,f;switch(i){case 0:d=c+s&1;break;case 1:d=c&1;break;case 2:d=s%3;break;case 3:d=(c+s)%3;break;case 4:d=Math.floor(c/2)+Math.floor(s/3)&1;break;case 5:f=c*s,d=(f&1)+f%3;break;case 6:f=c*s,d=(f&1)+f%3&1;break;case 7:f=c*s,d=f%3+(c+s&1)&1;break;default:throw new m("Invalid mask pattern: "+i)}return d===0}static applyMaskPenaltyRule1Internal(i,s){let c=0;const d=s?i.getHeight():i.getWidth(),f=s?i.getWidth():i.getHeight(),p=i.getArray();for(let y=0;y<d;y++){let v=0,w=-1;for(let O=0;O<f;O++){const D=s?p[y][O]:p[O][y];D===w?v++:(v>=5&&(c+=Mt.N1+(v-5)),v=1,w=D)}v>=5&&(c+=Mt.N1+(v-5))}return c}}Mt.N1=3,Mt.N2=3,Mt.N3=40,Mt.N4=10;class Hs{constructor(i,s){this.width=i,this.height=s;const c=new Array(s);for(let d=0;d!==s;d++)c[d]=new Uint8Array(i);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(i,s){return this.bytes[s][i]}getArray(){return this.bytes}setNumber(i,s,c){this.bytes[s][i]=c}setBoolean(i,s,c){this.bytes[s][i]=c?1:0}clear(i){for(const s of this.bytes)_.fill(s,i)}equals(i){if(!(i instanceof Hs))return!1;const s=i;if(this.width!==s.width||this.height!==s.height)return!1;for(let c=0,d=this.height;c<d;++c){const f=this.bytes[c],p=s.bytes[c];for(let y=0,v=this.width;y<v;++y)if(f[y]!==p[y])return!1}return!0}toString(){const i=new re;for(let s=0,c=this.height;s<c;++s){const d=this.bytes[s];for(let f=0,p=this.width;f<p;++f)switch(d[f]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class xi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new re;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<xi.NUM_MASK_PATTERNS}}xi.NUM_MASK_PATTERNS=8;class gt extends g{}gt.kind="WriterException";class Ue{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,s,c,d,f){Ue.clearMatrix(f),Ue.embedBasicPatterns(c,f),Ue.embedTypeInfo(s,d,f),Ue.maybeEmbedVersionInfo(c,f),Ue.embedDataBits(i,d,f)}static embedBasicPatterns(i,s){Ue.embedPositionDetectionPatternsAndSeparators(s),Ue.embedDarkDotAtLeftBottomCorner(s),Ue.maybeEmbedPositionAdjustmentPatterns(i,s),Ue.embedTimingPatterns(s)}static embedTypeInfo(i,s,c){const d=new P;Ue.makeTypeInfoBits(i,s,d);for(let f=0,p=d.getSize();f<p;++f){const y=d.get(d.getSize()-1-f),v=Ue.TYPE_INFO_COORDINATES[f],w=v[0],O=v[1];if(c.setBoolean(w,O,y),f<8){const D=c.getWidth()-f-1;c.setBoolean(D,8,y)}else{const z=c.getHeight()-7+(f-8);c.setBoolean(8,z,y)}}}static maybeEmbedVersionInfo(i,s){if(i.getVersionNumber()<7)return;const c=new P;Ue.makeVersionInfoBits(i,c);let d=6*3-1;for(let f=0;f<6;++f)for(let p=0;p<3;++p){const y=c.get(d);d--,s.setBoolean(f,s.getHeight()-11+p,y),s.setBoolean(s.getHeight()-11+p,f,y)}}static embedDataBits(i,s,c){let d=0,f=-1,p=c.getWidth()-1,y=c.getHeight()-1;for(;p>0;){for(p===6&&(p-=1);y>=0&&y<c.getHeight();){for(let v=0;v<2;++v){const w=p-v;if(!Ue.isEmpty(c.get(w,y)))continue;let O;d<i.getSize()?(O=i.get(d),++d):O=!1,s!==255&&Mt.getDataMaskBit(s,w,y)&&(O=!O),c.setBoolean(w,y,O)}y+=f}f=-f,y+=f,p-=2}if(d!==i.getSize())throw new gt("Not all bits consumed: "+d+"/"+i.getSize())}static findMSBSet(i){return 32-T.numberOfLeadingZeros(i)}static calculateBCHCode(i,s){if(s===0)throw new m("0 polynomial");const c=Ue.findMSBSet(s);for(i<<=c-1;Ue.findMSBSet(i)>=c;)i^=s<<Ue.findMSBSet(i)-c;return i}static makeTypeInfoBits(i,s,c){if(!xi.isValidMaskPattern(s))throw new gt("Invalid mask pattern");const d=i.getBits()<<3|s;c.appendBits(d,5);const f=Ue.calculateBCHCode(d,Ue.TYPE_INFO_POLY);c.appendBits(f,10);const p=new P;if(p.appendBits(Ue.TYPE_INFO_MASK_PATTERN,15),c.xor(p),c.getSize()!==15)throw new gt("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(i,s){s.appendBits(i.getVersionNumber(),6);const c=Ue.calculateBCHCode(i.getVersionNumber(),Ue.VERSION_INFO_POLY);if(s.appendBits(c,12),s.getSize()!==18)throw new gt("should not happen but we got: "+s.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let s=8;s<i.getWidth()-8;++s){const c=(s+1)%2;Ue.isEmpty(i.get(s,6))&&i.setNumber(s,6,c),Ue.isEmpty(i.get(6,s))&&i.setNumber(6,s,c)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new gt;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,s,c){for(let d=0;d<8;++d){if(!Ue.isEmpty(c.get(i+d,s)))throw new gt;c.setNumber(i+d,s,0)}}static embedVerticalSeparationPattern(i,s,c){for(let d=0;d<7;++d){if(!Ue.isEmpty(c.get(i,s+d)))throw new gt;c.setNumber(i,s+d,0)}}static embedPositionAdjustmentPattern(i,s,c){for(let d=0;d<5;++d){const f=Ue.POSITION_ADJUSTMENT_PATTERN[d];for(let p=0;p<5;++p)c.setNumber(i+p,s+d,f[p])}}static embedPositionDetectionPattern(i,s,c){for(let d=0;d<7;++d){const f=Ue.POSITION_DETECTION_PATTERN[d];for(let p=0;p<7;++p)c.setNumber(i+p,s+d,f[p])}}static embedPositionDetectionPatternsAndSeparators(i){const s=Ue.POSITION_DETECTION_PATTERN[0].length;Ue.embedPositionDetectionPattern(0,0,i),Ue.embedPositionDetectionPattern(i.getWidth()-s,0,i),Ue.embedPositionDetectionPattern(0,i.getWidth()-s,i);const c=8;Ue.embedHorizontalSeparationPattern(0,c-1,i),Ue.embedHorizontalSeparationPattern(i.getWidth()-c,c-1,i),Ue.embedHorizontalSeparationPattern(0,i.getWidth()-c,i);const d=7;Ue.embedVerticalSeparationPattern(d,0,i),Ue.embedVerticalSeparationPattern(i.getHeight()-d-1,0,i),Ue.embedVerticalSeparationPattern(d,i.getHeight()-d,i)}static maybeEmbedPositionAdjustmentPatterns(i,s){if(i.getVersionNumber()<2)return;const c=i.getVersionNumber()-1,d=Ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let f=0,p=d.length;f!==p;f++){const y=d[f];if(y>=0)for(let v=0;v!==p;v++){const w=d[v];w>=0&&Ue.isEmpty(s.get(w,y))&&Ue.embedPositionAdjustmentPattern(w-2,y-2,s)}}}}Ue.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ue.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ue.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ue.VERSION_INFO_POLY=7973,Ue.TYPE_INFO_POLY=1335,Ue.TYPE_INFO_MASK_PATTERN=21522;class lw{constructor(i,s){this.dataBytes=i,this.errorCorrectionBytes=s}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ct{constructor(){}static calculateMaskPenalty(i){return Mt.applyMaskPenaltyRule1(i)+Mt.applyMaskPenaltyRule2(i)+Mt.applyMaskPenaltyRule3(i)+Mt.applyMaskPenaltyRule4(i)}static encode(i,s,c=null){let d=Ct.DEFAULT_BYTE_MODE_ENCODING;const f=c!==null&&c.get(Vt.CHARACTER_SET)!==void 0;f&&(d=c.get(Vt.CHARACTER_SET).toString());const p=this.chooseMode(i,d),y=new P;if(p===We.BYTE&&(f||Ct.DEFAULT_BYTE_MODE_ENCODING!==d)){const Ae=F.getCharacterSetECIByName(d);Ae!==void 0&&this.appendECI(Ae,y)}this.appendModeInfo(p,y);const v=new P;this.appendBytes(i,p,v,d);let w;if(c!==null&&c.get(Vt.QR_VERSION)!==void 0){const Ae=Number.parseInt(c.get(Vt.QR_VERSION).toString(),10);w=Le.getVersionForNumber(Ae);const we=this.calculateBitsNeeded(p,y,v,w);if(!this.willFit(we,w,s))throw new gt("Data too big for requested version")}else w=this.recommendVersion(s,p,y,v);const O=new P;O.appendBitArray(y);const D=p===We.BYTE?v.getSizeInBytes():i.length;this.appendLengthInfo(D,w,p,O),O.appendBitArray(v);const z=w.getECBlocksForLevel(s),V=w.getTotalCodewords()-z.getTotalECCodewords();this.terminateBits(V,O);const J=this.interleaveWithECBytes(O,w.getTotalCodewords(),V,z.getNumBlocks()),ne=new xi;ne.setECLevel(s),ne.setMode(p),ne.setVersion(w);const le=w.getDimensionForVersion(),pe=new Hs(le,le),Se=this.chooseMaskPattern(J,s,w,pe);return ne.setMaskPattern(Se),Ue.buildMatrix(J,s,w,Se,pe),ne.setMatrix(pe),ne}static recommendVersion(i,s,c,d){const f=this.calculateBitsNeeded(s,c,d,Le.getVersionForNumber(1)),p=this.chooseVersion(f,i),y=this.calculateBitsNeeded(s,c,d,p);return this.chooseVersion(y,i)}static calculateBitsNeeded(i,s,c,d){return s.getSize()+i.getCharacterCountBits(d)+c.getSize()}static getAlphanumericCode(i){return i<Ct.ALPHANUMERIC_TABLE.length?Ct.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,s=null){if(F.SJIS.getName()===s&&this.isOnlyDoubleByteKanji(i))return We.KANJI;let c=!1,d=!1;for(let f=0,p=i.length;f<p;++f){const y=i.charAt(f);if(Ct.isDigit(y))c=!0;else if(this.getAlphanumericCode(y.charCodeAt(0))!==-1)d=!0;else return We.BYTE}return d?We.ALPHANUMERIC:c?We.NUMERIC:We.BYTE}static isOnlyDoubleByteKanji(i){let s;try{s=H.encode(i,F.SJIS)}catch{return!1}const c=s.length;if(c%2!==0)return!1;for(let d=0;d<c;d+=2){const f=s[d]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0}static chooseMaskPattern(i,s,c,d){let f=Number.MAX_SAFE_INTEGER,p=-1;for(let y=0;y<xi.NUM_MASK_PATTERNS;y++){Ue.buildMatrix(i,s,c,y,d);let v=this.calculateMaskPenalty(d);v<f&&(f=v,p=y)}return p}static chooseVersion(i,s){for(let c=1;c<=40;c++){const d=Le.getVersionForNumber(c);if(Ct.willFit(i,d,s))return d}throw new gt("Data too big")}static willFit(i,s,c){const d=s.getTotalCodewords(),p=s.getECBlocksForLevel(c).getTotalECCodewords(),y=d-p,v=(i+7)/8;return y>=v}static terminateBits(i,s){const c=i*8;if(s.getSize()>c)throw new gt("data bits cannot fit in the QR Code"+s.getSize()+" > "+c);for(let p=0;p<4&&s.getSize()<c;++p)s.appendBit(!1);const d=s.getSize()&7;if(d>0)for(let p=d;p<8;p++)s.appendBit(!1);const f=i-s.getSizeInBytes();for(let p=0;p<f;++p)s.appendBits(p&1?17:236,8);if(s.getSize()!==c)throw new gt("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,s,c,d,f,p){if(d>=c)throw new gt("Block ID too large");const y=i%c,v=c-y,w=Math.floor(i/c),O=w+1,D=Math.floor(s/c),z=D+1,V=w-D,J=O-z;if(V!==J)throw new gt("EC bytes mismatch");if(c!==v+y)throw new gt("RS blocks mismatch");if(i!==(D+V)*v+(z+J)*y)throw new gt("Total bytes mismatch");d<v?(f[0]=D,p[0]=V):(f[0]=z,p[0]=J)}static interleaveWithECBytes(i,s,c,d){if(i.getSizeInBytes()!==c)throw new gt("Number of bits and data bytes does not match");let f=0,p=0,y=0;const v=new Array;for(let O=0;O<d;++O){const D=new Int32Array(1),z=new Int32Array(1);Ct.getNumDataBytesAndNumECBytesForBlockID(s,c,d,O,D,z);const V=D[0],J=new Uint8Array(V);i.toBytes(8*f,J,0,V);const ne=Ct.generateECBytes(J,z[0]);v.push(new lw(J,ne)),p=Math.max(p,V),y=Math.max(y,ne.length),f+=D[0]}if(c!==f)throw new gt("Data bytes does not match offset");const w=new P;for(let O=0;O<p;++O)for(const D of v){const z=D.getDataBytes();O<z.length&&w.appendBits(z[O],8)}for(let O=0;O<y;++O)for(const D of v){const z=D.getErrorCorrectionBytes();O<z.length&&w.appendBits(z[O],8)}if(s!==w.getSizeInBytes())throw new gt("Interleaving error: "+s+" and "+w.getSizeInBytes()+" differ.");return w}static generateECBytes(i,s){const c=i.length,d=new Int32Array(c+s);for(let p=0;p<c;p++)d[p]=i[p]&255;new Bd(se.QR_CODE_FIELD_256).encode(d,s);const f=new Uint8Array(s);for(let p=0;p<s;p++)f[p]=d[c+p];return f}static appendModeInfo(i,s){s.appendBits(i.getBits(),4)}static appendLengthInfo(i,s,c,d){const f=c.getCharacterCountBits(s);if(i>=1<<f)throw new gt(i+" is bigger than "+((1<<f)-1));d.appendBits(i,f)}static appendBytes(i,s,c,d){switch(s){case We.NUMERIC:Ct.appendNumericBytes(i,c);break;case We.ALPHANUMERIC:Ct.appendAlphanumericBytes(i,c);break;case We.BYTE:Ct.append8BitBytes(i,c,d);break;case We.KANJI:Ct.appendKanjiBytes(i,c);break;default:throw new gt("Invalid mode: "+s)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const s=Ct.getDigit(i);return s>=0&&s<=9}static appendNumericBytes(i,s){const c=i.length;let d=0;for(;d<c;){const f=Ct.getDigit(i.charAt(d));if(d+2<c){const p=Ct.getDigit(i.charAt(d+1)),y=Ct.getDigit(i.charAt(d+2));s.appendBits(f*100+p*10+y,10),d+=3}else if(d+1<c){const p=Ct.getDigit(i.charAt(d+1));s.appendBits(f*10+p,7),d+=2}else s.appendBits(f,4),d++}}static appendAlphanumericBytes(i,s){const c=i.length;let d=0;for(;d<c;){const f=Ct.getAlphanumericCode(i.charCodeAt(d));if(f===-1)throw new gt;if(d+1<c){const p=Ct.getAlphanumericCode(i.charCodeAt(d+1));if(p===-1)throw new gt;s.appendBits(f*45+p,11),d+=2}else s.appendBits(f,6),d++}}static append8BitBytes(i,s,c){let d;try{d=H.encode(i,c)}catch(f){throw new gt(f)}for(let f=0,p=d.length;f!==p;f++){const y=d[f];s.appendBits(y,8)}}static appendKanjiBytes(i,s){let c;try{c=H.encode(i,F.SJIS)}catch(f){throw new gt(f)}const d=c.length;for(let f=0;f<d;f+=2){const p=c[f]&255,y=c[f+1]&255,v=p<<8&4294967295|y;let w=-1;if(v>=33088&&v<=40956?w=v-33088:v>=57408&&v<=60351&&(w=v-49472),w===-1)throw new gt("Invalid byte sequence");const O=(w>>8)*192+(w&255);s.appendBits(O,13)}}static appendECI(i,s){s.appendBits(We.ECI.getBits(),4),s.appendBits(i.getValue(),8)}}Ct.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ct.DEFAULT_BYTE_MODE_ENCODING=F.UTF8.getName();class gi{write(i,s,c,d=null){if(i.length===0)throw new m("Found empty contents");if(s<0||c<0)throw new m("Requested dimensions are too small: "+s+"x"+c);let f=bt.L,p=gi.QUIET_ZONE_SIZE;d!==null&&(d.get(Vt.ERROR_CORRECTION)!==void 0&&(f=bt.fromString(d.get(Vt.ERROR_CORRECTION).toString())),d.get(Vt.MARGIN)!==void 0&&(p=Number.parseInt(d.get(Vt.MARGIN).toString(),10)));const y=Ct.encode(i,f,d);return this.renderResult(y,s,c,p)}writeToDom(i,s,c,d,f=null){typeof i=="string"&&(i=document.querySelector(i));const p=this.write(s,c,d,f);i&&i.appendChild(p)}renderResult(i,s,c,d){const f=i.getMatrix();if(f===null)throw new _e;const p=f.getWidth(),y=f.getHeight(),v=p+d*2,w=y+d*2,O=Math.max(s,v),D=Math.max(c,w),z=Math.min(Math.floor(O/v),Math.floor(D/w)),V=Math.floor((O-p*z)/2),J=Math.floor((D-y*z)/2),ne=this.createSVGElement(O,D);for(let le=0,pe=J;le<y;le++,pe+=z)for(let Se=0,Ae=V;Se<p;Se++,Ae+=z)if(f.get(Se,le)===1){const we=this.createSvgRectElement(Ae,pe,z,z);ne.appendChild(we)}return ne}createSVGElement(i,s){const c=document.createElementNS(gi.SVG_NS,"svg");return c.setAttributeNS(null,"height",i.toString()),c.setAttributeNS(null,"width",s.toString()),c}createSvgRectElement(i,s,c,d){const f=document.createElementNS(gi.SVG_NS,"rect");return f.setAttributeNS(null,"x",i.toString()),f.setAttributeNS(null,"y",s.toString()),f.setAttributeNS(null,"height",c.toString()),f.setAttributeNS(null,"width",d.toString()),f.setAttributeNS(null,"fill","#000000"),f}}gi.QUIET_ZONE_SIZE=4,gi.SVG_NS="http://www.w3.org/2000/svg";class Ki{encode(i,s,c,d,f){if(i.length===0)throw new m("Found empty contents");if(s!==te.QR_CODE)throw new m("Can only encode QR_CODE, but got "+s);if(c<0||d<0)throw new m(`Requested dimensions are too small: ${c}x${d}`);let p=bt.L,y=Ki.QUIET_ZONE_SIZE;f!==null&&(f.get(Vt.ERROR_CORRECTION)!==void 0&&(p=bt.fromString(f.get(Vt.ERROR_CORRECTION).toString())),f.get(Vt.MARGIN)!==void 0&&(y=Number.parseInt(f.get(Vt.MARGIN).toString(),10)));const v=Ct.encode(i,p,f);return Ki.renderResult(v,c,d,y)}static renderResult(i,s,c,d){const f=i.getMatrix();if(f===null)throw new _e;const p=f.getWidth(),y=f.getHeight(),v=p+d*2,w=y+d*2,O=Math.max(s,v),D=Math.max(c,w),z=Math.min(Math.floor(O/v),Math.floor(D/w)),V=Math.floor((O-p*z)/2),J=Math.floor((D-y*z)/2),ne=new ae(O,D);for(let le=0,pe=J;le<y;le++,pe+=z)for(let Se=0,Ae=V;Se<p;Se++,Ae+=z)f.get(Se,le)===1&&ne.setRegion(Ae,pe,z,z);return ne}}Ki.QUIET_ZONE_SIZE=4;class cw{encode(i,s,c,d,f){let p;switch(s){case te.QR_CODE:p=new Ki;break;default:throw new m("No encoder available for format "+s)}return p.encode(i,s,c,d,f)}}class cr extends ue{constructor(i,s,c,d,f,p,y,v){if(super(p,y),this.yuvData=i,this.dataWidth=s,this.dataHeight=c,this.left=d,this.top=f,d+p>s||f+y>c)throw new m("Crop rectangle does not fit within image data.");v&&this.reverseHorizontal(p,y)}getRow(i,s){if(i<0||i>=this.getHeight())throw new m("Requested row is outside the image: "+i);const c=this.getWidth();(s==null||s.length<c)&&(s=new Uint8ClampedArray(c));const d=(i+this.top)*this.dataWidth+this.left;return j.arraycopy(this.yuvData,d,s,0,c),s}getMatrix(){const i=this.getWidth(),s=this.getHeight();if(i===this.dataWidth&&s===this.dataHeight)return this.yuvData;const c=i*s,d=new Uint8ClampedArray(c);let f=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return j.arraycopy(this.yuvData,f,d,0,c),d;for(let p=0;p<s;p++){const y=p*i;j.arraycopy(this.yuvData,f,d,y,i),f+=this.dataWidth}return d}isCropSupported(){return!0}crop(i,s,c,d){return new cr(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+s,c,d,!1)}renderThumbnail(){const i=this.getWidth()/cr.THUMBNAIL_SCALE_FACTOR,s=this.getHeight()/cr.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(i*s),d=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let p=0;p<s;p++){const y=p*i;for(let v=0;v<i;v++){const w=d[f+v*cr.THUMBNAIL_SCALE_FACTOR]&255;c[y+v]=4278190080|w*65793}f+=this.dataWidth*cr.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/cr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/cr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,s){const c=this.yuvData;for(let d=0,f=this.top*this.dataWidth+this.left;d<s;d++,f+=this.dataWidth){const p=f+i/2;for(let y=f,v=f+i-1;y<p;y++,v--){const w=c[y];c[y]=c[v],c[v]=w}}}invert(){return new $(this)}}cr.THUMBNAIL_SCALE_FACTOR=2;class zd extends ue{constructor(i,s,c,d,f,p,y){if(super(s,c),this.dataWidth=d,this.dataHeight=f,this.left=p,this.top=y,i.BYTES_PER_ELEMENT===4){const v=s*c,w=new Uint8ClampedArray(v);for(let O=0;O<v;O++){const D=i[O],z=D>>16&255,V=D>>7&510,J=D&255;w[O]=(z+V+J)/4&255}this.luminances=w}else this.luminances=i;if(d===void 0&&(this.dataWidth=s),f===void 0&&(this.dataHeight=c),p===void 0&&(this.left=0),y===void 0&&(this.top=0),this.left+s>this.dataWidth||this.top+c>this.dataHeight)throw new m("Crop rectangle does not fit within image data.")}getRow(i,s){if(i<0||i>=this.getHeight())throw new m("Requested row is outside the image: "+i);const c=this.getWidth();(s==null||s.length<c)&&(s=new Uint8ClampedArray(c));const d=(i+this.top)*this.dataWidth+this.left;return j.arraycopy(this.luminances,d,s,0,c),s}getMatrix(){const i=this.getWidth(),s=this.getHeight();if(i===this.dataWidth&&s===this.dataHeight)return this.luminances;const c=i*s,d=new Uint8ClampedArray(c);let f=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return j.arraycopy(this.luminances,f,d,0,c),d;for(let p=0;p<s;p++){const y=p*i;j.arraycopy(this.luminances,f,d,y,i),f+=this.dataWidth}return d}isCropSupported(){return!0}crop(i,s,c,d){return new zd(this.luminances,c,d,this.dataWidth,this.dataHeight,this.left+i,this.top+s)}invert(){return new $(this)}}class Vp extends F{static forName(i){return this.getCharacterSetECIByName(i)}}class Ld{}Ld.ISO_8859_1=F.ISO8859_1;class Hp{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class Gp{static singletonList(i){return[i]}static min(i,s){return i.sort(s)[0]}}class dw{constructor(i){this.previous=i}getPrevious(){return this.previous}}class Zi extends dw{constructor(i,s,c){super(i),this.value=s,this.bitCount=c}appendTo(i,s){i.appendBits(this.value,this.bitCount)}add(i,s){return new Zi(this,i,s)}addBinaryShift(i,s){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Zi(this,i,s)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+T.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class Wd extends Zi{constructor(i,s,c){super(i,0,0),this.binaryShiftStart=s,this.binaryShiftByteCount=c}appendTo(i,s){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):c===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(s[this.binaryShiftStart+c],8)}addBinaryShift(i,s){return new Wd(this,i,s)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function uw(M,i,s){return new Wd(M,i,s)}function va(M,i,s){return new Zi(M,i,s)}const fw=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Yr=0,Gs=1,Wn=2,Xp=3,dr=4,hw=new Zi(null,0,0),Fd=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function pw(M){for(let i of M)_.fill(i,-1);return M[Yr][dr]=0,M[Gs][dr]=0,M[Gs][Yr]=28,M[Xp][dr]=0,M[Wn][dr]=0,M[Wn][Yr]=15,M}const Yp=pw(_.createInt32Array(6,6));class ur{constructor(i,s,c,d){this.token=i,this.mode=s,this.binaryShiftByteCount=c,this.bitCount=d}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,s){let c=this.bitCount,d=this.token;if(i!==this.mode){let p=Fd[this.mode][i];d=va(d,p&65535,p>>16),c+=p>>16}let f=i===Wn?4:5;return d=va(d,s,f),new ur(d,i,0,c+f)}shiftAndAppend(i,s){let c=this.token,d=this.mode===Wn?4:5;return c=va(c,Yp[this.mode][i],d),c=va(c,s,5),new ur(c,this.mode,0,this.bitCount+d+5)}addBinaryShiftChar(i){let s=this.token,c=this.mode,d=this.bitCount;if(this.mode===dr||this.mode===Wn){let y=Fd[c][Yr];s=va(s,y&65535,y>>16),d+=y>>16,c=Yr}let f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,p=new ur(s,c,this.binaryShiftByteCount+1,d+f);return p.binaryShiftByteCount===2078&&(p=p.endBinaryShift(i+1)),p}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let s=this.token;return s=uw(s,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new ur(s,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let s=this.bitCount+(Fd[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?s+=ur.calculateBinaryShiftCost(i)-ur.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(s+=10),s<=i.bitCount}toBitArray(i){let s=[];for(let d=this.endBinaryShift(i.length).token;d!==null;d=d.getPrevious())s.unshift(d);let c=new P;for(const d of s)d.appendTo(c,i);return c}toString(){return Y.format("%s bits=%d bytes=%d",fw[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}ur.INITIAL_STATE=new ur(hw,Yr,0,0);function xw(M){const i=Y.getCharCode(" "),s=Y.getCharCode("."),c=Y.getCharCode(",");M[Yr][i]=1;const d=Y.getCharCode("Z"),f=Y.getCharCode("A");for(let z=f;z<=d;z++)M[Yr][z]=z-f+2;M[Gs][i]=1;const p=Y.getCharCode("z"),y=Y.getCharCode("a");for(let z=y;z<=p;z++)M[Gs][z]=z-y+2;M[Wn][i]=1;const v=Y.getCharCode("9"),w=Y.getCharCode("0");for(let z=w;z<=v;z++)M[Wn][z]=z-w+2;M[Wn][c]=12,M[Wn][s]=13;const O=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let z=0;z<O.length;z++)M[Xp][Y.getCharCode(O[z])]=z;const D=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let z=0;z<D.length;z++)Y.getCharCode(D[z])>0&&(M[dr][Y.getCharCode(D[z])]=z);return M}const $d=xw(_.createInt32Array(5,256));class wa{constructor(i){this.text=i}encode(){const i=Y.getCharCode(" "),s=Y.getCharCode(`
`);let c=Gp.singletonList(ur.INITIAL_STATE);for(let f=0;f<this.text.length;f++){let p,y=f+1<this.text.length?this.text[f+1]:0;switch(this.text[f]){case Y.getCharCode("\r"):p=y===s?2:0;break;case Y.getCharCode("."):p=y===i?3:0;break;case Y.getCharCode(","):p=y===i?4:0;break;case Y.getCharCode(":"):p=y===i?5:0;break;default:p=0}p>0?(c=wa.updateStateListForPair(c,f,p),f++):c=this.updateStateListForChar(c,f)}return Gp.min(c,(f,p)=>f.getBitCount()-p.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,s){const c=[];for(let d of i)this.updateStateForChar(d,s,c);return wa.simplifyStates(c)}updateStateForChar(i,s,c){let d=this.text[s]&255,f=$d[i.getMode()][d]>0,p=null;for(let y=0;y<=dr;y++){let v=$d[y][d];if(v>0){if(p==null&&(p=i.endBinaryShift(s)),!f||y===i.getMode()||y===Wn){const w=p.latchAndAppend(y,v);c.push(w)}if(!f&&Yp[i.getMode()][y]>=0){const w=p.shiftAndAppend(y,v);c.push(w)}}}if(i.getBinaryShiftByteCount()>0||$d[i.getMode()][d]===0){let y=i.addBinaryShiftChar(s);c.push(y)}}static updateStateListForPair(i,s,c){const d=[];for(let f of i)this.updateStateForPair(f,s,c,d);return this.simplifyStates(d)}static updateStateForPair(i,s,c,d){let f=i.endBinaryShift(s);if(d.push(f.latchAndAppend(dr,c)),i.getMode()!==dr&&d.push(f.shiftAndAppend(dr,c)),c===3||c===4){let p=f.latchAndAppend(Wn,16-c).latchAndAppend(Wn,1);d.push(p)}if(i.getBinaryShiftByteCount()>0){let p=i.addBinaryShiftChar(s).addBinaryShiftChar(s+1);d.push(p)}}static simplifyStates(i){let s=[];for(const c of i){let d=!0;for(const f of s){if(f.isBetterThanOrEqualTo(c)){d=!1;break}c.isBetterThanOrEqualTo(f)&&(s=s.filter(p=>p!==f))}d&&s.push(c)}return s}}class rt{constructor(){}static encodeBytes(i){return rt.encode(i,rt.DEFAULT_EC_PERCENT,rt.DEFAULT_AZTEC_LAYERS)}static encode(i,s,c){let d=new wa(i).encode(),f=T.truncDivision(d.getSize()*s,100)+11,p=d.getSize()+f,y,v,w,O,D;if(c!==rt.DEFAULT_AZTEC_LAYERS){if(y=c<0,v=Math.abs(c),v>(y?rt.MAX_NB_BITS_COMPACT:rt.MAX_NB_BITS))throw new m(Y.format("Illegal value %s for layers",c));w=rt.totalBitsInLayer(v,y),O=rt.WORD_SIZE[v];let we=w-w%O;if(D=rt.stuffBits(d,O),D.getSize()+f>we)throw new m("Data to large for user specified layer");if(y&&D.getSize()>O*64)throw new m("Data to large for user specified layer")}else{O=0,D=null;for(let we=0;;we++){if(we>rt.MAX_NB_BITS)throw new m("Data too large for an Aztec code");if(y=we<=3,v=y?we+1:we,w=rt.totalBitsInLayer(v,y),p>w)continue;(D==null||O!==rt.WORD_SIZE[v])&&(O=rt.WORD_SIZE[v],D=rt.stuffBits(d,O));let et=w-w%O;if(!(y&&D.getSize()>O*64)&&D.getSize()+f<=et)break}}let z=rt.generateCheckWords(D,w,O),V=D.getSize()/O,J=rt.generateModeMessage(y,v,V),ne=(y?11:14)+v*4,le=new Int32Array(ne),pe;if(y){pe=ne;for(let we=0;we<le.length;we++)le[we]=we}else{pe=ne+1+2*T.truncDivision(T.truncDivision(ne,2)-1,15);let we=T.truncDivision(ne,2),et=T.truncDivision(pe,2);for(let qe=0;qe<we;qe++){let vn=qe+T.truncDivision(qe,15);le[we-qe-1]=et-vn-1,le[we+qe]=et+vn+1}}let Se=new ae(pe);for(let we=0,et=0;we<v;we++){let qe=(v-we)*4+(y?9:12);for(let vn=0;vn<qe;vn++){let Kn=vn*2;for(let wn=0;wn<2;wn++)z.get(et+Kn+wn)&&Se.set(le[we*2+wn],le[we*2+vn]),z.get(et+qe*2+Kn+wn)&&Se.set(le[we*2+vn],le[ne-1-we*2-wn]),z.get(et+qe*4+Kn+wn)&&Se.set(le[ne-1-we*2-wn],le[ne-1-we*2-vn]),z.get(et+qe*6+Kn+wn)&&Se.set(le[ne-1-we*2-vn],le[we*2+wn])}et+=qe*8}if(rt.drawModeMessage(Se,y,pe,J),y)rt.drawBullsEye(Se,T.truncDivision(pe,2),5);else{rt.drawBullsEye(Se,T.truncDivision(pe,2),7);for(let we=0,et=0;we<T.truncDivision(ne,2)-1;we+=15,et+=16)for(let qe=T.truncDivision(pe,2)&1;qe<pe;qe+=2)Se.set(T.truncDivision(pe,2)-et,qe),Se.set(T.truncDivision(pe,2)+et,qe),Se.set(qe,T.truncDivision(pe,2)-et),Se.set(qe,T.truncDivision(pe,2)+et)}let Ae=new Hp;return Ae.setCompact(y),Ae.setSize(pe),Ae.setLayers(v),Ae.setCodeWords(V),Ae.setMatrix(Se),Ae}static drawBullsEye(i,s,c){for(let d=0;d<c;d+=2)for(let f=s-d;f<=s+d;f++)i.set(f,s-d),i.set(f,s+d),i.set(s-d,f),i.set(s+d,f);i.set(s-c,s-c),i.set(s-c+1,s-c),i.set(s-c,s-c+1),i.set(s+c,s-c),i.set(s+c,s-c+1),i.set(s+c,s+c-1)}static generateModeMessage(i,s,c){let d=new P;return i?(d.appendBits(s-1,2),d.appendBits(c-1,6),d=rt.generateCheckWords(d,28,4)):(d.appendBits(s-1,5),d.appendBits(c-1,11),d=rt.generateCheckWords(d,40,4)),d}static drawModeMessage(i,s,c,d){let f=T.truncDivision(c,2);if(s)for(let p=0;p<7;p++){let y=f-3+p;d.get(p)&&i.set(y,f-5),d.get(p+7)&&i.set(f+5,y),d.get(20-p)&&i.set(y,f+5),d.get(27-p)&&i.set(f-5,y)}else for(let p=0;p<10;p++){let y=f-5+p+T.truncDivision(p,5);d.get(p)&&i.set(y,f-7),d.get(p+10)&&i.set(f+7,y),d.get(29-p)&&i.set(y,f+7),d.get(39-p)&&i.set(f-7,y)}}static generateCheckWords(i,s,c){let d=i.getSize()/c,f=new Bd(rt.getGF(c)),p=T.truncDivision(s,c),y=rt.bitsToWords(i,c,p);f.encode(y,p-d);let v=s%c,w=new P;w.appendBits(0,v);for(const O of Array.from(y))w.appendBits(O,c);return w}static bitsToWords(i,s,c){let d=new Int32Array(c),f,p;for(f=0,p=i.getSize()/s;f<p;f++){let y=0;for(let v=0;v<s;v++)y|=i.get(f*s+v)?1<<s-v-1:0;d[f]=y}return d}static getGF(i){switch(i){case 4:return se.AZTEC_PARAM;case 6:return se.AZTEC_DATA_6;case 8:return se.AZTEC_DATA_8;case 10:return se.AZTEC_DATA_10;case 12:return se.AZTEC_DATA_12;default:throw new m("Unsupported word size "+i)}}static stuffBits(i,s){let c=new P,d=i.getSize(),f=(1<<s)-2;for(let p=0;p<d;p+=s){let y=0;for(let v=0;v<s;v++)(p+v>=d||i.get(p+v))&&(y|=1<<s-1-v);(y&f)===f?(c.appendBits(y&f,s),p--):y&f?c.appendBits(y,s):(c.appendBits(y|1,s),p--)}return c}static totalBitsInLayer(i,s){return((s?88:112)+16*i)*i}}rt.DEFAULT_EC_PERCENT=33,rt.DEFAULT_AZTEC_LAYERS=0,rt.MAX_NB_BITS=32,rt.MAX_NB_BITS_COMPACT=4,rt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Xs{encode(i,s,c,d){return this.encodeWithHints(i,s,c,d,null)}encodeWithHints(i,s,c,d,f){let p=Ld.ISO_8859_1,y=rt.DEFAULT_EC_PERCENT,v=rt.DEFAULT_AZTEC_LAYERS;return f!=null&&(f.has(Vt.CHARACTER_SET)&&(p=Vp.forName(f.get(Vt.CHARACTER_SET).toString())),f.has(Vt.ERROR_CORRECTION)&&(y=T.parseInt(f.get(Vt.ERROR_CORRECTION).toString())),f.has(Vt.AZTEC_LAYERS)&&(v=T.parseInt(f.get(Vt.AZTEC_LAYERS).toString()))),Xs.encodeLayers(i,s,c,d,p,y,v)}static encodeLayers(i,s,c,d,f,p,y){if(s!==te.AZTEC)throw new m("Can only encode AZTEC, but got "+s);let v=rt.encode(Y.getBytes(i,f),p,y);return Xs.renderResult(v,c,d)}static renderResult(i,s,c){let d=i.getMatrix();if(d==null)throw new _e;let f=d.getWidth(),p=d.getHeight(),y=Math.max(s,f),v=Math.max(c,p),w=Math.min(y/f,v/p),O=(y-f*w)/2,D=(v-p*w)/2,z=new ae(y,v);for(let V=0,J=D;V<p;V++,J+=w)for(let ne=0,le=O;ne<f;ne++,le+=w)d.get(ne,V)&&z.setRegion(le,J,w,w);return z}}n.AbstractExpandedDecoder=Id,n.ArgumentException=b,n.ArithmeticException=ge,n.AztecCode=Hp,n.AztecCodeReader=di,n.AztecCodeWriter=Xs,n.AztecDecoder=Z,n.AztecDetector=Ad,n.AztecDetectorResult=Xe,n.AztecEncoder=rt,n.AztecHighLevelEncoder=wa,n.AztecPoint=Ot,n.BarcodeFormat=te,n.Binarizer=I,n.BinaryBitmap=S,n.BitArray=P,n.BitMatrix=ae,n.BitSource=Rd,n.BrowserAztecCodeReader=F2,n.BrowserBarcodeReader=G2,n.BrowserCodeReader=de,n.BrowserDatamatrixCodeReader=Y2,n.BrowserMultiFormatReader=ow,n.BrowserPDF417Reader=aw,n.BrowserQRCodeReader=sw,n.BrowserQRCodeSvgWriter=gi,n.CharacterSetECI=F,n.ChecksumException=C,n.Code128Reader=Ie,n.Code39Reader=$t,n.DataMatrixDecodedBitStreamParser=Vr,n.DataMatrixReader=Hr,n.DecodeHintType=N,n.DecoderResult=ve,n.DefaultGridSampler=Je,n.DetectorResult=Be,n.EAN13Reader=ui,n.EncodeHintType=Vt,n.Exception=g,n.FormatException=k,n.GenericGF=se,n.GenericGFPoly=Te,n.GlobalHistogramBinarizer=G,n.GridSampler=At,n.GridSamplerInstance=nt,n.HTMLCanvasElementLuminanceSource=B,n.HybridBinarizer=ee,n.ITFReader=xt,n.IllegalArgumentException=m,n.IllegalStateException=_e,n.InvertedLuminanceSource=$,n.LuminanceSource=ue,n.MathUtils=ye,n.MultiFormatOneDReader=Yi,n.MultiFormatReader=Up,n.MultiFormatWriter=cw,n.NotFoundException=L,n.OneDReader=Lt,n.PDF417DecodedBitStreamParser=he,n.PDF417DecoderErrorCorrection=Bp,n.PDF417Reader=nn,n.PDF417ResultMetadata=Lp,n.PerspectiveTransform=Pt,n.PlanarYUVLuminanceSource=cr,n.QRCodeByteMatrix=Hs,n.QRCodeDataMask=zn,n.QRCodeDecodedBitStreamParser=Rt,n.QRCodeDecoderErrorCorrectionLevel=bt,n.QRCodeDecoderFormatInformation=ln,n.QRCodeEncoder=Ct,n.QRCodeEncoderQRCode=xi,n.QRCodeMaskUtil=Mt,n.QRCodeMatrixUtil=Ue,n.QRCodeMode=We,n.QRCodeReader=Gr,n.QRCodeVersion=Le,n.QRCodeWriter=Ki,n.RGBLuminanceSource=zd,n.RSS14Reader=kt,n.RSSExpandedReader=me,n.ReaderException=Vs,n.ReedSolomonDecoder=Fe,n.ReedSolomonEncoder=Bd,n.ReedSolomonException=je,n.Result=be,n.ResultMetadataType=Ee,n.ResultPoint=fe,n.StringUtils=Y,n.UnsupportedOperationException=ie,n.VideoInputDevice=q,n.WhiteRectangleDetector=ft,n.WriterException=gt,n.ZXingArrays=_,n.ZXingCharset=Vp,n.ZXingInteger=T,n.ZXingStandardCharsets=Ld,n.ZXingStringBuilder=re,n.ZXingStringEncoding=H,n.ZXingSystem=j,n.createAbstractExpandedDecoder=Mp,Object.defineProperty(n,"__esModule",{value:!0})})})(uh,uh.exports);var jt=uh.exports;const jV=dt(jt),EV=bw({__proto__:null,default:jV},[jt]);var oy=function(){function e(t,n,r){if(this.formatMap=new Map([[Pe.QR_CODE,jt.BarcodeFormat.QR_CODE],[Pe.AZTEC,jt.BarcodeFormat.AZTEC],[Pe.CODABAR,jt.BarcodeFormat.CODABAR],[Pe.CODE_39,jt.BarcodeFormat.CODE_39],[Pe.CODE_93,jt.BarcodeFormat.CODE_93],[Pe.CODE_128,jt.BarcodeFormat.CODE_128],[Pe.DATA_MATRIX,jt.BarcodeFormat.DATA_MATRIX],[Pe.MAXICODE,jt.BarcodeFormat.MAXICODE],[Pe.ITF,jt.BarcodeFormat.ITF],[Pe.EAN_13,jt.BarcodeFormat.EAN_13],[Pe.EAN_8,jt.BarcodeFormat.EAN_8],[Pe.PDF_417,jt.BarcodeFormat.PDF_417],[Pe.RSS_14,jt.BarcodeFormat.RSS_14],[Pe.RSS_EXPANDED,jt.BarcodeFormat.RSS_EXPANDED],[Pe.UPC_A,jt.BarcodeFormat.UPC_A],[Pe.UPC_E,jt.BarcodeFormat.UPC_E],[Pe.UPC_EAN_EXTENSION,jt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!EV)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var a=this.createZXingFormats(t),l=new Map;l.set(jt.DecodeHintType.POSSIBLE_FORMATS,a),l.set(jt.DecodeHintType.TRY_HARDER,!1),this.hints=l}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,a){try{r(n.decode(t))}catch(l){a(l)}})},e.prototype.decode=function(t){var n=new jt.MultiFormatReader(this.verbose,this.hints),r=new jt.HTMLCanvasElementLuminanceSource(t),a=new jt.BinaryBitmap(new jt.HybridBinarizer(r)),l=n.decode(a);return{text:l.text,format:R2.create(this.toHtml5QrcodeSupportedFormats(l.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,a){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,a=t;r<a.length;r++){var l=a[r];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.logError("".concat(l," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),IV=function(e,t,n,r){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(b){try{g(r.next(b))}catch(m){u(m)}}function x(b){try{g(r.throw(b))}catch(m){u(m)}}function g(b){b.done?l(b.value):a(b.value).then(h,x)}g((r=r.apply(e,t||[])).next())})},OV=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(g){return function(b){return x([g,b])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,g[0]&&(n=0)),n;)try{if(r=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(b){g=[6,b],a=0}finally{r=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},ay=function(){function e(t,n,r){if(this.formatMap=new Map([[Pe.QR_CODE,"qr_code"],[Pe.AZTEC,"aztec"],[Pe.CODABAR,"codabar"],[Pe.CODE_39,"code_39"],[Pe.CODE_93,"code_93"],[Pe.CODE_128,"code_128"],[Pe.DATA_MATRIX,"data_matrix"],[Pe.ITF,"itf"],[Pe.EAN_13,"ean_13"],[Pe.EAN_8,"ean_8"],[Pe.PDF_417,"pdf417"],[Pe.UPC_A,"upc_a"],[Pe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var a=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(a),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return IV(this,void 0,void 0,function(){var n,r;return OV(this,function(a){switch(a.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=a.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:R2.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,a=0,l=t;a<l.length;a++){var u=l[a],h=u.boundingBox.width*u.boundingBox.height;h>r&&(r=h,n=u)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,a=t;r<a.length;r++){var l=a[r];this.formatMap.has(l)?n.push(this.formatMap.get(l)):this.logger.warn("".concat(l," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,a){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),sy=function(e,t,n,r){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(b){try{g(r.next(b))}catch(m){u(m)}}function x(b){try{g(r.throw(b))}catch(m){u(m)}}function g(b){b.done?l(b.value):a(b.value).then(h,x)}g((r=r.apply(e,t||[])).next())})},ly=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(g){return function(b){return x([g,b])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,g[0]&&(n=0)),n;)try{if(r=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(b){g=[6,b],a=0}finally{r=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},TV=function(){function e(t,n,r,a){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&ay.isSupported()?(this.primaryDecoder=new ay(t,r,a),this.secondaryDecoder=new oy(t,r,a)):this.primaryDecoder=new oy(t,r,a)}return e.prototype.decodeAsync=function(t){return sy(this,void 0,void 0,function(){var n;return ly(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return sy(this,void 0,void 0,function(){var n,r;return ly(this,function(a){switch(a.label){case 0:n=performance.now(),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,a.sent()];case 3:if(r=a.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var a=r[n];t+=a}var l=t/this.executionResults.length;console.log("".concat(l," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Tp=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),bc=function(e,t,n,r){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(b){try{g(r.next(b))}catch(m){u(m)}}function x(b){try{g(r.throw(b))}catch(m){u(m)}}function g(b){b.done?l(b.value):a(b.value).then(h,x)}g((r=r.apply(e,t||[])).next())})},vc=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(g){return function(b){return x([g,b])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,g[0]&&(n=0)),n;)try{if(r=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(b){g=[6,b],a=0}finally{r=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},N2=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),_V=function(e){Tp(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var a={advanced:[r]};return this.track.applyConstraints(a)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(N2),RV=function(e){Tp(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(_V),PV=function(e){Tp(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(N2),NV=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new RV(this.track)},e.prototype.torchFeature=function(){return new PV(this.track)},e}(),kV=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,a=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,a),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,a){return bc(this,void 0,void 0,function(){var l,u;return vc(this,function(h){switch(h.label){case 0:return l=new e(t,n,a),r.aspectRatio?(u={aspectRatio:r.aspectRatio},[4,l.getFirstTrackOrFail().applyConstraints(u)]):[3,2];case 1:h.sent(),h.label=2;case 2:return l.setupSurface(),[2,l]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return bc(this,void 0,void 0,function(){return vc(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var a=t.mediaStream.getVideoTracks(),l=a.length,u=0;t.mediaStream.getVideoTracks().forEach(function(h){t.mediaStream.removeTrack(h),h.stop(),++u,u>=l&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new NV(this.getFirstTrackOrFail())},e}(),MV=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return bc(this,void 0,void 0,function(){return vc(this,function(a){return[2,kV.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return bc(this,void 0,void 0,function(){var n,r;return vc(this,function(a){switch(a.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=a.sent(),[2,new e(r)]}})})},e}(),cy=function(e,t,n,r){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(b){try{g(r.next(b))}catch(m){u(m)}}function x(b){try{g(r.throw(b))}catch(m){u(m)}}function g(b){b.done?l(b.value):a(b.value).then(h,x)}g((r=r.apply(e,t||[])).next())})},dy=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(g){return function(b){return x([g,b])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,g[0]&&(n=0)),n;)try{if(r=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(b){g=[6,b],a=0}finally{r=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},DV=function(){function e(){}return e.failIfNotSupported=function(){return cy(this,void 0,void 0,function(){return dy(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return cy(this,void 0,void 0,function(){return dy(this,function(n){return[2,MV.create(t)]})})},e}(),BV=function(e,t,n,r){function a(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function h(b){try{g(r.next(b))}catch(m){u(m)}}function x(b){try{g(r.throw(b))}catch(m){u(m)}}function g(b){b.done?l(b.value):a(b.value).then(h,x)}g((r=r.apply(e,t||[])).next())})},zV=function(e,t){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},r,a,l,u;return u={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function h(g){return function(b){return x([g,b])}}function x(g){if(r)throw new TypeError("Generator is already executing.");for(;u&&(u=0,g[0]&&(n=0)),n;)try{if(r=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=t.call(e,n)}catch(b){g=[6,b],a=0}finally{r=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}},LV=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=co.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=co.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return BV(this,void 0,void 0,function(){var t,n,r,a,l,u,h;return zV(this,function(x){switch(x.label){case 0:return t=function(g){for(var b=g.getVideoTracks(),m=0,S=b;m<S.length;m++){var C=S[m];C.enabled=!1,C.stop(),g.removeTrack(C)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=x.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=x.sent(),a=[],l=0,u=r;l<u.length;l++)h=u[l],h.kind==="videoinput"&&a.push({id:h.deviceId,label:h.label});return t(n),[2,a]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(l){for(var u=[],h=0,x=l;h<x.length;h++){var g=x[h];g.kind==="video"&&u.push({id:g.id,label:g.label})}t(u)},a=MediaStreamTrack;a.getSources(r)})},e}(),Dt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Dt||(Dt={}));var WV=function(){function e(){this.state=Dt.NOT_STARTED,this.onGoingTransactionNewState=Dt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Dt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Dt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Dt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Dt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Dt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Dt.UNKNOWN:throw"Transition from unknown is not allowed";case Dt.NOT_STARTED:this.failIfNewStateIs(t,[Dt.PAUSED]);break;case Dt.SCANNING:break;case Dt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,a=n;r<a.length;r++){var l=a[r];if(t===l)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),FV=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Dt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Dt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Dt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Dt.PAUSED},e}(),$V=function(){function e(){}return e.create=function(){return new FV(new WV)},e}(),UV=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(r[l]=a[l])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),In=function(e){UV(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(SV),VV=function(){function e(t,n){this.logger=n,this.fps=In.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=In.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?P2.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!jr(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),uy=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new CV(this.verbose),this.qrcode=new TV(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=$V.create()}return e.prototype.start=function(t,n,r,a){var l=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var u;a?u=a:u=this.verbose?this.logger.log:function(){};var h=VV.create(n,this.logger);this.clearElement();var x=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?x=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=x,b=document.getElementById(this.elementId);b.clientWidth?b.clientWidth:In.DEFAULT_WIDTH,b.style.position="relative",this.shouldScan=!0,this.element=b;var m=this,S=this.stateManagerProxy.startTransition(Dt.SCANNING);return new Promise(function(C,I){var j=g?h.videoConstraints:m.createVideoConstraints(t);if(!j){S.cancel(),I("videoConstraints should be defined");return}var E={};(!g||h.aspectRatio)&&(E.aspectRatio=h.aspectRatio);var R={onRenderSurfaceReady:function(_,T){m.setupUi(_,T,h),m.isScanning=!0,m.foreverScan(h,r,u)}};DV.failIfNotSupported().then(function(_){_.create(j).then(function(T){return T.render(l.element,E,R).then(function(P){m.renderedCamera=P,S.execute(),C(null)}).catch(function(P){S.cancel(),I(P)})}).catch(function(T){S.cancel(),I(co.errorGettingUserMedia(T))})}).catch(function(_){S.cancel(),I(co.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Dt.PAUSED),this.showPausedState(),(jr(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(Dt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(Dt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var l=document.getElementById(In.SHADED_REGION_ELEMENT_ID);l&&t.element.removeChild(l)}},a=this;return this.renderedCamera.close().then(function(){return a.renderedCamera=null,a.element&&(a.element.removeChild(a.canvasElement),a.canvasElement=null),r(),a.qrRegion&&(a.qrRegion=null),a.context&&(a.context=null),n.execute(),a.hidePausedState(),a.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(jr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(a,l){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var u=new Image;u.onload=function(){var h=u.width,x=u.height,g=document.getElementById(r.elementId),b=g.clientWidth?g.clientWidth:In.DEFAULT_WIDTH,m=Math.max(g.clientHeight?g.clientHeight:x,In.FILE_SCAN_MIN_HEIGHT),S=r.computeCanvasDrawConfig(h,x,b,m);if(n){var C=r.createCanvasElement(b,m,"qr-canvas-visible");C.style.display="inline-block",g.appendChild(C);var I=C.getContext("2d");if(!I)throw"Unable to get 2d context from canvas";I.canvas.width=b,I.canvas.height=m,I.drawImage(u,0,0,h,x,S.x,S.y,S.width,S.height)}var j=In.FILE_SCAN_HIDDEN_CANVAS_PADDING,E=Math.max(u.width,S.width),R=Math.max(u.height,S.height),_=E+2*j,T=R+2*j,P=r.createCanvasElement(_,T);g.appendChild(P);var A=P.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=_,A.canvas.height=T,A.drawImage(u,0,0,h,x,j,j,E,R);try{r.qrcode.decodeRobustlyAsync(P).then(function(N){a(iy.createFromQrcodeResult(N))}).catch(l)}catch(N){l("QR code parse error, error = ".concat(N))}},u.onerror=l,u.onabort=l,u.onstalled=l,u.onsuspend=l,u.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return LV.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!P2.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Pe.QR_CODE,Pe.AZTEC,Pe.CODABAR,Pe.CODE_39,Pe.CODE_93,Pe.CODE_128,Pe.DATA_MATRIX,Pe.MAXICODE,Pe.ITF,Pe.EAN_13,Pe.EAN_8,Pe.PDF_417,Pe.RSS_14,Pe.RSS_EXPANDED,Pe.UPC_A,Pe.UPC_E,Pe.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],a=0,l=t.formatsToSupport;a<l.length;a++){var u=l[a];wV(u)?r.push(u):this.logger.warn("Invalid format: ".concat(u," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(jr(t))return!0;if(!jr(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(jr(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return jr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var a=this,l=r.qrbox;this.validateQrboxConfig(l);var u=this.toQrdimensions(t,n,l),h=function(g){if(g<In.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(In.MIN_QR_BOX_SIZE,"px.")},x=function(g){return g>t&&(a.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=t),g};h(u.width),h(u.height),u.width=x(u.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(a){throw new Error("qrbox config was passed as a function but it failed with unknown error"+a)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var a=jr(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(a);var l=this.toQrdimensions(t,n,a);l.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var u=r.isShadedBoxEnabled()&&l.height<=n,h={x:0,y:0,width:t,height:n},x=u?this.getShadedRegionBounds(t,n,l):h,g=this.createCanvasElement(x.width,x.height),b={willReadFrequently:!0},m=g.getContext("2d",b);m.canvas.width=x.width,m.canvas.height=x.height,this.element.append(g),u&&this.possiblyInsertShadingElement(this.element,t,n,l),this.createScannerPausedUiElement(this.element),this.qrRegion=x,this.context=m,this.canvasElement=g},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=co.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(a){return t(a.text,iy.createFromQrcodeResult(a)),r.possiblyUpdateShaders(!0),!0}).catch(function(a){r.possiblyUpdateShaders(!1);var l=co.codeParseError(a);return n(l,AV.createFrom(l)),!1})},e.prototype.foreverScan=function(t,n,r){var a=this;if(this.shouldScan&&this.renderedCamera){var l=this.renderedCamera.getSurface(),u=l.videoWidth/l.clientWidth,h=l.videoHeight/l.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var x=this.qrRegion.width*u,g=this.qrRegion.height*h,b=this.qrRegion.x*u,m=this.qrRegion.y*h;this.context.drawImage(l,b,m,x,g,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){a.foreverScanTimeout=setTimeout(function(){a.foreverScan(t,n,r)},a.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(C){!C&&t.disableFlip!==!0?(a.context.translate(a.context.canvas.width,0),a.context.scale(-1,1),a.scanContext(n,r).finally(function(){S()})):S()}).catch(function(C){a.logger.logError("Error happend while scanning context",C),S()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",a={user:!0,environment:!0},l="exact",u=function(I){if(I in a)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(I,"'")},h=Object.keys(t);if(h.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var x=Object.keys(t)[0];if(x!==n&&x!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(x===n){var g=t.facingMode;if(typeof g=="string"){if(u(g))return{facingMode:g}}else if(typeof g=="object")if(l in g){if(u(g["".concat(l)]))return{facingMode:{exact:g["".concat(l)]}}}else throw"'facingMode' should be string or object with"+" ".concat(l," as key.");else{var b=typeof g;throw"Invalid type of 'facingMode' = ".concat(b)}}else{var m=t.deviceId;if(typeof m=="string")return{deviceId:m};if(typeof m=="object"){if(l in m)return{deviceId:{exact:m["".concat(l)]}};throw"'deviceId' should be string or object with"+" ".concat(l," as key.")}else{var S=typeof m;throw"Invalid type of 'deviceId' = ".concat(S)}}}var C=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(C)},e.prototype.computeCanvasDrawConfig=function(t,n,r,a){if(t<=r&&n<=a){var l=(r-t)/2,u=(a-n)/2;return{x:l,y:u,width:t,height:n}}else{var h=t,x=n;return t>r&&(n=r/t*n,t=r),n>a&&(t=a/n*t,n=a),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(x)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,a)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?In.BORDER_SHADER_MATCH_COLOR:In.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var a=t,l=n,u=document.createElement("canvas");return u.style.width="".concat(a,"px"),u.style.height="".concat(l,"px"),u.style.display="none",u.id=jr(r)?"qr-canvas":r,u},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,a){if(!(n-a.width<1||r-a.height<1)){var l=document.createElement("div");l.style.position="absolute";var u=(n-a.width)/2,h=(r-a.height)/2;if(l.style.borderLeft="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderRight="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),l.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),l.style.boxSizing="border-box",l.style.top="0px",l.style.bottom="0px",l.style.left="0px",l.style.right="0px",l.id="".concat(In.SHADED_REGION_ELEMENT_ID),n-a.width<11||r-a.height<11)this.hasBorderShaders=!1;else{var x=5,g=40;this.insertShaderBorders(l,g,x,-x,null,0,!0),this.insertShaderBorders(l,g,x,-x,null,0,!1),this.insertShaderBorders(l,g,x,null,-x,0,!0),this.insertShaderBorders(l,g,x,null,-x,0,!1),this.insertShaderBorders(l,x,g+x,-x,null,-x,!0),this.insertShaderBorders(l,x,g+x,null,-x,-x,!0),this.insertShaderBorders(l,x,g+x,-x,null,-x,!1),this.insertShaderBorders(l,x,g+x,null,-x,-x,!1),this.hasBorderShaders=!0}t.append(l)}},e.prototype.insertShaderBorders=function(t,n,r,a,l,u,h){var x=document.createElement("div");x.style.position="absolute",x.style.backgroundColor=In.BORDER_SHADER_DEFAULT_COLOR,x.style.width="".concat(n,"px"),x.style.height="".concat(r,"px"),a!==null&&(x.style.top="".concat(a,"px")),l!==null&&(x.style.bottom="".concat(l,"px")),h?x.style.left="".concat(u,"px"):x.style.right="".concat(u,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(x),t.appendChild(x)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),fy;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(fy||(fy={}));var HV={exports:{}};(function(e){var t=function(n){var r=Object.prototype,a=r.hasOwnProperty,l=Object.defineProperty||function($,B,q){$[B]=q.value},u,h=typeof Symbol=="function"?Symbol:{},x=h.iterator||"@@iterator",g=h.asyncIterator||"@@asyncIterator",b=h.toStringTag||"@@toStringTag";function m($,B,q){return Object.defineProperty($,B,{value:q,enumerable:!0,configurable:!0,writable:!0}),$[B]}try{m({},"")}catch{m=function(B,q,oe){return B[q]=oe}}function S($,B,q,oe){var de=B&&B.prototype instanceof T?B:T,be=Object.create(de.prototype),Me=new G(oe||[]);return l(be,"_invoke",{value:Y($,q,Me)}),be}n.wrap=S;function C($,B,q){try{return{type:"normal",arg:$.call(B,q)}}catch(oe){return{type:"throw",arg:oe}}}var I="suspendedStart",j="suspendedYield",E="executing",R="completed",_={};function T(){}function P(){}function A(){}var N={};m(N,x,function(){return this});var k=Object.getPrototypeOf,W=k&&k(k(ee([])));W&&W!==r&&a.call(W,x)&&(N=W);var F=A.prototype=T.prototype=Object.create(N);P.prototype=A,l(F,"constructor",{value:A,configurable:!0}),l(A,"constructor",{value:P,configurable:!0}),P.displayName=m(A,b,"GeneratorFunction");function ie($){["next","throw","return"].forEach(function(B){m($,B,function(q){return this._invoke(B,q)})})}n.isGeneratorFunction=function($){var B=typeof $=="function"&&$.constructor;return B?B===P||(B.displayName||B.name)==="GeneratorFunction":!1},n.mark=function($){return Object.setPrototypeOf?Object.setPrototypeOf($,A):($.__proto__=A,m($,b,"GeneratorFunction")),$.prototype=Object.create(F),$},n.awrap=function($){return{__await:$}};function H($,B){function q(be,Me,te,Ne){var Ee=C($[be],$,Me);if(Ee.type==="throw")Ne(Ee.arg);else{var ve=Ee.arg,Oe=ve.value;return Oe&&typeof Oe=="object"&&a.call(Oe,"__await")?B.resolve(Oe.__await).then(function(Te){q("next",Te,te,Ne)},function(Te){q("throw",Te,te,Ne)}):B.resolve(Oe).then(function(Te){ve.value=Te,te(ve)},function(Te){return q("throw",Te,te,Ne)})}}var oe;function de(be,Me){function te(){return new B(function(Ne,Ee){q(be,Me,Ne,Ee)})}return oe=oe?oe.then(te,te):te()}l(this,"_invoke",{value:de})}ie(H.prototype),m(H.prototype,g,function(){return this}),n.AsyncIterator=H,n.async=function($,B,q,oe,de){de===void 0&&(de=Promise);var be=new H(S($,B,q,oe),de);return n.isGeneratorFunction(B)?be:be.next().then(function(Me){return Me.done?Me.value:be.next()})};function Y($,B,q){var oe=I;return function(be,Me){if(oe===E)throw new Error("Generator is already running");if(oe===R){if(be==="throw")throw Me;return ue()}for(q.method=be,q.arg=Me;;){var te=q.delegate;if(te){var Ne=re(te,q);if(Ne){if(Ne===_)continue;return Ne}}if(q.method==="next")q.sent=q._sent=q.arg;else if(q.method==="throw"){if(oe===I)throw oe=R,q.arg;q.dispatchException(q.arg)}else q.method==="return"&&q.abrupt("return",q.arg);oe=E;var Ee=C($,B,q);if(Ee.type==="normal"){if(oe=q.done?R:j,Ee.arg===_)continue;return{value:Ee.arg,done:q.done}}else Ee.type==="throw"&&(oe=R,q.method="throw",q.arg=Ee.arg)}}}function re($,B){var q=B.method,oe=$.iterator[q];if(oe===u)return B.delegate=null,q==="throw"&&$.iterator.return&&(B.method="return",B.arg=u,re($,B),B.method==="throw")||q!=="return"&&(B.method="throw",B.arg=new TypeError("The iterator does not provide a '"+q+"' method")),_;var de=C(oe,$.iterator,B.arg);if(de.type==="throw")return B.method="throw",B.arg=de.arg,B.delegate=null,_;var be=de.arg;if(!be)return B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,_;if(be.done)B[$.resultName]=be.value,B.next=$.nextLoc,B.method!=="return"&&(B.method="next",B.arg=u);else return be;return B.delegate=null,_}ie(F),m(F,b,"Generator"),m(F,x,function(){return this}),m(F,"toString",function(){return"[object Generator]"});function ae($){var B={tryLoc:$[0]};1 in $&&(B.catchLoc=$[1]),2 in $&&(B.finallyLoc=$[2],B.afterLoc=$[3]),this.tryEntries.push(B)}function L($){var B=$.completion||{};B.type="normal",delete B.arg,$.completion=B}function G($){this.tryEntries=[{tryLoc:"root"}],$.forEach(ae,this),this.reset(!0)}n.keys=function($){var B=Object($),q=[];for(var oe in B)q.push(oe);return q.reverse(),function de(){for(;q.length;){var be=q.pop();if(be in B)return de.value=be,de.done=!1,de}return de.done=!0,de}};function ee($){if($){var B=$[x];if(B)return B.call($);if(typeof $.next=="function")return $;if(!isNaN($.length)){var q=-1,oe=function de(){for(;++q<$.length;)if(a.call($,q))return de.value=$[q],de.done=!1,de;return de.value=u,de.done=!0,de};return oe.next=oe}}return{next:ue}}n.values=ee;function ue(){return{value:u,done:!0}}return G.prototype={constructor:G,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(L),!$)for(var B in this)B.charAt(0)==="t"&&a.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=u)},stop:function(){this.done=!0;var $=this.tryEntries[0],B=$.completion;if(B.type==="throw")throw B.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var B=this;function q(Ne,Ee){return be.type="throw",be.arg=$,B.next=Ne,Ee&&(B.method="next",B.arg=u),!!Ee}for(var oe=this.tryEntries.length-1;oe>=0;--oe){var de=this.tryEntries[oe],be=de.completion;if(de.tryLoc==="root")return q("end");if(de.tryLoc<=this.prev){var Me=a.call(de,"catchLoc"),te=a.call(de,"finallyLoc");if(Me&&te){if(this.prev<de.catchLoc)return q(de.catchLoc,!0);if(this.prev<de.finallyLoc)return q(de.finallyLoc)}else if(Me){if(this.prev<de.catchLoc)return q(de.catchLoc,!0)}else if(te){if(this.prev<de.finallyLoc)return q(de.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function($,B){for(var q=this.tryEntries.length-1;q>=0;--q){var oe=this.tryEntries[q];if(oe.tryLoc<=this.prev&&a.call(oe,"finallyLoc")&&this.prev<oe.finallyLoc){var de=oe;break}}de&&($==="break"||$==="continue")&&de.tryLoc<=B&&B<=de.finallyLoc&&(de=null);var be=de?de.completion:{};return be.type=$,be.arg=B,de?(this.method="next",this.next=de.finallyLoc,_):this.complete(be)},complete:function($,B){if($.type==="throw")throw $.arg;return $.type==="break"||$.type==="continue"?this.next=$.arg:$.type==="return"?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):$.type==="normal"&&B&&(this.next=B),_},finish:function($){for(var B=this.tryEntries.length-1;B>=0;--B){var q=this.tryEntries[B];if(q.finallyLoc===$)return this.complete(q.completion,q.afterLoc),L(q),_}},catch:function($){for(var B=this.tryEntries.length-1;B>=0;--B){var q=this.tryEntries[B];if(q.tryLoc===$){var oe=q.completion;if(oe.type==="throw"){var de=oe.arg;L(q)}return de}}throw new Error("illegal catch attempt")},delegateYield:function($,B,q){return this.delegate={iterator:ee($),resultName:B,nextLoc:q},this.method==="next"&&(this.arg=u),_}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(HV);var _p=(e,t)=>`${e}-${t}-${Math.random().toString(16).slice(3,8)}`;const GV=_p;let hy=0;var k2=({id:e,action:t,payload:n={}})=>{let r=e;return typeof r>"u"&&(r=GV("Job",hy),hy+=1),{id:r,action:t,payload:n}},fa={};let Rp=!1;fa.logging=Rp;fa.setLogging=e=>{Rp=e};fa.log=(...e)=>Rp?console.log.apply(void 0,e):null;const XV=k2,{log:dl}=fa,YV=_p;let py=0;var qV=()=>{const e=YV("Scheduler",py),t={},n={};let r=[];py+=1;const a=()=>r.length,l=()=>Object.keys(t).length,u=()=>{if(r.length!==0){const m=Object.keys(t);for(let S=0;S<m.length;S+=1)if(typeof n[m[S]]>"u"){r[0](t[m[S]]);break}}},h=(m,S)=>new Promise((C,I)=>{const j=XV({action:m,payload:S});r.push(async E=>{r.shift(),n[E.id]=j;try{C(await E[m].apply(void 0,[...S,j.id]))}catch(R){I(R)}finally{delete n[E.id],u()}}),dl(`[${e}]: Add ${j.id} to JobQueue`),dl(`[${e}]: JobQueue length=${r.length}`),u()});return{addWorker:m=>(t[m.id]=m,dl(`[${e}]: Add ${m.id}`),dl(`[${e}]: Number of workers=${l()}`),u(),m.id),addJob:async(m,...S)=>{if(l()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return h(m,S)},terminate:async()=>{Object.keys(t).forEach(async m=>{await t[m].terminate()}),r=[]},getQueueLen:a,getNumWorkers:l}};function KV(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ZV=e=>{const t={};return typeof WorkerGlobalScope<"u"?t.type="webworker":typeof document=="object"?t.type="browser":typeof process=="object"&&typeof KV=="function"&&(t.type="node"),typeof e>"u"?t:t[e]};const QV=ZV("type")==="browser",JV=QV?e=>new URL(e,window.location.href).href:e=>e;var eH=e=>{const t={...e};return["corePath","workerPath","langPath"].forEach(n=>{e[n]&&(t[n]=JV(t[n]))}),t},M2={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const tH="7.0.0",nH={version:tH};var rH={workerBlobURL:!0,logger:()=>{}};const iH=nH.version,oH=rH;var aH={...oH,workerPath:`https://cdn.jsdelivr.net/npm/tesseract.js@v${iH}/dist/worker.min.js`},sH=({workerPath:e,workerBlobURL:t})=>{let n;if(Blob&&URL&&t){const r=new Blob([`importScripts("${e}");`],{type:"application/javascript"});n=new Worker(URL.createObjectURL(r))}else n=new Worker(e);return n},lH=e=>{e.terminate()},cH=(e,t)=>{e.onmessage=({data:n})=>{t(n)}},dH=async(e,t)=>{e.postMessage(t)};const ju=e=>new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{t(r.result)},r.onerror=({target:{error:{code:a}}})=>{n(Error(`File could not be read! Code=${a}`))},r.readAsArrayBuffer(e)}),fh=async e=>{let t=e;if(typeof e>"u")return"undefined";if(typeof e=="string")/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?t=atob(e.split(",")[1]).split("").map(n=>n.charCodeAt(0)):t=await(await fetch(e)).arrayBuffer();else if(typeof HTMLElement<"u"&&e instanceof HTMLElement)e.tagName==="IMG"&&(t=await fh(e.src)),e.tagName==="VIDEO"&&(t=await fh(e.poster)),e.tagName==="CANVAS"&&await new Promise(n=>{e.toBlob(async r=>{t=await ju(r),n()})});else if(typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas){const n=await e.convertToBlob();t=await ju(n)}else(e instanceof File||e instanceof Blob)&&(t=await ju(e));return new Uint8Array(t)};var uH=fh;const fH=aH,hH=sH,pH=lH,xH=cH,gH=dH,yH=uH;var mH={defaultOptions:fH,spawnWorker:hH,terminateWorker:pH,onMessage:xH,send:gH,loadImage:yH};const bH=eH,fr=k2,{log:xy}=fa,vH=_p,vi=M2,{defaultOptions:wH,spawnWorker:SH,terminateWorker:AH,onMessage:CH,loadImage:gy,send:jH}=mH;let yy=0;var D2=async(e="eng",t=vi.LSTM_ONLY,n={},r={})=>{const a=vH("Worker",yy),{logger:l,errorHandler:u,...h}=bH({...wH,...n}),x={},g=typeof e=="string"?e.split("+"):e;let b=t,m=r;const S=[vi.DEFAULT,vi.LSTM_ONLY].includes(t)&&!h.legacyCore;let C,I;const j=new Promise((ee,ue)=>{I=ee,C=ue}),E=ee=>{C(ee.message)};let R=SH(h);R.onerror=E,yy+=1;const _=({id:ee,action:ue,payload:$})=>new Promise((B,q)=>{xy(`[${a}]: Start ${ee}, action=${ue}`);const oe=`${ue}-${ee}`;x[oe]={resolve:B,reject:q},jH(R,{workerId:a,jobId:ee,action:ue,payload:$})}),T=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),P=ee=>_(fr({id:ee,action:"load",payload:{options:{lstmOnly:S,corePath:h.corePath,logging:h.logging}}})),A=(ee,ue,$)=>_(fr({id:$,action:"FS",payload:{method:"writeFile",args:[ee,ue]}})),N=(ee,ue)=>_(fr({id:ue,action:"FS",payload:{method:"readFile",args:[ee,{encoding:"utf8"}]}})),k=(ee,ue)=>_(fr({id:ue,action:"FS",payload:{method:"unlink",args:[ee]}})),W=(ee,ue,$)=>_(fr({id:$,action:"FS",payload:{method:ee,args:ue}})),F=(ee,ue)=>_(fr({id:ue,action:"loadLanguage",payload:{langs:ee,options:{langPath:h.langPath,dataPath:h.dataPath,cachePath:h.cachePath,cacheMethod:h.cacheMethod,gzip:h.gzip,lstmOnly:[vi.DEFAULT,vi.LSTM_ONLY].includes(b)&&!h.legacyLang}}})),ie=(ee,ue,$,B)=>_(fr({id:B,action:"initialize",payload:{langs:ee,oem:ue,config:$}})),H=(ee="eng",ue,$,B)=>{if(S&&[vi.TESSERACT_ONLY,vi.TESSERACT_LSTM_COMBINED].includes(ue))throw Error("Legacy model requested but code missing.");const q=ue||b;b=q;const oe=$||m;m=oe;const be=(typeof ee=="string"?ee.split("+"):ee).filter(Me=>!g.includes(Me));return g.push(...be),be.length>0?F(be,B).then(()=>ie(ee,q,oe,B)):ie(ee,q,oe,B)},Y=(ee={},ue)=>_(fr({id:ue,action:"setParameters",payload:{params:ee}})),re=async(ee,ue={},$={text:!0},B)=>_(fr({id:B,action:"recognize",payload:{image:await gy(ee),options:ue,output:$}})),ae=async(ee,ue)=>{if(S)throw Error("`worker.detect` requires Legacy model, which was not loaded.");return _(fr({id:ue,action:"detect",payload:{image:await gy(ee)}}))},L=async()=>(R!==null&&(AH(R),R=null),Promise.resolve());CH(R,({workerId:ee,jobId:ue,status:$,action:B,data:q})=>{const oe=`${B}-${ue}`;if($==="resolve")xy(`[${ee}]: Complete ${ue}`),x[oe].resolve({jobId:ue,data:q}),delete x[oe];else if($==="reject")if(x[oe].reject(q),delete x[oe],B==="load"&&C(q),u)u(q);else throw Error(q);else $==="progress"&&l({...q,userJobId:ue})});const G={id:a,worker:R,load:T,writeText:A,readText:N,removeFile:k,FS:W,reinitialize:H,setParameters:Y,recognize:re,detect:ae,terminate:L};return P().then(()=>F(e)).then(()=>ie(e,t,r)).then(()=>I(G)).catch(()=>{}),j};const B2=D2,EH=async(e,t,n)=>{const r=await B2(t,1,n);return r.recognize(e).finally(async()=>{await r.terminate()})},IH=async(e,t)=>{const n=await B2("osd",0,t);return n.detect(e).finally(async()=>{await n.terminate()})};var OH={recognize:EH,detect:IH},TH={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},_H={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const RH=qV,PH=D2,NH=OH,kH=TH,MH=M2,DH=_H,{setLogging:BH}=fa;var zH={languages:kH,OEM:MH,PSM:DH,createScheduler:RH,createWorker:PH,setLogging:BH,...NH};const LH=dt(zH),WH=({scannedData:e,scanType:t="QR_SCAN",onClose:n,onSave:r})=>{const[a,l]=X.useState({name:"",email:"",phone:"",company:"",designation:"",city:"",state:"",country:"",industry:"",notes:"",rating:null,followUpDate:""}),[u,h]=X.useState(!1);X.useEffect(()=>{if(e){console.log("Scanned data received:",e);let m=e;if(typeof e=="string")try{m=JSON.parse(e)}catch{console.log("QR data is not JSON, treating as plain text")}l({name:m.name||m.fullName||m.first_name||"",email:m.email||m.primary_email||"",phone:m.phone||m.mobile||m.primary_mobile||"",company:m.company||m.organization||"",designation:m.designation||m.title||m.position||"",city:m.city||m.town||"",state:m.state||"",country:m.country||"India",industry:m.industry||"",notes:m.notes||"",rating:m.rating||null,followUpDate:m.followUpDate||""})}},[e]);const x=m=>{const{name:S,value:C}=m.target;l(I=>({...I,[S]:C}))},g=m=>{l(S=>({...S,rating:S.rating===m?null:m}))},b=async m=>{if(m.preventDefault(),!a.name){alert("Name is required!");return}h(!0);try{const S=localStorage.getItem("exhibitorId"),C=localStorage.getItem("eventId"),I=localStorage.getItem("organizationId"),j={exhibitorId:S?parseInt(S):null,eventId:C?parseInt(C):null,organizationId:I?parseInt(I):null,name:a.name,email:a.email||null,phone:a.phone||null,company:a.company||null,designation:a.designation||null,city:a.city||null,state:a.state||null,country:a.country||null,industry:a.industry||null,notes:a.notes||null,rating:a.rating||null,followUpDate:a.followUpDate||null,source:t==="OCR"?"OCR Scan":"QR Scan",status:"New"},E=await fetch("/api/leads",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)}),R=await E.json();E.ok&&R.success?(alert("Lead saved successfully!"),r&&r(R.lead),n&&n()):alert("Failed to save lead: "+(R.error||"Unknown error"))}catch(S){console.error("Error saving lead:",S),alert("Error saving lead. Please try again.")}finally{h(!1)}};return o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:o.jsxs("div",{style:{background:"white",borderRadius:"20px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[o.jsxs("div",{style:{padding:"24px 32px",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(135deg, #2563eb, #3b82f6)",borderRadius:"20px 20px 0 0"},children:[o.jsxs("div",{children:[o.jsx("h2",{style:{fontSize:"24px",fontWeight:700,color:"white",margin:0},children:"Lead Information"}),o.jsx("p",{style:{fontSize:"14px",color:"rgba(255,255,255,0.9)",margin:"4px 0 0 0"},children:"Review and complete the scanned visitor details"})]}),o.jsx("button",{onClick:n,style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s"},children:o.jsx(Nn,{size:20,color:"white"})})]}),o.jsxs("form",{onSubmit:b,style:{padding:"32px"},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[o.jsxs("div",{style:{gridColumn:"1 / -1"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:[o.jsx(jc,{size:16,color:"#2563eb"}),"Name ",o.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),o.jsx("input",{type:"text",name:"name",value:a.name,onChange:x,required:!0,style:{width:"100%",padding:"12px 16px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",transition:"all 0.2s"},placeholder:"Enter full name"})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:[o.jsx(Mr,{size:16,color:"#2563eb"}),"Email"]}),o.jsx("input",{type:"email",name:"email",value:a.email,onChange:x,style:{width:"100%",padding:"12px 16px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"14px"},placeholder:"email@example.com"})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:[o.jsx(ka,{size:16,color:"#2563eb"}),"Phone"]}),o.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:x,style:{width:"100%",padding:"12px 16px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"14px"},placeholder:"+91 XXXXXXXXXX"})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:[o.jsx(Pn,{size:16,color:"#2563eb"}),"Company"]}),o.jsx("input",{type:"text",name:"company",value:a.company,onChange:x,style:{width:"100%",padding:"12px 16px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"14px"},placeholder:"Company name"})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:[o.jsx(Kp,{size:16,color:"#2563eb"}),"Designation"]}),o.jsx("input",{type:"text",name:"designation",value:a.designation,onChange:x,style:{width:"100%",padding:"12px 16px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"14px"},placeholder:"Job title"})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:[o.jsx(fo,{size:16,color:"#2563eb"}),"City"]}),o.jsx("input",{type:"text",name:"city",value:a.city,onChange:x,style:{width:"100%",padding:"12px 16px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"14px"},placeholder:"City"})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:[o.jsx(fo,{size:16,color:"#2563eb"}),"State"]}),o.jsx("input",{type:"text",name:"state",value:a.state,onChange:x,style:{width:"100%",padding:"12px 16px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"14px"},placeholder:"State"})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:[o.jsx(fo,{size:16,color:"#2563eb"}),"Country"]}),o.jsx("input",{type:"text",name:"country",value:a.country,onChange:x,style:{width:"100%",padding:"12px 16px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"14px"},placeholder:"Country"})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:[o.jsx(Kp,{size:16,color:"#2563eb"}),"Industry"]}),o.jsx("input",{type:"text",name:"industry",value:a.industry,onChange:x,style:{width:"100%",padding:"12px 16px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"14px"},placeholder:"Industry"})]}),o.jsxs("div",{children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:[o.jsx(un,{size:16,color:"#2563eb"}),"Follow-up Date"]}),o.jsx("input",{type:"date",name:"followUpDate",value:a.followUpDate,onChange:x,style:{width:"100%",padding:"12px 16px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"14px"}})]}),o.jsxs("div",{style:{gridColumn:"1 / -1"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:[o.jsx(Ac,{size:16,color:"#2563eb"}),"Lead Rating"]}),o.jsx("div",{style:{display:"flex",gap:"8px"},children:[1,2,3,4,5].map(m=>o.jsxs("button",{type:"button",onClick:()=>g(m),style:{padding:"10px 20px",border:a.rating===m?"2px solid #2563eb":"1px solid #e2e8f0",borderRadius:"10px",background:a.rating===m?"#eff6ff":"white",color:a.rating===m?"#2563eb":"#64748b",fontWeight:600,cursor:"pointer",transition:"all 0.2s"},children:[m," ⭐"]},m))})]}),o.jsxs("div",{style:{gridColumn:"1 / -1"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"8px"},children:[o.jsx(_i,{size:16,color:"#2563eb"}),"Notes"]}),o.jsx("textarea",{name:"notes",value:a.notes,onChange:x,rows:3,style:{width:"100%",padding:"12px 16px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",fontFamily:"inherit",resize:"vertical"},placeholder:"Add any additional notes..."})]})]}),o.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"32px"},children:[o.jsxs("button",{type:"button",onClick:n,style:{flex:1,padding:"14px",border:"1px solid #e2e8f0",borderRadius:"12px",background:"white",color:"#64748b",fontWeight:600,fontSize:"16px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[o.jsx(Pa,{size:20}),"Back to Scanner"]}),o.jsxs("button",{type:"submit",disabled:u,style:{flex:2,padding:"14px",border:"none",borderRadius:"12px",background:u?"#94a3b8":"linear-gradient(135deg, #2563eb, #3b82f6)",color:"white",fontWeight:600,fontSize:"16px",cursor:u?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[o.jsx(kw,{size:20}),u?"Saving...":"Save Lead"]})]})]})]})})},z2=({onBack:e})=>{const[t,n]=X.useState(!1),[r,a]=X.useState(null),[l,u]=X.useState(!1),[h,x]=X.useState("QR_SCAN"),[g,b]=X.useState([]),[m,S]=X.useState(null),[C,I]=X.useState(!1),[j,E]=X.useState(""),R=X.useRef(null),_=X.useRef(!1),T=X.useRef(null),[P,A]=X.useState("qr"),[N,k]=X.useState(null),[W,F]=X.useState(!1),[ie,H]=X.useState(""),Y=X.useRef(null),[re,ae]=X.useState(!1),[L,G]=X.useState(null),ee=X.useRef(null),ue=X.useRef(null);X.useEffect(()=>($(),()=>{if(R.current&&_.current)try{R.current.stop().catch(se=>console.log("Scanner stop error:",se))}catch(se){console.log("Scanner cleanup error:",se)}}),[]);const $=async()=>{try{const se=localStorage.getItem("exhibitorId"),je=await fetch(`/api/leads?exhibitorId=${se}`);if(je.ok){const _e=await je.json();b(_e.slice(0,8))}}catch(se){console.error("Error loading recent scans:",se)}},B=async()=>{S(null),n(!0),T.current&&(clearTimeout(T.current),T.current=null),T.current=setTimeout(()=>{R.current&&_.current&&(console.warn("⚠️ Scan timed out after 15 seconds"),alert("Scanning timed out. Please ensure the QR code is clearly visible and try again."),q())},15e3);try{const se=new uy("qr-reader");R.current=se,_.current=!0;const je={fps:60,qrbox:{width:300,height:300},aspectRatio:1,disableFlip:!1,formatsToSupport:[0],experimentalFeatures:{useBarCodeDetectorIfSupported:!0},videoConstraints:{facingMode:{ideal:"environment"},width:{ideal:1280},height:{ideal:720},focusMode:{ideal:"continuous"},advanced:[{focusMode:"continuous"},{zoom:1}]}};try{const _e=await uy.getCameras();if(console.log("📸 Available cameras:",_e),_e&&_e.length>0){let Fe=_e[0].id;const De=_e.find(Z=>Z.label&&(Z.label.toLowerCase().includes("back")||Z.label.toLowerCase().includes("rear")||Z.label.toLowerCase().includes("environment")));De?(Fe=De.id,console.log("✅ Using rear camera:",De.label)):console.log("📱 Using camera:",_e[0].label),await se.start(Fe,je,(Z,ye)=>{console.log("⚡ QR Code detected:",Z),T.current&&(clearTimeout(T.current),T.current=null),oe(Z)},Z=>{}),console.log("✅ Scanner started with 60 FPS")}else throw new Error("No cameras found")}catch(_e){console.log("⚠️ Camera enumeration failed, using facingMode:",_e.message),await se.start({facingMode:"environment"},je,(Fe,De)=>{console.log("⚡ QR Code detected:",Fe),T.current&&(clearTimeout(T.current),T.current=null),oe(Fe)},Fe=>{}),console.log("✅ Scanner started (fallback mode)")}}catch(se){console.error("Error starting scanner:",se);let je="Unable to access camera. ";se.name==="NotAllowedError"||se.name==="PermissionDeniedError"?je+="Please allow camera access in your browser settings.":se.name==="NotFoundError"||se.name==="DevicesNotFoundError"?je+="No camera found on this device.":se.name==="NotReadableError"||se.name==="TrackStartError"?je+="Camera is already in use by another application.":je+="Please check browser permissions and try again.",S(je),n(!1),_.current=!1,T.current&&(clearTimeout(T.current),T.current=null)}},q=async()=>{if(R.current&&_.current)try{await R.current.stop(),console.log("Scanner stopped successfully")}catch(se){console.error("Error stopping scanner:",se)}n(!1),_.current=!1},oe=async se=>{if(await q(),console.log("🎯 Scanned QR code:",se),console.log("🎯 Code starts with VIS-:",se.startsWith("VIS-")),se.startsWith("VIS-")){console.log("✅ Detected visitor code format, fetching details...");try{const Fe=`/api/visitors/code/${se}`;console.log("🌐 API URL:",Fe);const De=await fetch(Fe);if(console.log("🌐 API Response Status:",De.status,De.statusText),De.ok){const Z=await De.json();if(console.log("📦 API Response Data:",Z),Z.success&&Z.visitor){console.log("✅ Visitor found:",Z.visitor);const ye={name:`${Z.visitor.first_name||""} ${Z.visitor.last_name||""}`.trim(),email:Z.visitor.email,phone:Z.visitor.mobile,company:Z.visitor.organization,designation:Z.visitor.designation,eventName:Z.visitor.event_name,uniqueCode:Z.visitor.unique_code};a(ye),x("QR_SCAN"),Me(ye,"QR_SCAN"),u(!0);return}else{console.error("❌ Invalid response structure:",Z),alert("Invalid response from server. Please contact support.");return}}else{const Z=await De.json().catch(()=>({}));console.error("❌ API Error:",De.status,Z),alert(`Invalid or expired QR code.

Error: ${Z.message||Z.error||"Visitor not found"}

Please ask the visitor to re-register or contact support.`);return}}catch(_e){console.error("❌ Error fetching visitor data:",_e),alert(`Failed to fetch visitor details.

Error: ${_e.message}

Please check:
1. Server is running
2. Network connection
3. API endpoint is accessible`);return}}else console.log("⚠️ Not a visitor code (does not start with VIS-), trying JSON parse...");try{const _e=JSON.parse(se);if(_e.name||_e.email){a(_e),x("QR_SCAN"),Me(_e,"QR_SCAN"),u(!0);return}}catch{}const je=typeof se=="string"?{rawData:se}:se;a(se),x("QR_SCAN"),Me(je,"QR_SCAN"),u(!0)},de=()=>{u(!1),a(null),x("QR_SCAN"),$()},be=se=>{b(je=>[se,...je.slice(0,7)])},Me=async(se,je,_e=null)=>{try{const Fe=localStorage.getItem("exhibitorId"),De=localStorage.getItem("eventId"),Z={exhibitorId:Fe?parseInt(Fe):null,eventId:De?parseInt(De):null,visitorId:(se==null?void 0:se.visitorId)||null,scanType:je,visitorName:(se==null?void 0:se.name)||(se==null?void 0:se.fullName)||null,visitorEmail:(se==null?void 0:se.email)||null,visitorPhone:(se==null?void 0:se.phone)||(se==null?void 0:se.mobile)||null,visitorCompany:(se==null?void 0:se.company)||(se==null?void 0:se.organization)||null,visitorDesignation:(se==null?void 0:se.designation)||null,visitorUniqueCode:(se==null?void 0:se.uniqueCode)||null,ocrRawText:_e||null,notes:null,interestLevel:null};console.log(`📝 Saving ${je} scan immediately:`,Z);const ye=await fetch("/api/scanned-visitors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)}),K=await ye.json();ye.ok&&K.success?console.log(`✅ ${je} scan saved successfully to exhibitor_scanned_visitors`):console.error(`❌ Failed to save ${je} scan:`,K)}catch(Fe){console.error("Error saving scanned visitor immediately:",Fe)}},te=async()=>{const se=j.trim().toUpperCase();if(!se){alert("Please enter a visitor code");return}const je=se.startsWith("VIS-")?se:`VIS-${se}`;I(!1),E(""),await oe(je)},Ne=se=>{if(se.target.files&&se.target.files[0]){const je=se.target.files[0],_e=URL.createObjectURL(je);k(_e),Te(_e)}},Ee=async()=>{try{const se=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});G(se),ae(!0),setTimeout(()=>{ee.current&&(ee.current.srcObject=se)},100)}catch(se){console.error("Camera access error:",se),alert("Unable to access camera. Please check permissions and try again.")}},ve=()=>{L&&(L.getTracks().forEach(se=>se.stop()),G(null)),ae(!1)},Oe=()=>{if(ee.current&&ue.current){const se=ee.current,je=ue.current;je.width=se.videoWidth,je.height=se.videoHeight,je.getContext("2d").drawImage(se,0,0),je.toBlob(Fe=>{const De=URL.createObjectURL(Fe);k(De),ve(),Te(De)},"image/jpeg",.95)}},Te=async se=>{F(!0),H("Initializing OCR engine...");try{const _e=(await LH.recognize(se,"eng",{logger:Je=>{Je.status==="recognizing text"&&H(`Scanning... ${Math.round(Je.progress*100)}%`)},tessedit_char_whitelist:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@._+- "})).data.text;console.log("=== RAW OCR TEXT ==="),console.log(_e),console.log("=== END RAW TEXT ===");const Fe=_e.toLowerCase(),De=[/([a-zA-Z0-9._+-]+@[a-zA-Z0-9._-]+\.[a-zA-Z]{2,})/gi,/([a-z0-9._+-]+\s*@\s*[a-z0-9._-]+\s*\.\s*[a-z]{2,})/gi,/([a-z0-9._+-]+[@＠][a-z0-9._-]+[\.。][a-z]{2,})/gi];let Z=[];for(const Je of De){const nt=_e.match(Je)||[];Z=Z.concat(nt)}const ye=_e.split(/[\n\r]+/);for(const Je of ye)if(/@/.test(Je)&&/\.[a-z]{2,}/i.test(Je)){const nt=Je.match(/([a-z0-9._+-]+@[a-z0-9._-]+\.[a-z]{2,})/i);nt&&Z.push(nt[0])}Z=[...new Set(Z.map(Je=>Je.trim()))],console.log("Found emails:",Z);const K=[/\+?\d{1,3}[-.\s]?\d{10}/g,/\+?\d{1,3}[-.\s]?\d{5}[-.\s]?\d{5}/g,/\+?\d{1,3}[-.\s]?\d{3}[-.\s]?\d{3}[-.\s]?\d{4}/g,/\d{10}/g,/\d{5}[-.\s]?\d{5}/g];let fe=[];for(const Je of K){const nt=_e.match(Je)||[];fe=fe.concat(nt)}for(const Je of ye){const nt=Je.match(/\d{5,}/g);nt&&(fe=fe.concat(nt))}const Be=fe.map(Je=>Je.replace(/\D/g,"")).filter((Je,nt,Ot)=>Ot.indexOf(Je)===nt).filter(Je=>Je.length>=10).map(Je=>Je.length===10?"+91 "+Je:Je.length===12&&Je.startsWith("91")?"+"+Je.slice(0,2)+" "+Je.slice(2):Je);console.log("Found phones:",Be);const Xe=ye.filter(Je=>Je.trim().length>0);let ft="";console.log("All lines:",Xe);for(const Je of Xe){const nt=Je.trim();if(/@/.test(nt)||/\d{5,}/.test(nt)||/www|http/i.test(nt)||/(pvt|ltd|inc|corp|solutions|technologies|group|enterprises|company|limited|services|private)/i.test(nt))continue;const Ot=nt.split(/\s+/);if(Ot.length>=2&&Ot.length<=4&&Ot.every(di=>di.length>1&&/^[A-Z]/.test(di))){ft=nt;break}}if(!ft)for(const Je of Xe){const nt=Je.trim();if(/@/.test(nt)||/\d{5,}/.test(nt)||/(pvt|ltd|inc|corp|services|private|limited)/i.test(nt))continue;const Ot=nt.split(/\s+/);if(Ot.length>=2&&Ot.length<=5){ft=nt;break}}console.log("Extracted name:",ft);const At={name:ft||"",email:Z[0]||"",phone:Be[0]||"",company:"",designation:"",notes:`OCR Text:
${_e}`,source:"OCR Scan"};console.log("=== FINAL PARSED DATA ==="),console.log(At);const Pt=[];if(At.name&&Pt.push("Name"),At.email&&Pt.push("Email"),At.phone&&Pt.push("Phone"),Pt.length===0){alert(`❌ No contact details extracted.

Tips:
• Ensure good lighting
• Hold steady
• Card should be clear & flat

Check console (F12) for raw OCR text.`),F(!1),H("");return}else Pt.length<3&&console.warn(`⚠️ Partial extraction: ${Pt.join(", ")}`);a(At),x("OCR"),Me(At,"OCR",_e),u(!0)}catch(je){console.error("OCR Error:",je),alert("❌ OCR failed. Please try again with better image quality.")}finally{F(!1),H("")}},ge=se=>{const je=new Date,_e=new Date(se),Fe=je-_e,De=Math.floor(Fe/6e4);if(De<1)return"Just now";if(De<60)return`${De} mins ago`;const Z=Math.floor(De/60);return Z<24?`${Z} hours ago`:`${Math.floor(Z/24)} days ago`};return o.jsxs("div",{style:{padding:"0px",maxWidth:"1400px",margin:"0 auto"},children:[o.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"28px"},children:o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"28px",fontWeight:800,color:"#1e3a8a",margin:0,letterSpacing:"-0.02em"},children:"Qr Scanner"}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"6px"},children:"Scan visitor badges to capture leads instantly"})]})}),o.jsxs("div",{style:{display:"flex",gap:"4px",background:"#f1f5f9",padding:"4px",borderRadius:"12px",marginBottom:"24px",width:"fit-content"},children:[o.jsxs("button",{onClick:()=>{A("qr"),n(!1)},style:{padding:"8px 16px",borderRadius:"10px",border:"none",background:P==="qr"?"white":"transparent",color:P==="qr"?"#2563eb":"#64748b",fontWeight:600,fontSize:"14px",cursor:"pointer",boxShadow:P==="qr"?"0 1px 3px rgba(0,0,0,0.1)":"none",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s"},children:[o.jsx(ho,{size:16}),"QR Scanner"]}),o.jsxs("button",{onClick:()=>{A("ocr"),t&&q()},style:{padding:"8px 16px",borderRadius:"10px",border:"none",background:P==="ocr"?"white":"transparent",color:P==="ocr"?"#2563eb":"#64748b",fontWeight:600,fontSize:"14px",cursor:"pointer",boxShadow:P==="ocr"?"0 1px 3px rgba(0,0,0,0.1)":"none",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s"},children:[o.jsx(Vd,{size:16}),"OCR Scanner"]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2.5fr 1fr",gap:"24px"},children:[o.jsxs("div",{className:"card",style:{padding:"32px"},children:[P==="qr"?o.jsx(o.Fragment,{children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"32px"},children:[o.jsx("div",{style:{background:"rgba(37, 99, 235, 0.1)",padding:"12px",borderRadius:"12px"},children:o.jsx(ho,{size:24,color:"#2563eb"})}),o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",margin:0},children:"Scan Visitor Badge"}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b",margin:"4px 0 0 0"},children:"Point your camera at the visitor's QR code badge"})]})]})}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"32px"},children:[o.jsx("div",{style:{background:"rgba(37, 99, 235, 0.1)",padding:"12px",borderRadius:"12px"},children:o.jsx(Vd,{size:24,color:"#2563eb"})}),o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",margin:0},children:"Business Card OCR Scanner"}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b",margin:"4px 0 0 0"},children:"Scan business cards to automatically extract contact details"})]})]}),o.jsxs("div",{style:{background:"#f8fafc",border:"2px dashed #cbd5e1",borderRadius:"16px",padding:"40px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"300px",textAlign:"center",cursor:"pointer",transition:"all 0.2s"},onClick:()=>{var se;return(se=Y.current)==null?void 0:se.click()},children:[o.jsx("input",{type:"file",ref:Y,style:{display:"none"},accept:"image/*",capture:"environment",onChange:Ne}),W?o.jsxs(o.Fragment,{children:[o.jsx(Nw,{size:48,className:"animate-spin",color:"#3b82f6"}),o.jsx("p",{style:{marginTop:"16px",fontWeight:600,color:"#1e293b"},children:"Processing Business Card..."}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b"},children:ie})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{background:"#e0f2fe",padding:"16px",borderRadius:"50%",marginBottom:"16px"},children:o.jsx(Lw,{size:32,color:"#0284c7"})}),o.jsx("h4",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",marginBottom:"8px"},children:"Upload Business Card"}),o.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginBottom:"24px",maxWidth:"300px"},children:"Drag and drop or click to upload an image of the business card"}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsxs("button",{style:{padding:"10px 20px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",color:"#1e293b",fontWeight:600,fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},onClick:se=>{se.stopPropagation(),Ee()},children:[o.jsx(Ud,{size:16})," Use Camera"]}),o.jsxs("button",{style:{padding:"10px 20px",borderRadius:"8px",border:"none",background:"#10b981",color:"white",fontWeight:600,fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},onClick:se=>{var je;se.stopPropagation(),(je=Y.current)==null||je.click()},children:[o.jsx(xr,{size:16})," Choose Image"]})]})]})]}),o.jsxs("div",{style:{marginTop:"24px",display:"flex",gap:"16px",justifyContent:"center"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",color:"#64748b"},children:[o.jsx(an,{size:14})," Name Detection"]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",color:"#64748b"},children:[o.jsx(Vd,{size:14})," Email Extraction"]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",color:"#64748b"},children:[o.jsx(er,{size:14})," Phone Numbers"]})]})]}),P==="qr"&&o.jsxs("div",{style:{aspectRatio:"16/9",background:"#f8fafc",borderRadius:"24px",border:t?"2px solid #2563eb":"2px dashed #e2e8f0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"#94a3b8",gap:"16px",marginBottom:"32px",overflow:"hidden",position:"relative"},children:[!t&&o.jsxs("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px",zIndex:1,background:"#f8fafc"},children:[o.jsx(Ud,{size:64,style:{opacity:.5}}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"16px",fontWeight:600,color:"#64748b"},children:"Camera Preview"}),o.jsx("div",{style:{fontSize:"14px"},children:"Click the button below to start scanning"})]}),m&&o.jsx("div",{style:{background:"#fef2f2",color:"#dc2626",padding:"12px 20px",borderRadius:"8px",fontSize:"14px",maxWidth:"80%",textAlign:"center"},children:m})]}),o.jsx("div",{id:"qr-reader",style:{width:"100%",height:"100%",display:t?"block":"none"}}),t&&o.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"200px",height:"200px",border:"2px solid #2563eb",borderRadius:"16px",boxShadow:"0 0 0 1000px rgba(0,0,0,0.5)",pointerEvents:"none",zIndex:2},children:o.jsx("div",{className:"scanner-line",style:{position:"absolute",top:0,left:0,width:"100%",height:"2px",background:"#2563eb",animation:"scan 2s infinite alternate"}})})]}),P==="qr"&&o.jsx("div",{style:{display:"flex",gap:"16px"},children:t?o.jsxs("button",{onClick:q,style:{flex:1,padding:"16px",background:"#ef4444",color:"white",borderRadius:"12px",fontWeight:600,fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",border:"none",cursor:"pointer"},children:[o.jsx(Nn,{size:20}),"Stop Scanning"]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:B,style:{flex:2,padding:"16px",background:"#2563eb",color:"white",borderRadius:"12px",fontWeight:600,fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",border:"none",cursor:"pointer"},children:[o.jsx(ho,{size:20}),"Start Scanning"]}),o.jsxs("button",{onClick:()=>I(!0),style:{flex:1,padding:"16px",background:"#10b981",color:"white",borderRadius:"12px",border:"none",fontWeight:600,fontSize:"16px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[o.jsx(mr,{size:18}),"Type Code"]})]})})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[o.jsxs("div",{className:"card",style:{padding:"24px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[o.jsx(pr,{size:18,color:"#64748b"}),o.jsx("span",{style:{fontWeight:700,color:"#1e293b"},children:"Recent Scans"})]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px",maxHeight:"400px",overflowY:"auto"},children:g.length===0?o.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#94a3b8",fontSize:"14px"},children:"No scans yet"}):g.map((se,je)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px",background:"#f8fafc",borderRadius:"12px"},children:[o.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:"linear-gradient(135deg, #2563eb, #3b82f6)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:600,fontSize:"12px"},children:se.name?se.name[0].toUpperCase():"?"}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"#1e293b"},children:se.name||"Unknown"}),o.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:se.company||"No company"})]}),o.jsx("div",{style:{fontSize:"10px",color:"#94a3b8"},children:ge(se.scanned_at||se.created_at)})]},se.id||je))})]}),o.jsxs("div",{className:"card",style:{padding:"24px"},children:[o.jsx("h4",{style:{fontWeight:700,color:"#1e293b",marginBottom:"16px"},children:"Today's Summary"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"14px"},children:[o.jsx("span",{style:{color:"#64748b"},children:"Total Scans"}),o.jsx("span",{style:{fontWeight:700,color:"#1e293b"},children:g.length})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"14px"},children:[o.jsx("span",{style:{color:"#64748b"},children:"Unique Visitors"}),o.jsx("span",{style:{fontWeight:700,color:"#1e293b"},children:g.length})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"14px"},children:[o.jsx("span",{style:{color:"#64748b"},children:"Avg. Score"}),o.jsx("span",{style:{fontWeight:700,color:"#10b981"},children:g.length>0?(g.reduce((se,je)=>se+(je.rating||0),0)/g.length).toFixed(1):"0.0"})]})]})]})]})]}),o.jsx("div",{style:{textAlign:"center",marginTop:"32px",paddingBottom:"24px"},children:o.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",fontWeight:500},children:"Powered By Billiton"})}),l&&o.jsx(o.Fragment,{children:typeof r=="object"&&r.name?o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,minHeight:"100vh",height:"100%",background:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(4px)",padding:"20px",boxSizing:"border-box"},children:o.jsxs("div",{style:{background:"white",borderRadius:"24px",padding:"32px",width:"100%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",position:"relative"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[o.jsx("h2",{style:{fontSize:"24px",fontWeight:800,color:"#1e293b",margin:0},children:"Visitor Details"}),o.jsx("button",{onClick:de,style:{background:"none",border:"none",cursor:"pointer",color:"#94a3b8",padding:"4px"},children:o.jsx(Nn,{size:24})})]}),o.jsxs("div",{style:{background:"linear-gradient(135deg, #2563eb 0%, #3b82f6 100%)",padding:"24px",borderRadius:"16px",marginBottom:"24px",textAlign:"center",color:"white"},children:[o.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px",fontSize:"32px",fontWeight:700},children:r.name.charAt(0).toUpperCase()}),o.jsx("h3",{style:{fontSize:"24px",fontWeight:700,margin:"0 0 8px 0"},children:r.name}),o.jsx("p",{style:{fontSize:"14px",opacity:.9,margin:0},children:r.designation||"Visitor"})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[r.company&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:"#f8fafc",borderRadius:"12px"},children:[o.jsx("div",{style:{background:"#e0f2fe",padding:"8px",borderRadius:"8px"},children:o.jsx(an,{size:20,color:"#0284c7"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"2px"},children:"Company"}),o.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#1e293b"},children:r.company})]})]}),r.email&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:"#f8fafc",borderRadius:"12px"},children:[o.jsx("div",{style:{background:"#fef3c7",padding:"8px",borderRadius:"8px"},children:o.jsx(er,{size:20,color:"#f59e0b"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"2px"},children:"Email"}),o.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#1e293b"},children:r.email})]})]}),r.phone&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:"#f8fafc",borderRadius:"12px"},children:[o.jsx("div",{style:{background:"#dcfce7",padding:"8px",borderRadius:"8px"},children:o.jsx(er,{size:20,color:"#10b981"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"2px"},children:"Phone"}),o.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#1e293b"},children:r.phone})]})]}),r.eventName&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",background:"#f8fafc",borderRadius:"12px"},children:[o.jsx("div",{style:{background:"#fce7f3",padding:"8px",borderRadius:"8px"},children:o.jsx(er,{size:20,color:"#ec4899"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"2px"},children:"Event"}),o.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#1e293b"},children:r.eventName})]})]})]}),o.jsx("button",{onClick:de,style:{width:"100%",padding:"14px",background:"#2563eb",color:"white",border:"none",borderRadius:"12px",fontWeight:600,fontSize:"16px",cursor:"pointer",marginTop:"24px"},children:"Close"})]})}):o.jsx(WH,{scannedData:r,scanType:h,onClose:de,onSave:be})}),re&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"#000",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e4},children:o.jsxs("div",{style:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[o.jsx("video",{ref:ee,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"}}),o.jsx("canvas",{ref:ue,style:{display:"none"}}),o.jsxs("div",{style:{position:"absolute",bottom:"40px",left:"50%",transform:"translateX(-50%)",display:"flex",gap:"20px",alignItems:"center"},children:[o.jsx("button",{onClick:ve,style:{padding:"12px 24px",background:"rgba(239, 68, 68, 0.9)",color:"white",border:"none",borderRadius:"12px",fontWeight:600,fontSize:"16px",cursor:"pointer",backdropFilter:"blur(10px)"},children:"Cancel"}),o.jsx("button",{onClick:Oe,style:{width:"70px",height:"70px",borderRadius:"50%",background:"white",border:"4px solid rgba(37, 99, 235, 0.8)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},children:o.jsx(Ud,{size:32,color:"#2563eb"})})]}),o.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"95%",aspectRatio:"1.6",border:"4px dashed rgba(255, 255, 255, 0.8)",borderRadius:"16px",pointerEvents:"none"},children:o.jsx("div",{style:{position:"absolute",top:"-50px",left:"50%",transform:"translateX(-50%)",background:"rgba(0, 0, 0, 0.8)",color:"white",padding:"12px 20px",borderRadius:"12px",fontSize:"16px",fontWeight:600,whiteSpace:"nowrap"},children:"📇 Position business card within frame"})})]})}),C&&o.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:o.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"32px",width:"400px",maxWidth:"90vw",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[o.jsx("h3",{style:{margin:0,fontSize:"20px",fontWeight:700,color:"#1e293b"},children:"Enter Visitor Code"}),o.jsx("button",{onClick:()=>{I(!1),E("")},style:{background:"none",border:"none",cursor:"pointer",padding:"8px"},children:o.jsx(Nn,{size:20,color:"#64748b"})})]}),o.jsx("p",{style:{color:"#64748b",fontSize:"14px",marginBottom:"16px"},children:"Enter the visitor code from their badge (e.g., VIS-CGAEDCYF)"}),o.jsx("input",{type:"text",value:j,onChange:se=>E(se.target.value.toUpperCase()),placeholder:"VIS-XXXXXXXX",style:{width:"100%",padding:"16px",fontSize:"18px",fontWeight:600,fontFamily:"monospace",border:"2px solid #e2e8f0",borderRadius:"12px",textAlign:"center",letterSpacing:"2px",marginBottom:"16px",boxSizing:"border-box"},onKeyDown:se=>{se.key==="Enter"&&te()},autoFocus:!0}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsx("button",{onClick:()=>{I(!1),E("")},style:{flex:1,padding:"14px",background:"#f1f5f9",color:"#64748b",border:"none",borderRadius:"12px",fontWeight:600,fontSize:"16px",cursor:"pointer"},children:"Cancel"}),o.jsxs("button",{onClick:te,style:{flex:2,padding:"14px",background:"#10b981",color:"white",border:"none",borderRadius:"12px",fontWeight:600,fontSize:"16px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[o.jsx(mr,{size:18}),"Find Visitor"]})]})]})})]})},L2=()=>{const e=[{time:"9 AM",visitors:45},{time:"10 AM",visitors:110},{time:"11 AM",visitors:145},{time:"12 PM",visitors:115},{time:"1 PM",visitors:95},{time:"2 PM",visitors:135},{time:"3 PM",visitors:145},{time:"4 PM",visitors:125},{time:"5 PM",visitors:105},{time:"6 PM",visitors:75}],t=[{day:"Mon",visitors:420,leads:85},{day:"Tue",visitors:380,leads:72},{day:"Wed",visitors:510,leads:95},{day:"Thu",visitors:480,leads:88},{day:"Fri",visitors:620,leads:112},{day:"Sat",visitors:320,leads:54},{day:"Sun",visitors:280,leads:48}],n=[{name:"Product A",value:85,color:"#0d89a4"},{name:"Product B",value:72,color:"#10b981"},{name:"Product C",value:58,color:"#f59e0b"},{name:"Service X",value:45,color:"#ef4444"},{name:"Solution Y",value:38,color:"#8b5cf6"}],r=[{name:"Hot",value:35,color:"#ef4444"},{name:"Warm",value:42,color:"#f59e0b"},{name:"Cold",value:23,color:"#3b82f6"}];return o.jsxs("div",{style:{padding:"0px",maxWidth:"1400px",margin:"0 auto"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"28px"},children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"28px",fontWeight:800,color:"#1e3a8a",margin:0,letterSpacing:"-0.02em"},children:"Analytics"}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"6px"},children:"Generate and download event reports"})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"white",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"#475569",cursor:"pointer"},children:[o.jsx(fn,{size:16}),"Export"]}),o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"#2563eb",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"white",cursor:"pointer"},children:[o.jsx(fl,{size:16}),"Generate Report"]})]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"32px"},children:[{label:"Total Reports",value:"4",icon:_i,color:"#2563eb"},{label:"Ready",value:"3",icon:Li,color:"#10b981"},{label:"Processing",value:"1",icon:pr,color:"#f59e0b"},{label:"This Week",value:"4",icon:un,color:"#0ea5e9"}].map((a,l)=>o.jsx("div",{className:"card",style:{padding:"24px"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600},children:a.label}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",marginTop:"4px"},children:a.value})]}),o.jsx("div",{style:{background:`${a.color}15`,padding:"10px",borderRadius:"10px"},children:a.icon&&o.jsx(a.icon,{size:20,color:a.color})})]})},l))}),o.jsxs("div",{className:"card",style:{padding:"24px",marginBottom:"32px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",margin:0},children:"Generated Reports"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("span",{style:{fontSize:"13px",color:"#64748b"},children:"Show"}),o.jsx("select",{style:{padding:"6px 12px",border:"1.5px solid #e2e8f0",borderRadius:"8px",fontSize:"13px"},children:o.jsx("option",{children:"10"})}),o.jsx("span",{style:{fontSize:"13px",color:"#64748b"},children:"entries"})]})]}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"REPORT NAME"}),o.jsx("th",{children:"TYPE"}),o.jsx("th",{children:"DATE RANGE"}),o.jsx("th",{children:"FORMAT"}),o.jsx("th",{children:"STATUS"}),o.jsx("th",{children:"SIZE"}),o.jsx("th",{children:"ACTIONS"})]})}),o.jsx("tbody",{children:[{name:"Lead Summary Report - March 2024",type:"Leads",range:"Mar 15-17, 2024",format:"PDF",status:"Ready",size:"2.4 MB"},{name:"Visitor Analytics Export",type:"Visitors",range:"Mar 15-17, 2024",format:"EXCEL",status:"Ready",size:"1.4 MB"},{name:"Daily Performance Report",type:"Performance",range:"Mar 15-17, 2024",format:"PDF",status:"Ready",size:"1.4 MB"}].map((a,l)=>o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:600},children:a.name}),o.jsx("td",{children:o.jsx("span",{style:{padding:"4px 8px",background:"#f1f5f9",borderRadius:"4px",fontSize:"11px",fontWeight:600},children:a.type})}),o.jsx("td",{style:{fontSize:"13px",color:"#64748b"},children:a.range}),o.jsx("td",{style:{fontWeight:600,fontSize:"13px"},children:a.format}),o.jsx("td",{children:o.jsx("span",{style:{color:"#10b981",fontWeight:700,fontSize:"12px"},children:a.status})}),o.jsx("td",{style:{fontSize:"13px",color:"#64748b"},children:a.size}),o.jsx("td",{children:o.jsx("button",{style:{background:"none",border:"none",cursor:"pointer"},children:"..."})})]},l))})]})})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"32px"},children:[o.jsxs("div",{className:"card",style:{padding:"24px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",marginBottom:"24px"},children:"Hourly Visitor Traffic"}),o.jsx("div",{style:{height:"300px"},children:o.jsx(Da,{width:"100%",height:"100%",children:o.jsxs(Op,{data:e,children:[o.jsx(Es,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),o.jsx(ri,{dataKey:"time",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94a3b8"}}),o.jsx(ii,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94a3b8"}}),o.jsx(Sn,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -1px rgba(0,0,0,0.1)"}}),o.jsx(kr,{type:"monotone",dataKey:"visitors",stroke:"#0d89a4",strokeWidth:3,dot:!1,fill:"url(#colorVis)"})]})})})]}),o.jsxs("div",{className:"card",style:{padding:"24px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",marginBottom:"24px"},children:"Weekly Performance"}),o.jsx("div",{style:{height:"300px"},children:o.jsx(Da,{width:"100%",height:"100%",children:o.jsxs(bV,{data:t,children:[o.jsx(Es,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),o.jsx(ri,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94a3b8"}}),o.jsx(ii,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94a3b8"}}),o.jsx(Sn,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -1px rgba(0,0,0,0.1)"}}),o.jsx(ei,{}),o.jsx(ni,{dataKey:"visitors",fill:"#2563eb",radius:[4,4,0,0]}),o.jsx(ni,{dataKey:"leads",fill:"#f59e0b",radius:[4,4,0,0]})]})})})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"24px",marginBottom:"32px"},children:[o.jsxs("div",{className:"card",style:{padding:"24px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",marginBottom:"24px"},children:"Lead Quality Distribution"}),o.jsx("div",{style:{height:"300px",display:"flex",alignItems:"center"},children:o.jsx(Da,{width:"100%",height:"100%",children:o.jsxs(vV,{children:[o.jsx($r,{data:r,innerRadius:80,outerRadius:100,paddingAngle:5,dataKey:"value",children:r.map((a,l)=>o.jsx(Qc,{fill:a.color},`cell-${l}`))}),o.jsx(Sn,{}),o.jsx(ei,{verticalAlign:"bottom",height:36})]})})})]}),o.jsxs("div",{className:"card",style:{padding:"24px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",marginBottom:"24px"},children:"Product/Service Interest"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:n.map((a,l)=>o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px",marginBottom:"6px"},children:[o.jsx("span",{style:{fontWeight:600,color:"#475569"},children:a.name}),o.jsxs("span",{style:{fontWeight:700,color:"#1e293b"},children:[a.value,"%"]})]}),o.jsx("div",{style:{height:"8px",background:"#f1f5f9",borderRadius:"4px",overflow:"hidden"},children:o.jsx("div",{style:{width:`${a.value}%`,height:"100%",background:a.color,borderRadius:"4px"}})})]},l))})]})]}),o.jsxs("div",{className:"card",style:{padding:"24px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",marginBottom:"24px"},children:"Scheduled Reports"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[[{name:"Daily Lead Summary",time:"Sent daily at 11:59 PM",icon:o.jsx(Mr,{size:16})},{name:"Weekly Performance Digest",time:"Sent every Sunday at 6:00 PM",icon:o.jsx(fl,{size:16})}].map((a,l)=>o.jsxs("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[o.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"white",display:"flex",alignItems:"center",justifyContent:"center",color:"#2563eb",border:"1px solid #e2e8f0"},children:a.icon}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:700,color:"#1e293b",fontSize:"14px"},children:a.name}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:a.time})]})]}),o.jsx("button",{style:{padding:"6px 12px",background:"#f0fdf4",border:"none",borderRadius:"6px",fontSize:"11px",fontWeight:700,color:"#10b981"},children:"Active"})]},l)),o.jsx("button",{style:{width:"100%",padding:"12px",background:"white",border:"1px dashed #e2e8f0",borderRadius:"12px",fontSize:"13px",fontWeight:600,color:"#64748b",cursor:"pointer",marginTop:"12px"},children:"+ Add Scheduled Report"})]})]}),o.jsx("div",{style:{textAlign:"center",marginTop:"32px",paddingBottom:"24px"},children:o.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",fontWeight:500},children:"Powered By Billiton"})})]})},W2=()=>{const[e,t]=X.useState("All"),n=[{name:"Tech Innovation Summit 2024",status:"Completed",location:"Mumbai Convention Centre",date:"Feb 20-22, 2024",leads:156,visitors:943,rating:4.8,roi:"+285%"},{name:"Digital Marketing Expo",status:"Completed",location:"Mumbai Convention Centre",date:"Feb 20-22, 2024",leads:98,visitors:567,rating:4.5,roi:"+210%"},{name:"Startup India Conference",status:"Completed",location:"Delhi Trade Fair Ground",date:"Jan 10-12, 2024",leads:124,visitors:789,rating:4.6,roi:"+245%"},{name:"AI & ML World Congress",status:"Upcoming",location:"Hyderabad Tech Park",date:"Apr 5-7, 2024",leads:0,visitors:0,rating:0,roi:"-"},{name:"Cloud Computing Summit",status:"Upcoming",location:"Chennai Trade Centre",date:"May 12-14, 2024",leads:0,visitors:0,rating:0,roi:"-"}];return o.jsxs("div",{style:{padding:"0px",maxWidth:"1400px",margin:"0 auto"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"28px"},children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"28px",fontWeight:800,color:"#1e3a8a",margin:0,letterSpacing:"-0.02em"},children:"Event Management"}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"6px"},children:"Track your exhibition history and upcoming events"})]}),o.jsx("div",{style:{display:"flex",gap:"12px"},children:o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"#2563eb",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"white",cursor:"pointer"},children:[o.jsx(ir,{size:16}),"Register New Event"]})})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"32px"},children:[{label:"Total Events",value:"12",icon:un,color:"#2563eb"},{label:"Completed",value:"10",icon:Li,color:"#10b981"},{label:"Upcoming",value:"2",icon:pr,color:"#f59e0b"},{label:"Total Leads",value:"1,245",icon:an,color:"#0ea5e9"}].map((r,a)=>o.jsx("div",{className:"card",style:{padding:"24px"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600},children:r.label}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",marginTop:"4px"},children:r.value})]}),o.jsx("div",{style:{background:`${r.color}15`,padding:"10px",borderRadius:"10px"},children:o.jsx(r.icon,{size:20,color:r.color})})]})},a))}),o.jsxs("div",{className:"card",style:{padding:"24px",marginBottom:"32px"},children:[o.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{background:"rgba(16, 185, 129, 0.1)",padding:"8px",borderRadius:"10px"},children:o.jsx(nr,{size:20,color:"#10b981"})}),o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",margin:0},children:"Performance Overview"})]})}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"24px"},children:[{label:"Average Leads per Event",value:"124",change:"+18%"},{label:"Average Visitors",value:"766",change:"+22%"},{label:"Average Rating",value:"4.6",change:"+0.3"},{label:"Total Revenue",value:"₹24,50,000",change:"+45%"}].map((r,a)=>o.jsxs("div",{style:{padding:"20px",background:"#f8fafc",borderRadius:"16px",border:"1px solid #f1f5f9"},children:[o.jsx("div",{style:{fontSize:"12px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:r.label}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[o.jsx("div",{style:{fontSize:"24px",fontWeight:800,color:"#1e293b"},children:r.value}),o.jsx("div",{style:{fontSize:"11px",color:"#10b981",fontWeight:700,background:"#f0fdf4",padding:"2px 8px",borderRadius:"6px"},children:r.change})]})]},a))})]}),o.jsxs("div",{className:"card",style:{padding:"24px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",margin:0},children:"Events History"}),o.jsx("div",{style:{display:"flex",gap:"8px"},children:["All","Completed","Upcoming"].map(r=>o.jsx("button",{onClick:()=>t(r),style:{padding:"6px 16px",borderRadius:"8px",fontSize:"13px",fontWeight:600,background:e===r?"#f1f5f9":"white",color:e===r?"#1e293b":"#64748b",border:"1px solid #e2e8f0",cursor:"pointer"},children:r},r))})]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:n.filter(r=>e==="All"||r.status===e).map((r,a)=>o.jsxs("div",{style:{padding:"20px",border:"1px solid #f1f5f9",borderRadius:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[o.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"#f8fafc",display:"flex",alignItems:"center",justifyContent:"center",color:"#2563eb",border:"1px solid #e2e8f0"},children:o.jsx(un,{size:20})}),o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[o.jsx("span",{style:{fontWeight:700,fontSize:"16px",color:"#1e293b"},children:r.name}),o.jsx("span",{style:{padding:"2px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:700,background:r.status==="Completed"?"#f0fdf4":"#fff7ed",color:r.status==="Completed"?"#10b981":"#f59e0b"},children:r.status})]}),o.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"12px",color:"#64748b"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(fo,{size:14})," ",r.location]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(pr,{size:14})," ",r.date]})]})]})]}),o.jsxs("div",{style:{display:"flex",gap:"40px",alignItems:"center"},children:[o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"18px",fontWeight:800,color:"#1e293b"},children:r.leads}),o.jsx("div",{style:{fontSize:"11px",color:"#64748b"},children:"Leads"})]}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"18px",fontWeight:800,color:"#1e293b"},children:r.visitors}),o.jsx("div",{style:{fontSize:"11px",color:"#64748b"},children:"Visitors"})]}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsxs("div",{style:{fontSize:"18px",fontWeight:800,color:"#1e293b"},children:["★ ",r.rating]}),o.jsx("div",{style:{fontSize:"11px",color:"#64748b"},children:"Rating"})]}),o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"18px",fontWeight:800,color:"#10b981"},children:r.roi}),o.jsx("div",{style:{fontSize:"11px",color:"#64748b"},children:"ROI"})]}),o.jsxs("button",{style:{padding:"8px 16px",background:"white",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"13px",fontWeight:600,color:"#475569",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:["View Details ",o.jsx(Ko,{size:14})]})]})]},a))})]}),o.jsx("div",{style:{textAlign:"center",marginTop:"32px",paddingBottom:"24px"},children:o.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",fontWeight:500},children:"Powered By Billiton"})})]})},FH=[{name:"Mon",organizations:200,exhibitors:150,visitors:400},{name:"Tue",organizations:250,exhibitors:180,visitors:350},{name:"Wed",organizations:220,exhibitors:200,visitors:450},{name:"Thu",organizations:300,exhibitors:250,visitors:500},{name:"Fri",organizations:450,exhibitors:300,visitors:650},{name:"Sat",organizations:350,exhibitors:220,visitors:550},{name:"Sun",organizations:300,exhibitors:200,visitors:480}],$H=({onLogout:e,userType:t="master"})=>{const[n,r]=X.useState(()=>localStorage.getItem("activeScreen")||"dashboard"),[a,l]=X.useState(!1),[u,h]=X.useState(""),[x,g]=X.useState([]),[b,m]=X.useState([]),[S,C]=X.useState([]),[I,j]=X.useState([]),E=async()=>{l(!0),h("");try{const T=async Y=>{const re=await Y.clone().text();try{return JSON.parse(re)}catch{return re}},[P,A,N,k]=await Promise.all([fetch("/api/organizations"),fetch("/api/events"),fetch("/api/exhibitors"),fetch("/api/visitors")]),[W,F,ie,H]=await Promise.all([T(P),T(A),T(N),T(k)]);if(!P.ok)throw new Error(W&&W.error||String(W)||"Failed to load organizations");if(!A.ok)throw new Error(F&&F.error||String(F)||"Failed to load events");if(!N.ok)throw new Error(ie&&ie.error||String(ie)||"Failed to load exhibitors");if(!k.ok)throw new Error(H&&H.error||String(H)||"Failed to load visitors");g(Array.isArray(W)?W:[]),m(Array.isArray(F)?F:[]),C(Array.isArray(ie)?ie:[]),j(Array.isArray(H)?H:[])}catch(T){console.error("Failed to load dashboard data",T),h((T==null?void 0:T.message)||String(T)),g([]),m([]),C([]),j([])}finally{l(!1)}},R=T=>{r(T),localStorage.setItem("activeScreen",T)};X.useEffect(()=>{n==="dashboard"&&t!=="exhibitor"&&E()},[n,t]);const _=()=>{if(t==="exhibitor")switch(n){case"leads":return o.jsx(_2,{onNavigate:R});case"scanner":return o.jsx(z2,{onNavigate:R});case"events":return o.jsx(W2,{onNavigate:R});case"analytics":return o.jsx(L2,{onNavigate:R});case"billing":return o.jsx(r0,{onNavigate:R});case"users":return o.jsx(n0,{onNavigate:R});default:return o.jsx(T2,{onNavigate:R})}switch(n){case"events":return o.jsx(N4,{});case"exhibitors":return o.jsx(k4,{});case"tenants":return o.jsx(B4,{});case"users":return o.jsx(n0,{});case"visitors":return o.jsx(z4,{});case"billing":return o.jsx(r0,{});default:const T=t==="organization",P=x.length,A=b.length,N=S.length,k=I.length,W=[...b].sort((H,Y)=>{const re=H!=null&&H.created_at?new Date(H.created_at).getTime():0;return(Y!=null&&Y.created_at?new Date(Y.created_at).getTime():0)-re}),F=W.slice(0,3),ie=W.slice(0,4);return o.jsxs("div",{className:"dashboard-container",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"28px"},className:"fade-in",children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"28px",fontWeight:800,color:"#1e3a8a",margin:0,letterSpacing:"-0.02em"},children:T?"Dashboard":"Master Dashboard"}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"6px"},children:T?"Overview of your event management":"Global overview of your event management platform"})]}),o.jsxs("div",{style:{background:"rgba(37, 99, 235, 0.08)",padding:"8px 16px",borderRadius:"12px",color:"#2563eb",fontWeight:600,fontSize:"14px"},children:["Good Morning ",localStorage.getItem("organizationName")||"User","....!"]})]}),o.jsxs("div",{className:"stats-grid fade-in",children:[o.jsx(qr,{label:"Active Tenants",value:String(P),change:a?"Loading...":void 0,icon:Pn,colorClass:"text-blue-500",customClass:"stat-card-blue"}),o.jsx(qr,{label:"Active Events",value:String(A),change:a?"Loading...":void 0,icon:un,colorClass:"text-emerald-500",customClass:"stat-card-green"}),o.jsx(qr,{label:"Total Exhibitors",value:String(N),change:a?"Loading...":void 0,icon:xr,colorClass:"text-purple-500",customClass:"stat-card-purple"}),o.jsx(qr,{label:"Registered Visitors",value:String(k),change:a?"Loading...":void 0,icon:an,colorClass:"text-blue-400",customClass:"stat-card-blue"}),o.jsx(qr,{label:"Leads Captured",value:"18,429",change:"+892 today",icon:Qp,colorClass:"text-orange-500",customClass:"stat-card-orange"}),o.jsx(qr,{label:"Messages Sent",value:"45,621",change:"+1,234 today",icon:bo,colorClass:"text-cyan-500",customClass:"stat-card-cyan"}),o.jsx(qr,{label:"Revenue (MTD)",value:"₹12.4L",change:"+18% vs last month",icon:Iu,colorClass:"text-emerald-600",customClass:"stat-card-emerald"}),o.jsx(qr,{label:"Active Users",value:"892",change:"Online now",icon:Cc,colorClass:"text-teal-500",customClass:"stat-card-teal"})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.6fr 1fr",gap:"24px",marginBottom:"24px"},className:"fade-in",children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("div",{style:{background:"rgba(16, 185, 129, 0.1)",padding:"8px",borderRadius:"10px"},children:o.jsx(un,{size:18,color:"#10b981"})}),o.jsxs("div",{children:[o.jsx("span",{style:{fontWeight:700,fontSize:"16px",color:"#1e293b"},children:"Live Events"}),o.jsx("p",{style:{margin:0,fontSize:"12px",color:"#64748b"},children:"2 events currently running"})]})]})}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:u?o.jsx("div",{style:{padding:"20px",border:"1px solid #fee2e2",borderRadius:"16px",background:"#fff1f2",color:"#991b1b",fontWeight:600},children:u}):a?o.jsx("div",{style:{padding:"20px",border:"1px solid #f1f5f9",borderRadius:"16px",color:"#64748b",fontWeight:600},children:"Loading..."}):F.length===0?o.jsx("div",{style:{padding:"20px",border:"1px solid #f1f5f9",borderRadius:"16px",color:"#64748b",fontWeight:600},children:"No events yet"}):F.map((H,Y)=>o.jsxs("div",{style:{padding:"20px",border:"1px solid #f1f5f9",borderRadius:"16px",position:"relative",transition:"all 0.2s"},className:"hover-lift",children:[o.jsx("div",{style:{position:"absolute",top:"20px",right:"20px"},children:o.jsx("span",{className:`badge badge-${String(H.status||"draft").toLowerCase()}`,children:H.status||"Draft"})}),o.jsx("div",{style:{fontWeight:700,fontSize:"15px",color:"#1e293b"},children:H.event_name||H.name||""}),o.jsx("div",{style:{fontSize:"12px",color:"#94a3b8",marginBottom:"16px"},children:H.organizer_name||H.organizer_email||"-"}),o.jsxs("div",{style:{display:"flex",gap:"40px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(er,{size:14,color:"#64748b"}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:700,fontSize:"13px"},children:"-"}),o.jsx("div",{style:{fontSize:"10px",color:"#94a3b8"},children:"Leads"})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(xr,{size:14,color:"#64748b"}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:700,fontSize:"13px"},children:"-"}),o.jsx("div",{style:{fontSize:"10px",color:"#94a3b8"},children:"Exhibitors"})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(an,{size:14,color:"#64748b"}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:700,fontSize:"13px"},children:"-"}),o.jsx("div",{style:{fontSize:"10px",color:"#94a3b8"},children:"Visitors"})]})]})]})]},Y))})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"28px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{background:"rgba(37, 99, 235, 0.1)",padding:"10px",borderRadius:"10px"},children:o.jsx(er,{size:20,color:"#2563eb"})}),o.jsx("span",{style:{fontWeight:700,fontSize:"17px",color:"#1e293b"},children:"Lead Capture"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",background:"#fee2e2",padding:"4px 10px",borderRadius:"6px"},children:[o.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"#ef4444"}}),o.jsx("span",{style:{color:"#ef4444",fontSize:"11px",fontWeight:700},children:"Live"})]}),o.jsxs("div",{style:{textAlign:"right"},children:[o.jsx("span",{style:{fontWeight:800,fontSize:"32px",color:"#2563eb",lineHeight:1},children:"8,542"}),o.jsx("span",{style:{fontSize:"13px",color:"#94a3b8",marginLeft:"8px",fontWeight:500},children:"Today"})]})]})]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginBottom:"24px"},children:[{type:"Visitor QR",count:"2,134",status:"Good",color:"#10b981"},{type:"Stall QR",count:"1,856",status:"Good",color:"#10b981"},{type:"OCR",count:"892",status:"Warning",color:"#f59e0b"},{type:"Manual",count:"2,134",status:"Good",color:"#10b981"}].map((H,Y)=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 0"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:H.color}}),o.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:"#334155"},children:H.type})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:"#1e293b"},children:H.count}),o.jsx("div",{style:{fontSize:"11px",color:H.color,background:`${H.color}15`,padding:"4px 10px",borderRadius:"6px",fontWeight:600,minWidth:"65px",textAlign:"center"},children:H.status})]})]},Y))}),o.jsxs("div",{style:{borderTop:"1px solid #f1f5f9",paddingTop:"20px"},children:[o.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"#64748b",marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Total Lead Captures"}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"20px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"18px",fontWeight:800,color:"#1e293b"},children:"1,00,000"}),o.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:"QR Scan"})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"18px",fontWeight:800,color:"#1e293b"},children:"5,00,000"}),o.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:"OCR / card"})]})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"18px",fontWeight:800,color:"#1e293b",marginBottom:"4px"},children:"10,000"}),o.jsx("div",{style:{fontSize:"11px",color:"#94a3b8",marginBottom:"16px"},children:"Manual"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"16px",borderTop:"1px solid #f1f5f9"},children:[o.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"#64748b"},children:"Conversion Rate"}),o.jsx("div",{style:{fontSize:"16px",fontWeight:800,color:"#2563eb"},children:"34.5%"})]})]})]})]}),o.jsxs("div",{className:"card fade-in",style:{marginBottom:"24px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{background:"rgba(37, 99, 235, 0.1)",padding:"8px",borderRadius:"10px"},children:o.jsx(er,{size:20,color:"#2563eb"})}),o.jsxs("div",{children:[o.jsx("span",{style:{fontWeight:700,fontSize:"16px",color:"#1e293b"},children:"Filter Organization Activity"}),o.jsx("p",{style:{margin:0,fontSize:"12px",color:"#94a3b8"},children:"Real-time activity by organization"})]})]}),o.jsxs("select",{style:{border:"1px solid #e2e8f0",padding:"8px 16px",borderRadius:"10px",fontSize:"13px",color:"#475569",fontWeight:500,background:"white"},children:[o.jsx("option",{children:"Select Organization"}),o.jsx("option",{children:"TechCorp India"}),o.jsx("option",{children:"Govt. of Maharashtra"})]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"16px"},children:[{label:"Events",value:"32",customClass:"activity-pink",textColor:"#ef4444"},{label:"Exhibitors",value:"500",customClass:"activity-gray",textColor:"#475569"},{label:"Stalls",value:"1000",customClass:"activity-orange",textColor:"#f59e0b"},{label:"Visitors",value:"15000",customClass:"activity-red",textColor:"#dc2626"},{label:"Revenue",value:"10,00,000",customClass:"activity-green",textColor:"#16a34a",isDropdown:!0}].map((H,Y)=>o.jsx("div",{className:`hover-lift ${H.customClass}`,style:{padding:"24px 16px",borderRadius:"12px",textAlign:"center",border:"1px solid transparent"},children:H.isDropdown?o.jsxs("div",{children:[o.jsxs("select",{style:{width:"100%",border:"none",background:"transparent",fontSize:"26px",fontWeight:800,color:H.textColor,textAlign:"center",outline:"none",cursor:"pointer",appearance:"none",WebkitAppearance:"none",MozAppearance:"none"},children:[o.jsx("option",{value:"1000000",children:"10,00,000"}),o.jsx("option",{value:"500000",children:"5,00,000"}),o.jsx("option",{value:"2000000",children:"20,00,000"})]}),o.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.02em",marginTop:"4px"},children:H.label})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{fontSize:"26px",fontWeight:800,color:H.textColor,marginBottom:"4px"},children:H.value}),o.jsx("div",{style:{fontSize:"12px",fontWeight:600,color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.02em"},children:H.label})]})},Y))})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.6fr 1fr",gap:"24px",marginBottom:"24px"},className:"fade-in",children:[o.jsxs("div",{className:"card",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[o.jsxs("div",{children:[o.jsx("span",{style:{fontWeight:700,fontSize:"16px"},children:"Users Trend"}),o.jsx("p",{style:{margin:0,fontSize:"12px",color:"#94a3b8"},children:"Weekly engagement metrics"})]}),o.jsxs("select",{style:{border:"1px solid #e2e8f0",background:"white",padding:"6px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:500,color:"#64748b"},children:[o.jsx("option",{children:"Weekly"}),o.jsx("option",{children:"Monthly"})]})]}),o.jsx("div",{style:{height:"280px"},children:o.jsx(Da,{width:"100%",height:"100%",children:o.jsxs(Op,{data:FH,children:[o.jsx(Es,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),o.jsx(ri,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94a3b8"},dy:10}),o.jsx(ii,{axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"#94a3b8"},domain:[0,800]}),o.jsx(Sn,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 10px 15px -3px rgba(0,0,0,0.1)"}}),o.jsx(kr,{type:"monotone",dataKey:"organizations",stroke:"#2563eb",strokeWidth:2,dot:!1}),o.jsx(kr,{type:"monotone",dataKey:"exhibitors",stroke:"#8b5cf6",strokeWidth:2,dot:!1}),o.jsx(kr,{type:"monotone",dataKey:"visitors",stroke:"#10b981",strokeWidth:2,dot:!1})]})})}),o.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"24px",marginTop:"16px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"11px",fontWeight:600,color:"#64748b"},children:[o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#2563eb"}})," Organizations"]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"11px",fontWeight:600,color:"#64748b"},children:[o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#8b5cf6"}})," Exhibitors"]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"11px",fontWeight:600,color:"#64748b"},children:[o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#10b981"}})," Visitors"]})]})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"28px"},children:[o.jsx("div",{style:{background:"rgba(59, 130, 246, 0.1)",padding:"8px",borderRadius:"10px"},children:o.jsx(bo,{size:18,color:"#3b82f6"})}),o.jsx("span",{style:{fontWeight:700,fontSize:"16px"},children:"Communication Health"})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"24px"},children:[o.jsxs("div",{style:{background:"#f8fafc",padding:"20px",borderRadius:"16px",border:"1px solid #f1f5f9"},children:[o.jsx("div",{style:{fontSize:"11px",fontWeight:600,color:"#94a3b8",marginBottom:"6px",textTransform:"uppercase"},children:"WhatsApp Sent Today"}),o.jsx("div",{style:{fontSize:"24px",fontWeight:800,color:"#1e293b"},children:"15,420"})]}),o.jsxs("div",{style:{background:"#f8fafc",padding:"20px",borderRadius:"16px",border:"1px solid #f1f5f9"},children:[o.jsx("div",{style:{fontSize:"11px",fontWeight:600,color:"#94a3b8",marginBottom:"6px",textTransform:"uppercase"},children:"Last 15 min"}),o.jsx("div",{style:{fontSize:"24px",fontWeight:800,color:"#1e293b"},children:"342"})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"32px"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"11px",fontWeight:600,color:"#64748b",marginBottom:"8px"},children:"Delivery Rate"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("div",{style:{height:"8px",flex:1,background:"#f1f5f9",borderRadius:"4px",overflow:"hidden"},children:o.jsx("div",{style:{width:"98.5%",height:"100%",background:"#10b981"}})}),o.jsx("span",{style:{fontSize:"13px",fontWeight:700,color:"#10b981"},children:"98.5%"})]})]}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"11px",fontWeight:600,color:"#64748b",marginBottom:"8px"},children:"Opt-out Rate"}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("div",{style:{height:"8px",flex:1,background:"#f1f5f9",borderRadius:"4px",overflow:"hidden"},children:o.jsx("div",{style:{width:"1.2%",height:"100%",background:"#f43f5e"}})}),o.jsx("span",{style:{fontSize:"13px",fontWeight:700,color:"#f43f5e"},children:"1.2%"})]})]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:"20px",borderTop:"1px solid #f1f5f9"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:"#10b981"}}),o.jsx("span",{style:{fontSize:"13px",fontWeight:600,color:"#475569"},children:"Rate Limiting"})]}),o.jsx("span",{style:{fontSize:"11px",color:"#10b981",fontWeight:700},children:"Not Active"})]})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.8fr 1fr",gap:"24px",marginBottom:"24px"},className:"fade-in",children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("div",{style:{background:"rgba(37, 99, 235, 0.1)",padding:"8px",borderRadius:"10px"},children:o.jsx(un,{size:18,color:"#2563eb"})}),o.jsx("span",{style:{fontWeight:700,fontSize:"16px"},children:"Recent Events"})]})}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Event Name"}),o.jsx("th",{children:"Tenant"}),o.jsx("th",{children:"Status"}),o.jsx("th",{children:"Visitors"}),o.jsx("th",{children:"Leads"}),o.jsx("th",{children:"Date"})]})}),o.jsx("tbody",{children:a?o.jsx("tr",{children:o.jsx("td",{colSpan:6,style:{padding:"24px",textAlign:"center",color:"#64748b",fontWeight:600},children:"Loading..."})}):ie.length===0?o.jsx("tr",{children:o.jsx("td",{colSpan:6,style:{padding:"24px",textAlign:"center",color:"#64748b",fontWeight:600},children:"No events yet"})}):ie.map((H,Y)=>{const re=H.status||"Draft",ae=H.created_at?new Date(H.created_at):null,L=ae?ae.toLocaleDateString():"";return o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:600},children:H.event_name||H.name||""}),o.jsx("td",{style:{fontSize:"13px",color:"#64748b"},children:H.organizer_name||H.organizer_email||"-"}),o.jsx("td",{children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:String(re).toLowerCase()==="active"?"#10b981":"#f59e0b"}}),o.jsx("span",{style:{fontSize:"12px",fontWeight:600,color:String(re).toLowerCase()==="active"?"#10b981":"#f59e0b"},children:re})]})}),o.jsx("td",{style:{fontWeight:600},children:"-"}),o.jsx("td",{style:{fontWeight:600},children:"-"}),o.jsx("td",{style:{fontSize:"12px",color:"#94a3b8"},children:L})]},Y)})})]})})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"24px"},children:[o.jsx("div",{style:{background:"rgba(37, 99, 235, 0.1)",padding:"8px",borderRadius:"10px"},children:o.jsx(er,{size:18,color:"#2563eb"})}),o.jsx("span",{style:{fontWeight:700,fontSize:"16px"},children:"System Health"})]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[{label:"API Gateway",status:"99.99%",color:"#10b981"},{label:"Database",status:"99.95%",color:"#10b981"},{label:"WhatsApp Service",status:"99.90%",color:"#10b981"},{label:"Email Service",status:"98.50%",color:"#f59e0b"},{label:"SMS Gateway",status:"99.85%",color:"#10b981"}].map((H,Y)=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"4px",border:`1px solid ${H.color}`,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",background:H.color}})}),o.jsx("span",{style:{fontSize:"13px",fontWeight:600,color:"#475569"},children:H.label})]}),o.jsx("span",{style:{fontSize:"12px",fontWeight:700,color:"#94a3b8"},children:H.status})]},Y))})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"24px",marginBottom:"24px"},className:"fade-in",children:[o.jsxs("div",{className:"card",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[o.jsx(Sc,{size:18,color:"#10b981"}),o.jsx("span",{style:{fontWeight:700,fontSize:"14px"},children:"Compliance & Trust"})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"12px",color:"#64748b"},children:"Consent Rate"}),o.jsx("span",{style:{fontSize:"12px",fontWeight:700,color:"#1e293b"},children:"94.5%"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"12px",color:"#64748b"},children:"Complaints"}),o.jsx("span",{style:{fontSize:"12px",fontWeight:700,color:"#1e293b"},children:"3"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"12px",color:"#64748b"},children:"Deletion Requests"}),o.jsx("span",{style:{fontSize:"12px",fontWeight:700,color:"#1e293b"},children:"12"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"12px",color:"#64748b"},children:"GST Failures"}),o.jsx("span",{style:{fontSize:"12px",fontWeight:700,color:"#1e293b"},children:"8"})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[o.jsx(er,{size:18,color:"#2563eb"}),o.jsx("span",{style:{fontWeight:700,fontSize:"14px"},children:"Platform Health"}),o.jsx("span",{style:{fontSize:"10px",color:"#10b981",background:"#f0fdf4",padding:"2px 6px",borderRadius:"4px",marginLeft:"8px",fontWeight:600},children:"(Operational)"})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px"},children:[o.jsx("span",{style:{color:"#64748b"},children:"Active Users"}),o.jsx("span",{style:{fontWeight:700},children:"1,847"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px"},children:[o.jsx("span",{style:{color:"#64748b"},children:"API Response"}),o.jsx("span",{style:{fontWeight:700},children:"0.23s"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px"},children:[o.jsx("span",{style:{color:"#64748b"},children:"Error Rate"}),o.jsx("span",{style:{fontWeight:700},children:"0.02%"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px"},children:[o.jsx("span",{style:{color:"#64748b"},children:"Sync Backlog"}),o.jsx("span",{style:{fontWeight:700},children:"234"})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[o.jsx(Iu,{size:18,color:"#10b981"}),o.jsx("span",{style:{fontWeight:700,fontSize:"14px"},children:"Revenue Signals"})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px"},children:[o.jsx("span",{style:{color:"#64748b"},children:"Active Paid Tenants"}),o.jsx("span",{style:{fontWeight:700},children:"47"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px"},children:[o.jsx("span",{style:{color:"#64748b"},children:"Usage Mismatch"}),o.jsx("span",{style:{fontWeight:700},children:"3"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px"},children:[o.jsx("span",{style:{color:"#64748b"},children:"Unbilled Events"}),o.jsx("span",{style:{fontWeight:700},children:"2"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"12px"},children:[o.jsx("span",{style:{color:"#64748b"},children:"Government Events"}),o.jsx("span",{style:{fontWeight:700},children:"2"})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"20px"},children:[o.jsx(Qp,{size:18,color:"#f59e0b"}),o.jsx("span",{style:{fontWeight:700,fontSize:"14px"},children:"Quick Actions"})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[o.jsxs("div",{style:{background:"#f8fafc",padding:"8px",borderRadius:"8px",textAlign:"center",cursor:"pointer",border:"1px solid #f1f5f9"},children:[o.jsx(ir,{size:14,color:"#64748b"}),o.jsx("div",{style:{fontSize:"9px",fontWeight:600,color:"#64748b",marginTop:"4px"},children:"Create Event"})]}),o.jsxs("div",{style:{background:"#f8fafc",padding:"8px",borderRadius:"8px",textAlign:"center",cursor:"pointer",border:"1px solid #f1f5f9"},children:[o.jsx(Pn,{size:14,color:"#64748b"}),o.jsx("div",{style:{fontSize:"9px",fontWeight:600,color:"#64748b",marginTop:"4px"},children:"Add Tenant"})]}),o.jsxs("div",{style:{background:"#f8fafc",padding:"8px",borderRadius:"8px",textAlign:"center",cursor:"pointer",border:"1px solid #f1f5f9"},children:[o.jsx(Ha,{size:14,color:"#64748b"}),o.jsx("div",{style:{fontSize:"9px",fontWeight:600,color:"#64748b",marginTop:"4px"},children:"Invite User"})]}),o.jsxs("div",{style:{background:"#f8fafc",padding:"8px",borderRadius:"8px",textAlign:"center",cursor:"pointer",border:"1px solid #f1f5f9"},children:[o.jsx(xr,{size:14,color:"#64748b"}),o.jsx("div",{style:{fontSize:"9px",fontWeight:600,color:"#64748b",marginTop:"4px"},children:"New Exhibitor"})]})]})]})]}),o.jsxs("div",{className:"card fade-in",style:{marginBottom:"24px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[o.jsx(zw,{size:20,color:"#f59e0b"}),o.jsx("span",{style:{fontWeight:700,fontSize:"16px"},children:"Recent Alerts"})]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[{text:"High WhatsApp usage for TechCorp India - 85% quota used",time:"5 min ago",color:"#f59e0b",bg:"#fffaf0"},{text:"Payment failed for StartupHub subscription renewal",time:"12 min ago",color:"#f43f5e",bg:"#fef2f2"},{text:"New tenant registration: EventPro Solutions",time:"1 hour ago",color:"#2563eb",bg:"#f0f7ff"},{text:"MSME Connect event successfully published",time:"2 hours ago",color:"#10b981",bg:"#f0fdf4"}].map((H,Y)=>o.jsxs("div",{style:{background:H.bg,border:"1px solid #f1f5f9",padding:"12px 16px",borderRadius:"12px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:H.color}}),o.jsx("span",{style:{fontSize:"13px",color:"#475569"},children:H.text})]}),o.jsx("span",{style:{fontSize:"11px",color:"#94a3b8"},children:H.time})]},Y))})]})]})}};return o.jsx(Uw,{activeScreen:n,onNavigate:R,userType:t,onLogout:e,children:_()})},UH=({onLogin:e,loginType:t="master"})=>{const[n,r]=X.useState(t),[a,l]=X.useState(""),[u,h]=X.useState(""),[x,g]=X.useState(!1),[b,m]=X.useState(!1),[S,C]=X.useState(""),[I,j]=X.useState(!1),E=[{id:"master",label:"Master Admin",icon:Cy,color:"#10b981",bgColor:"#ecfdf5",borderColor:"#d1fae5"},{id:"organization",label:"Organization",icon:Pn,color:"#8b5cf6",bgColor:"#f5f3ff",borderColor:"#ede9fe"},{id:"exhibitor",label:"Exhibitor",icon:Bw,color:"#f59e0b",bgColor:"#fef3c7",borderColor:"#fde68a"},{id:"visitor",label:"Visitor",icon:jc,color:"#0d9488",bgColor:"#f0fdfa",borderColor:"#ccfbf1"}],R=async _=>{_.preventDefault(),C(""),j(!0);try{const T=n==="exhibitor",P=n==="visitor";if(T){const A=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:u,type:"exhibitor"})}),N=await A.json();A.ok&&N.success?(localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userEmail",N.user.email),localStorage.setItem("userType",N.userType||"exhibitor"),localStorage.setItem("exhibitorId",N.user.id),localStorage.setItem("exhibitorName",N.user.name),b&&localStorage.setItem("rememberMe","true"),e()):C(N.error||"Invalid email or password")}else if(P){const A=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:u,type:"visitor"})}),N=await A.json();A.ok&&N.success?(localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userEmail",N.user.email),localStorage.setItem("userType",N.userType||"visitor"),localStorage.setItem("visitorId",N.user.id),localStorage.setItem("visitorName",N.user.name),b&&localStorage.setItem("rememberMe","true"),e()):C(N.error||"Invalid email or password")}else if(n==="master")a==="billiton@123"&&u==="123456"?(localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userEmail",a),localStorage.setItem("userType","master"),b&&localStorage.setItem("rememberMe","true"),e()):C("Invalid email or password");else{const A=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:u,type:"organization"})}),N=await A.json();A.ok&&N.success?(localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userEmail",N.user.email),localStorage.setItem("userType",N.userType||"organization"),localStorage.setItem("organizationId",N.user.id),localStorage.setItem("organizationName",N.user.name),b&&localStorage.setItem("rememberMe","true"),e()):C(N.error||"Invalid email or password")}}catch(T){console.error("Login error:",T),C("Failed to login. Please try again.")}finally{j(!1)}};return o.jsxs("div",{style:{display:"flex",minHeight:"100vh",width:"100%",flexDirection:window.innerWidth<=768?"column":"row"},children:[o.jsxs("div",{style:{flex:"1",display:"flex",alignItems:"center",justifyContent:"center",padding:window.innerWidth<=768?"24px 20px":"40px",background:"white",position:"relative",minHeight:window.innerWidth<=768?"100vh":"auto"},children:[o.jsx("div",{style:{position:"absolute",top:"-100px",left:"-100px",width:"300px",height:"300px",borderRadius:"50%",background:"radial-gradient(circle, rgba(13, 148, 136, 0.1) 0%, transparent 70%)",filter:"blur(40px)",pointerEvents:"none",display:window.innerWidth<=768?"none":"block"}}),o.jsxs("div",{style:{maxWidth:"480px",width:"100%",position:"relative",zIndex:1},children:[o.jsx("a",{href:"/",style:{display:"inline-flex",alignItems:"center",gap:"8px",color:"#64748b",textDecoration:"none",fontSize:"14px",fontWeight:500,marginBottom:window.innerWidth<=768?"24px":"32px"},children:"← Back to Home"}),o.jsxs("div",{style:{marginBottom:window.innerWidth<=768?"24px":"32px"},children:[o.jsx("div",{style:{fontSize:window.innerWidth<=768?"22px":"24px",fontWeight:800,color:"#0d9488",marginBottom:"8px"},children:"EventHub"}),o.jsx("div",{style:{fontSize:"14px",color:"#64748b"},children:"Welcome back! Please sign in to continue"})]}),o.jsxs("div",{style:{marginBottom:window.innerWidth<=768?"24px":"32px"},children:[o.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#475569",marginBottom:"16px"},children:"Select your role"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:E.map(_=>{const T=n===_.id,P=_.icon;return o.jsxs("button",{type:"button",onClick:()=>r(_.id),style:{padding:window.innerWidth<=768?"14px":"16px",borderRadius:"12px",border:`2px solid ${T?_.color:"#e2e8f0"}`,background:T?_.bgColor:"white",cursor:"pointer",transition:"all 0.3s",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",position:"relative",minHeight:"44px"},onMouseOver:A=>{T||(A.currentTarget.style.borderColor="#0d9488",A.currentTarget.style.boxShadow="0 0 0 3px rgba(13, 148, 136, 0.1)")},onMouseOut:A=>{T||(A.currentTarget.style.borderColor="#e2e8f0",A.currentTarget.style.boxShadow="none")},children:[T&&o.jsx("div",{style:{position:"absolute",top:"8px",right:"8px"},children:o.jsx(Zp,{size:16,color:_.color,fill:_.color})}),o.jsx("div",{style:{width:window.innerWidth<=768?"36px":"40px",height:window.innerWidth<=768?"36px":"40px",borderRadius:"10px",background:T?_.color:_.bgColor,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(P,{size:window.innerWidth<=768?18:20,color:T?"white":_.color})}),o.jsx("span",{style:{fontSize:window.innerWidth<=768?"13px":"14px",fontWeight:600,color:T?_.color:"#475569"},children:_.label})]},_.id)})})]}),o.jsxs("form",{onSubmit:R,children:[o.jsxs("div",{style:{marginBottom:"16px"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"Email"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(Mr,{size:18,color:"#94a3b8",style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)"}}),o.jsx("input",{type:"email",placeholder:"Enter your email",value:a,onChange:_=>l(_.target.value),required:!0,style:{width:"100%",padding:"12px 14px 12px 44px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:window.innerWidth<=768?"16px":"14px",transition:"border-color 0.2s"},onFocus:_=>_.target.style.borderColor="#0d9488",onBlur:_=>_.target.style.borderColor="#e2e8f0"})]})]}),o.jsxs("div",{style:{marginBottom:"16px"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#475569",marginBottom:"8px"},children:"Password"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(Ay,{size:18,color:"#94a3b8",style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)"}}),o.jsx("input",{type:x?"text":"password",placeholder:"Enter your password",value:u,onChange:_=>h(_.target.value),required:!0,style:{width:"100%",padding:"12px 44px 12px 44px",borderRadius:"10px",border:"1.5px solid #e2e8f0",outline:"none",fontSize:window.innerWidth<=768?"16px":"14px",transition:"border-color 0.2s"},onFocus:_=>_.target.style.borderColor="#0d9488",onBlur:_=>_.target.style.borderColor="#e2e8f0"}),o.jsx("button",{type:"button",onClick:()=>g(!x),style:{position:"absolute",right:"14px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",minHeight:"44px",minWidth:"44px"},children:x?o.jsx(_w,{size:18,color:"#94a3b8"}):o.jsx(mo,{size:18,color:"#94a3b8"})})]})]}),S&&o.jsx("div",{style:{padding:"12px",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626",fontSize:"14px",marginBottom:"16px"},children:S}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"12px"},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"14px",color:"#475569",minHeight:"44px"},children:[o.jsx("input",{type:"checkbox",checked:b,onChange:_=>m(_.target.checked),style:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#0d9488"}}),"Remember me"]}),o.jsx("a",{href:"#",style:{fontSize:"14px",color:"#0d9488",textDecoration:"none",fontWeight:500,minHeight:"44px",display:"flex",alignItems:"center"},children:"Forgot password?"})]}),o.jsx("button",{type:"submit",disabled:I,style:{width:"100%",padding:"14px",background:I?"#94a3b8":"#0d9488",border:"none",borderRadius:"10px",color:"white",fontSize:"16px",fontWeight:600,cursor:I?"not-allowed":"pointer",transition:"transform 0.2s, box-shadow 0.2s",boxShadow:"0 2px 8px rgba(13, 148, 136, 0.3)",minHeight:"48px"},onMouseOver:_=>{I||(_.target.style.transform="translateY(-1px)",_.target.style.boxShadow="0 4px 12px rgba(13, 148, 136, 0.4)")},onMouseOut:_=>{I||(_.target.style.transform="translateY(0)",_.target.style.boxShadow="0 2px 8px rgba(13, 148, 136, 0.3)")},children:I?"Signing in...":"Sign In"})]}),o.jsxs("div",{style:{marginTop:"24px",textAlign:"center",fontSize:"14px",color:"#64748b"},children:["Don't have an account?"," ",o.jsx("a",{href:"#",style:{color:"#0d9488",textDecoration:"none",fontWeight:600},children:"Sign up"})]})]})]}),window.innerWidth>768&&o.jsxs("div",{style:{flex:"1",background:"linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%)",display:"flex",alignItems:"center",justifyContent:"center",padding:"60px",position:"relative",overflow:"hidden"},children:[o.jsx("div",{style:{position:"absolute",top:"10%",right:"-10%",width:"500px",height:"500px",borderRadius:"50%",background:"radial-gradient(circle, rgba(139, 92, 246, 0.15) 0%, transparent 70%)",filter:"blur(60px)"}}),o.jsx("div",{style:{position:"absolute",bottom:"-10%",left:"-10%",width:"400px",height:"400px",borderRadius:"50%",background:"radial-gradient(circle, rgba(59, 130, 246, 0.15) 0%, transparent 70%)",filter:"blur(60px)"}}),o.jsxs("div",{style:{maxWidth:"520px",position:"relative",zIndex:1},children:[o.jsx("h1",{style:{fontSize:"48px",fontWeight:800,lineHeight:"1.2",marginBottom:"24px",background:"linear-gradient(135deg, #0d9488 0%, #3b82f6 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Event Management Like Never Before"}),o.jsx("p",{style:{fontSize:"18px",color:"#cbd5e1",lineHeight:"1.6",marginBottom:"40px"},children:"Powerful tools to create, manage, and analyze your events with ease"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:["Real-time analytics and reporting","Seamless attendee management","Advanced lead tracking system","Multi-role access control"].map((_,T)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#0d9488",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:o.jsx(Zp,{size:14,color:"white"})}),o.jsx("span",{style:{fontSize:"16px",color:"#e2e8f0",fontWeight:500},children:_})]},T))}),o.jsxs("div",{style:{marginTop:"60px",paddingTop:"32px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[o.jsx("div",{style:{fontSize:"12px",color:"#94a3b8",marginBottom:"8px"},children:"Powered by"}),o.jsx("div",{style:{fontSize:"20px",fontWeight:700,color:"white"},children:"Billiton Services"})]})]})]})]})},VH=()=>{const[e,t]=X.useState("Invoices"),n=[{number:"INV-2024-001",type:"Stall Booking - Premium (A-12)",inventory:"Event Fee",event:"Tech Innovation Summit 2024",amount:"₹45,000",dueDate:"Mar 15, 2024",status:"Paid"},{number:"INV-2024-001",type:"Stall Booking - Premium (A-12)",inventory:"Event Fee",event:"Tech Innovation Summit 2024",amount:"₹45,000",dueDate:"Mar 15, 2024",status:"Paid"},{number:"INV-2024-002",type:"Stall Equipments",inventory:"Counter Decor",event:"Digital Marketing Expo",amount:"₹45,000",dueDate:"Mar 15, 2024",status:"Paid"},{number:"INV-2024-019",type:"Stall Equipments",inventory:"Counter Decor",event:"Digital Marketing Expo",amount:"₹45,000",dueDate:"Mar 15, 2024",status:"Paid"},{number:"INV-2024-001",type:"Stall Booking - Premium (A-12)",inventory:"Event Fee",event:"Tech Innovation Summit 2024",amount:"₹45,000",dueDate:"Mar 15, 2024",status:"Paid"}];return o.jsxs("div",{style:{padding:"0px",maxWidth:"1400px",margin:"0 auto"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"28px"},children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"28px",fontWeight:800,color:"#1e3a8a",margin:0,letterSpacing:"-0.02em"},children:"Inventory &Billing Management"}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"6px"},children:"Audit and billing"})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"white",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"#475569",cursor:"pointer"},children:[o.jsx(fn,{size:16}),"Export"]}),o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"#2563eb",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"white",cursor:"pointer"},children:[o.jsx(ir,{size:16}),"Add Billing"]})]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"32px"},children:[{label:"Total Spent",value:"₹2,17,000",subtitle:"This year",icon:"₹",bgColor:"#dbeafe",iconColor:"#2563eb"},{label:"Pending",value:"₹95,000",subtitle:"2 invoices",icon:"⏱️",bgColor:"#fef3c7",iconColor:"#f59e0b"},{label:"Paid",value:"₹1,22,000",subtitle:"2 invoices",icon:"✓",bgColor:"#d1fae5",iconColor:"#10b981"},{label:"Saved",value:"₹28,000",subtitle:"Early bird discounts",icon:"📊",bgColor:"#e0f2fe",iconColor:"#0ea5e9"}].map((r,a)=>o.jsx("div",{className:"card",style:{padding:"24px"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600,marginBottom:"8px"},children:r.label}),o.jsx("div",{style:{fontSize:"28px",fontWeight:800,color:"#1e293b",marginBottom:"4px"},children:r.value}),o.jsx("div",{style:{fontSize:"12px",color:"#94a3b8"},children:r.subtitle})]}),o.jsx("div",{style:{background:r.bgColor,padding:"10px",borderRadius:"10px",fontSize:"20px"},children:r.icon})]})},a))}),o.jsxs("div",{className:"card",style:{padding:"0px"},children:[o.jsx("div",{style:{padding:"24px",borderBottom:"1px solid #f1f5f9"},children:o.jsx("div",{style:{display:"flex",gap:"12px",marginBottom:"24px"},children:["Invoices","Transactions","Payment Methods"].map(r=>o.jsx("button",{onClick:()=>t(r),style:{padding:"8px 16px",borderRadius:"8px",fontSize:"13px",fontWeight:600,background:e===r?"#eff6ff":"transparent",color:e===r?"#2563eb":"#64748b",border:e===r?"1px solid #bfdbfe":"1px solid transparent",cursor:"pointer"},children:r},r))})}),o.jsxs("div",{style:{padding:"24px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",margin:0},children:"All Invoices"}),o.jsxs("div",{style:{position:"relative",width:"280px"},children:[o.jsx(mr,{size:18,color:"#94a3b8",style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)"}}),o.jsx("input",{type:"text",placeholder:"Search invoices...",style:{width:"100%",padding:"10px 14px 10px 44px",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px"}})]})]}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"INVOICE"}),o.jsx("th",{children:"INVENTORY"}),o.jsx("th",{children:"EVENT"}),o.jsx("th",{children:"AMOUNT"}),o.jsx("th",{children:"DUE DATE"}),o.jsx("th",{children:"STATUS"}),o.jsx("th",{children:"ACTIONS"})]})}),o.jsx("tbody",{children:n.map((r,a)=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"8px",background:"#f8fafc",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(_i,{size:18,color:"#2563eb"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:"#1e293b"},children:r.number}),o.jsx("div",{style:{fontSize:"12px",color:"#94a3b8"},children:r.type})]})]})}),o.jsx("td",{children:o.jsx("span",{style:{fontWeight:600,fontSize:"13px",color:"#475569"},children:r.inventory})}),o.jsx("td",{children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(Pn,{size:16,color:"#2563eb"}),o.jsx("span",{style:{fontSize:"13px",color:"#475569"},children:r.event})]})}),o.jsx("td",{style:{fontWeight:600,fontSize:"14px",color:"#1e293b"},children:r.amount}),o.jsx("td",{children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx(un,{size:14,color:"#94a3b8"}),o.jsx("span",{style:{fontSize:"13px",color:"#64748b"},children:r.dueDate})]})}),o.jsx("td",{children:o.jsxs("span",{style:{padding:"4px 10px",borderRadius:"6px",fontSize:"11px",fontWeight:700,background:"#ecfdf5",color:"#10b981"},children:["● ",r.status]})}),o.jsx("td",{children:o.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#64748b"},children:"..."})})]},a))})]})})]})]}),o.jsx("div",{style:{textAlign:"center",marginTop:"32px",paddingBottom:"24px"},children:o.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",fontWeight:500},children:"Powered By Billiton"})})]})},HH=()=>{const e=[{name:"Rajesh Kumar",email:"rajesh@techcorp.com",role:"Admin",status:"Active",lastActive:"5 mins ago"},{name:"Priya Sharma",email:"priya@techcorp.com",role:"Manager",status:"Active",lastActive:"2 hours ago"},{name:"Amit Patel",email:"amit@techcorp.com",role:"Staff",status:"Active",lastActive:"1 day ago"},{name:"Sneha Reddy",email:"sneha@techcorp.com",role:"Staff",status:"Inactive",lastActive:"3 days ago"}];return o.jsxs("div",{style:{padding:"0px",maxWidth:"1400px",margin:"0 auto"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"28px"},children:[o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"28px",fontWeight:800,color:"#1e3a8a",margin:0,letterSpacing:"-0.02em"},children:"Users"}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"6px"},children:"Manage team members and permissions"})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"white",border:"1.5px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"#475569",cursor:"pointer"},children:[o.jsx(fn,{size:16}),"Export"]}),o.jsxs("button",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 18px",background:"#2563eb",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:600,color:"white",cursor:"pointer"},children:[o.jsx(Ha,{size:16}),"Add User"]})]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"32px"},children:[{label:"Total Users",value:"4",icon:an,color:"#2563eb"},{label:"Active",value:"3",icon:Cy,color:"#10b981"},{label:"Admins",value:"1",icon:vo,color:"#f59e0b"},{label:"Staff",value:"2",icon:Ha,color:"#0ea5e9"}].map((t,n)=>o.jsx("div",{className:"card",style:{padding:"24px"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"13px",color:"#64748b",fontWeight:600},children:t.label}),o.jsx("div",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",marginTop:"4px"},children:t.value})]}),o.jsx("div",{style:{background:`${t.color}15`,padding:"10px",borderRadius:"10px"},children:t.icon&&o.jsx(t.icon,{size:20,color:t.color})})]})},n))}),o.jsxs("div",{className:"card",style:{padding:"24px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",marginBottom:"24px"},children:"Team Members"}),o.jsx("div",{className:"table-container",children:o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"USER"}),o.jsx("th",{children:"EMAIL"}),o.jsx("th",{children:"ROLE"}),o.jsx("th",{children:"STATUS"}),o.jsx("th",{children:"LAST ACTIVE"}),o.jsx("th",{children:"ACTIONS"})]})}),o.jsx("tbody",{children:e.map((t,n)=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"linear-gradient(135deg, #2563eb, #3b82f6)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:600,fontSize:"14px"},children:t.name.split(" ").map(r=>r[0]).join("")}),o.jsx("span",{style:{fontWeight:600},children:t.name})]})}),o.jsx("td",{style:{fontSize:"13px",color:"#64748b"},children:t.email}),o.jsx("td",{children:o.jsx("span",{style:{padding:"4px 12px",background:"#f1f5f9",borderRadius:"6px",fontSize:"12px",fontWeight:600,color:"#475569"},children:t.role})}),o.jsx("td",{children:o.jsx("span",{style:{color:t.status==="Active"?"#10b981":"#94a3b8",fontWeight:700,fontSize:"12px"},children:t.status})}),o.jsx("td",{style:{fontSize:"13px",color:"#64748b"},children:t.lastActive}),o.jsx("td",{children:o.jsx("button",{style:{background:"none",border:"none",cursor:"pointer",fontSize:"18px",color:"#64748b"},children:"..."})})]},n))})]})})]}),o.jsx("div",{style:{textAlign:"center",marginTop:"32px",paddingBottom:"24px"},children:o.jsx("p",{style:{fontSize:"12px",color:"#94a3b8",fontWeight:500},children:"Powered By Billiton"})})]})},GH=({onLogout:e})=>{const[t,n]=X.useState(!1),[r,a]=X.useState("dashboard"),l=Q.useRef(null);Q.useEffect(()=>{const b=m=>{l.current&&!l.current.contains(m.target)&&n(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const u=localStorage.getItem("exhibitorName")||"TechCorp Solutions",h=localStorage.getItem("userEmail")||"exhibitor@techcorp.com",x=()=>{switch(r){case"scanner":return o.jsx(z2,{onBack:()=>a("dashboard")});case"leads":return o.jsx(_2,{});case"events":return o.jsx(W2,{});case"analytics":return o.jsx(L2,{});case"billing":return o.jsx(VH,{});case"users":return o.jsx(HH,{});case"dashboard":default:return o.jsx(T2,{onNavigate:b=>a(b)})}},g=[{key:"dashboard",label:"Dashboard",icon:Pw},{key:"leads",label:"Leads",icon:an},{key:"scanner",label:"Scanner",icon:ho},{key:"events",label:"Events",icon:un},{key:"analytics",label:"Analytics",icon:fl},{key:"billing",label:"Inventory and Billing",icon:Sy},{key:"users",label:"Users",icon:Ww}];return o.jsxs("div",{style:{minHeight:"100vh",background:"#f8fafc"},children:[o.jsx("div",{style:{background:"white",borderBottom:"1px solid #e2e8f0",padding:"16px 32px"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{background:"linear-gradient(135deg, #1e3a8a, #2563eb)",color:"white",width:"38px",height:"32px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"16px"},children:"E"}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:800,fontSize:"18px",color:"#1e3a8a"},children:"EventHub"}),o.jsx("div",{style:{fontSize:"9px",color:"#94a3b8"},children:"Manage. Exhibit. Attend."})]})]}),o.jsx("div",{style:{display:"flex",gap:"4px"},children:g.map(b=>o.jsxs("button",{onClick:()=>a(b.key),style:{padding:"10px 20px",background:r===b.key?"#eff6ff":"transparent",border:"none",borderBottom:r===b.key?"3px solid #2563eb":"3px solid transparent",color:r===b.key?"#2563eb":"#64748b",fontSize:"14px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s"},children:[o.jsx(b.icon,{size:16}),b.label]},b.key))}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px"},children:[o.jsxs("div",{style:{position:"relative",cursor:"pointer"},children:[o.jsx(hh,{size:20,color:"#64748b"}),o.jsx("div",{style:{position:"absolute",top:"-4px",right:"-4px",background:"#ef4444",color:"white",fontSize:"10px",width:"16px",height:"16px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700},children:"5"})]}),o.jsx(vo,{size:20,color:"#64748b",style:{cursor:"pointer"}}),o.jsxs("div",{style:{position:"relative"},ref:l,children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},onClick:()=>n(!t),children:[o.jsxs("div",{style:{textAlign:"right"},children:[o.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"#1e293b"},children:u}),o.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:h})]}),o.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6, #2563eb)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:600,fontSize:"14px"},children:u.split(" ").map(b=>b[0]).join("").substring(0,2).toUpperCase()}),o.jsx(Va,{size:16,color:"#94a3b8"})]}),t&&o.jsx("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"8px",background:"white",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)",border:"1px solid #e2e8f0",minWidth:"180px",zIndex:1e3},children:o.jsxs("div",{onClick:()=>{e&&e(),n(!1)},style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 16px",cursor:"pointer",color:"#ef4444",fontSize:"14px",fontWeight:500},children:[o.jsx(xh,{size:16}),o.jsx("span",{children:"Logout"})]})})]})]})]})}),o.jsx("div",{style:{padding:"32px",maxWidth:"1400px",margin:"0 auto"},children:x()})]})},XH=({onLogout:e})=>{const[t,n]=X.useState(!1),r=Q.useRef(null);Q.useEffect(()=>{const u=h=>{r.current&&!r.current.contains(h.target)&&n(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const a=localStorage.getItem("visitorName")||"Umesh Kumar",l=localStorage.getItem("userEmail")||"billiton@eventhub.com";return o.jsxs("div",{style:{minHeight:"100vh",background:"#f8fafc"},children:[o.jsx("div",{style:{background:"white",borderBottom:"1px solid #e2e8f0",padding:"16px 32px"},children:o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("div",{style:{display:"flex",alignItems:"center",gap:"24px"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{background:"linear-gradient(135deg, #1e3a8a, #2563eb)",color:"white",width:"38px",height:"32px",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",fontSize:"16px"},children:"E"}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:800,fontSize:"18px",color:"#1e3a8a"},children:"EventHub"}),o.jsx("div",{style:{fontSize:"9px",color:"#94a3b8"},children:"Manage. Exhibit. Attend."})]})]})}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px"},children:[o.jsxs("div",{style:{position:"relative",cursor:"pointer"},children:[o.jsx(hh,{size:20,color:"#64748b"}),o.jsx("div",{style:{position:"absolute",top:"-4px",right:"-4px",background:"#ef4444",color:"white",fontSize:"10px",width:"16px",height:"16px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700},children:"5"})]}),o.jsx(vo,{size:20,color:"#64748b",style:{cursor:"pointer"}}),o.jsxs("div",{style:{position:"relative"},ref:r,children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer"},onClick:()=>n(!t),children:[o.jsxs("div",{style:{textAlign:"right"},children:[o.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"#1e293b"},children:a}),o.jsx("div",{style:{fontSize:"11px",color:"#94a3b8"},children:l})]}),o.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6, #2563eb)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:600,fontSize:"14px"},children:a.split(" ").map(u=>u[0]).join("").substring(0,2).toUpperCase()}),o.jsx(Va,{size:16,color:"#94a3b8"})]}),t&&o.jsx("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"8px",background:"white",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.1)",border:"1px solid #e2e8f0",minWidth:"180px",zIndex:1e3},children:o.jsxs("div",{onClick:()=>{e&&e(),n(!1)},style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 16px",cursor:"pointer",color:"#ef4444",fontSize:"14px",fontWeight:500},children:[o.jsx(xh,{size:16}),o.jsx("span",{children:"Logout"})]})})]}),o.jsxs("div",{style:{fontSize:"14px",color:"#64748b"},children:["Good Morning ",a.split(" ")[0],"....!"]})]})]})}),o.jsx("div",{style:{background:"white",borderBottom:"1px solid #e2e8f0",padding:"12px 32px"},children:o.jsx("div",{style:{display:"flex",gap:"32px"},children:["Dashboard","Events","Stalls","My QR","Profile"].map((u,h)=>o.jsx("div",{style:{padding:"8px 0",fontSize:"14px",fontWeight:h===0?600:500,color:h===0?"#2563eb":"#64748b",borderBottom:h===0?"2px solid #2563eb":"none",cursor:"pointer"},children:u},h))})}),o.jsxs("div",{style:{padding:"32px",maxWidth:"1400px",margin:"0 auto"},children:[o.jsxs("div",{style:{marginBottom:"32px"},children:[o.jsxs("h1",{style:{fontSize:"32px",fontWeight:800,color:"#1e293b",margin:"0 0 8px 0"},children:["Welcome Back, ",a]}),o.jsx("p",{style:{fontSize:"16px",color:"#64748b",margin:0},children:"Here's what's happening with your event activities."})]}),o.jsxs("div",{style:{background:"linear-gradient(135deg, #10b981, #059669)",borderRadius:"16px",padding:"24px",color:"white",marginBottom:"32px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"14px",opacity:.9,marginBottom:"8px"},children:"Upcoming Event"}),o.jsx("div",{style:{fontSize:"24px",fontWeight:700,marginBottom:"8px"},children:"Billiton Event Management - Fest (1st Jan 2k26)"}),o.jsx("button",{style:{padding:"10px 24px",background:"white",color:"#10b981",borderRadius:"8px",fontWeight:600,cursor:"pointer",border:"none",marginTop:"12px"},children:"Register Now"})]}),o.jsxs("div",{style:{textAlign:"right"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",justifyContent:"flex-end"},children:[o.jsx(fo,{size:16}),o.jsx("span",{children:"Hyderabad"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"flex-end"},children:[o.jsx(pr,{size:16}),o.jsx("span",{children:"Start: 12PM-4PM"})]})]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:"20px",marginBottom:"32px"},children:[{label:"Events Visited",value:"2",icon:un},{label:"Stalls Visited",value:"8",icon:Pn},{label:"Upcoming",value:"4",icon:pr},{label:"Brochures",value:"12",icon:xr},{label:"Call Back",value:"5",icon:nr},{label:"Hours",value:"18h",icon:pr}].map((u,h)=>o.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"16px",border:"1px solid #f1f5f9",textAlign:"center"},children:[o.jsx(u.icon,{size:24,color:"#2563eb",style:{marginBottom:"12px"}}),o.jsx("div",{style:{fontSize:"28px",fontWeight:800,color:"#1e293b",marginBottom:"4px"},children:u.value}),o.jsx("div",{style:{fontSize:"14px",color:"#64748b"},children:u.label})]},h))}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.5fr 1fr",gap:"24px",marginBottom:"32px"},children:[o.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"16px",border:"1px solid #f1f5f9"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",marginBottom:"24px"},children:"Recent Activity"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[{text:"Registered for Event: Healthcare Innovation Fair 2025",date:"20 Dec 2024"},{text:"Visited GreenPower India: Solar installation consultation",date:"20 Apr 2024"},{text:"Event Check-in: Checked in at Green Energy Summit",date:"20 Apr 2024"},{text:"Visited BlockChain India: Discussed DeFi solutions",date:"16 Mar 2024"}].map((u,h)=>o.jsxs("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"12px"},children:[o.jsx("div",{style:{fontSize:"14px",color:"#1e293b",marginBottom:"4px"},children:u.text}),o.jsx("div",{style:{fontSize:"12px",color:"#94a3b8"},children:u.date})]},h))})]}),o.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"16px",border:"1px solid #f1f5f9"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b"},children:"Upcoming Events"}),o.jsx("span",{style:{fontSize:"14px",color:"#2563eb",cursor:"pointer",fontWeight:500},children:"View All"})]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[{name:"Healthcare Innovation Fair",date:"10 Jan 2025",location:"BKC, Mumbai",status:"Registered",image:"🏥"},{name:"AI & Robotics World 2025",date:"5 Feb 2025",location:"Whitefield, Bangalore",status:"Open",image:"🤖"},{name:"Smart City Solutions Expo",date:"1 Mar 2025",location:"GIFT City, Gujarat",status:"Open",image:"🏙️"}].map((u,h)=>o.jsxs("div",{style:{padding:"16px",background:"#f8fafc",borderRadius:"12px",display:"flex",gap:"12px"},children:[o.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"8px",background:"#e0f2fe",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:u.image}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"4px"},children:u.name}),o.jsxs("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"4px"},children:[u.date," • ",u.location]}),o.jsx("span",{style:{padding:"4px 8px",background:u.status==="Registered"?"#dbeafe":"#f0fdf4",color:u.status==="Registered"?"#2563eb":"#10b981",borderRadius:"4px",fontSize:"11px",fontWeight:600},children:u.status})]})]},h))})]})]}),o.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"16px",border:"1px solid #f1f5f9"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[o.jsx("h3",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b"},children:"Recently Visited Stalls"}),o.jsx("span",{style:{fontSize:"14px",color:"#2563eb",cursor:"pointer",fontWeight:500},children:"View All"})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"24px"},children:[o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[{name:"TechVision AI Lab",company:"TechVision Solutions Pvt Ltd.",rating:5,date:"15 Mar",category:"Artificial Intelligence"},{name:"CloudNine Infrastructure",company:"CloudNine Technologies.",rating:4,date:"15 Mar",category:"Cloud Computing"},{name:"GreenPower India",company:"GreenPower Renewable Energy.",rating:5,date:"20 Apr",category:"Renewable Energy"},{name:"EV Motors India",company:"Electric Vehicle Motors Ltd.",rating:4,date:"20 Apr",category:"Electric Vehicles"},{name:"DataSec Solutions",company:"DataSec Cybersecurity.",rating:5,date:"16 Mar",category:"Cybersecurity"}].map((u,h)=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px",background:"#f8fafc",borderRadius:"12px"},children:[o.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[o.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"8px",background:"linear-gradient(135deg, #2563eb, #3b82f6)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontWeight:600,fontSize:"20px"},children:u.name.charAt(0)}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#1e293b",marginBottom:"4px"},children:u.name}),o.jsx("div",{style:{fontSize:"12px",color:"#64748b"},children:u.company})]})]}),o.jsx("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(Ac,{size:16,fill:"#fbbf24",color:"#fbbf24"}),o.jsx("span",{style:{fontSize:"14px",fontWeight:600},children:u.rating})]})})]},h))}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[{label:"Artificial Intelligence",date:"15 Mar"},{label:"Cloud Computing",date:"15 Mar"},{label:"Renewable Energy",date:"20 Apr"},{label:"Electric Vehicles",date:"20 Apr"},{label:"Cybersecurity",date:"16 Mar"}].map((u,h)=>o.jsxs("div",{style:{padding:"12px",background:"#f8fafc",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"13px",fontWeight:500,color:"#1e293b"},children:u.label}),o.jsx("span",{style:{fontSize:"12px",color:"#94a3b8"},children:u.date})]},h))})]})]})]})]})},YH=()=>{const e="",[t,n]=X.useState(!1),[r,a]=X.useState(!1),[l,u]=X.useState(""),[h,x]=X.useState(""),[g,b]=X.useState({id:"",name:"",date:""}),[m,S]=X.useState({firstName:"",lastName:"",email:"",mobile:"",gender:"",age:"",organization:"",designation:"",visitorCategory:"General Visitor"});X.useEffect(()=>{const E=new URLSearchParams(window.location.search);b({id:E.get("eventId")||"",name:E.get("eventName")||"Event",date:E.get("eventDate")||""})},[]);const C=E=>{const{name:R,value:_}=E.target;S(T=>({...T,[R]:_}))},I=async E=>{E.preventDefault(),n(!0);try{const R={...m,eventId:g.id||null,validDates:"all",communication:{whatsapp:!0,email:!0,sms:!0}},_=await fetch(`${e}/api/visitors`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(R)});if(!_.ok){const A=await _.json();throw new Error(A.error||"Failed to register")}const P=(await _.json()).uniqueCode;x(P);try{const A=await Qo.toDataURL(P,{width:300,margin:2,color:{dark:"#1e293b",light:"#ffffff"}});u(A)}catch(A){console.error("QR Generation failed",A)}a(!0)}catch(R){console.error("Registration failed",R),alert("Failed to register: "+R.message)}finally{n(!1)}},j=()=>{if(!l)return;const E=document.createElement("a");E.href=l,E.download=`visitor_pass_${m.firstName}_${m.lastName}.png`,document.body.appendChild(E),E.click(),document.body.removeChild(E)};return r?o.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",padding:"20px"},children:o.jsxs("div",{style:{background:"white",padding:"48px",borderRadius:"24px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",maxWidth:"600px",width:"100%",textAlign:"center"},children:[o.jsx("div",{style:{width:"80px",height:"80px",background:"#dcfce7",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px"},children:o.jsx(Li,{size:40,color:"#10b981"})}),o.jsx("h2",{style:{fontSize:"28px",fontWeight:800,color:"#1e293b",marginBottom:"12px"},children:"Registration Successful!"}),o.jsxs("p",{style:{color:"#64748b",fontSize:"16px",marginBottom:"32px"},children:["Thank you for registering for ",o.jsx("strong",{children:g.name}),". Your visitor pass is ready!"]}),l&&o.jsxs("div",{style:{background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",padding:"32px",borderRadius:"16px",marginBottom:"32px",border:"2px dashed #cbd5e1"},children:[o.jsx("p",{style:{fontSize:"18px",fontWeight:700,color:"#1e293b",marginBottom:"16px"},children:"Your Visitor Pass QR Code"}),o.jsxs("div",{style:{background:"white",padding:"16px",borderRadius:"12px",marginBottom:"20px",border:"2px solid #2563eb"},children:[o.jsx("p",{style:{fontSize:"12px",color:"#64748b",marginBottom:"8px",textTransform:"uppercase",fontWeight:600},children:"Your Unique Code"}),o.jsx("p",{style:{fontSize:"32px",fontWeight:800,color:"#2563eb",letterSpacing:"2px",fontFamily:"monospace"},children:h})]}),o.jsx("div",{style:{background:"white",padding:"20px",borderRadius:"12px",display:"inline-block",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:o.jsx("img",{src:l,alt:"Visitor QR Code",style:{width:"280px",height:"280px",display:"block"}})}),o.jsx("p",{style:{fontSize:"13px",color:"#64748b",marginTop:"16px",marginBottom:"20px"},children:"Show this QR code at the event entrance or to exhibitors"}),o.jsxs("button",{onClick:j,style:{padding:"12px 24px",background:"#2563eb",color:"white",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:600,cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"8px"},children:[o.jsx(fn,{size:18}),"Download QR Code"]})]}),o.jsx("button",{onClick:()=>window.location.href="/",style:{width:"100%",padding:"14px",background:"#64748b",color:"white",border:"none",borderRadius:"12px",fontWeight:600,cursor:"pointer"},children:"Go to Home"})]})}):o.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",padding:"40px 20px"},children:o.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",background:"white",borderRadius:"24px",overflow:"hidden",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[o.jsxs("div",{style:{background:"linear-gradient(135deg, #1e3a8a 0%, #2563eb 100%)",padding:"40px",color:"white",textAlign:"center"},children:[o.jsx("h1",{style:{fontSize:"32px",fontWeight:800,margin:"0 0 8px 0"},children:g.name}),o.jsx("p",{style:{opacity:.9,fontSize:"16px"},children:"Visitor Registration Form"}),g.date&&o.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",background:"rgba(255, 255, 255, 0.1)",padding:"6px 16px",borderRadius:"20px",marginTop:"16px",fontSize:"14px"},children:["Date: ",g.date]})]}),o.jsxs("form",{onSubmit:I,style:{padding:"40px"},children:[o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"24px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#4b5563",marginBottom:"8px"},children:"First Name *"}),o.jsx("input",{required:!0,type:"text",name:"firstName",value:m.firstName,onChange:C,placeholder:"John",style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",outline:"none"}})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#4b5563",marginBottom:"8px"},children:"Last Name *"}),o.jsx("input",{required:!0,type:"text",name:"lastName",value:m.lastName,onChange:C,placeholder:"Doe",style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",outline:"none"}})]})]}),o.jsxs("div",{style:{marginBottom:"24px"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#4b5563",marginBottom:"8px"},children:"Email Address *"}),o.jsx("input",{required:!0,type:"email",name:"email",value:m.email,onChange:C,placeholder:"john@example.com",style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",outline:"none"}})]}),o.jsxs("div",{style:{marginBottom:"24px"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#4b5563",marginBottom:"8px"},children:"Mobile Number *"}),o.jsx("input",{required:!0,type:"tel",name:"mobile",value:m.mobile,onChange:C,placeholder:"+91 98765 43210",style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",outline:"none"}})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"24px"},children:[o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#4b5563",marginBottom:"8px"},children:"Gender"}),o.jsxs("select",{name:"gender",value:m.gender,onChange:C,style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select Gender"}),o.jsx("option",{value:"Male",children:"Male"}),o.jsx("option",{value:"Female",children:"Female"}),o.jsx("option",{value:"Other",children:"Other"})]})]}),o.jsxs("div",{children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#4b5563",marginBottom:"8px"},children:"Age Group"}),o.jsxs("select",{name:"age",value:m.age,onChange:C,style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",outline:"none",background:"white"},children:[o.jsx("option",{value:"",children:"Select Age"}),o.jsx("option",{value:"18-25",children:"18-25"}),o.jsx("option",{value:"26-40",children:"26-40"}),o.jsx("option",{value:"41-60",children:"41-60"}),o.jsx("option",{value:"60+",children:"60+"})]})]})]}),o.jsxs("div",{style:{marginBottom:"24px"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#4b5563",marginBottom:"8px"},children:"Organization / Company"}),o.jsx("input",{type:"text",name:"organization",value:m.organization,onChange:C,placeholder:"Acme Corp",style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",outline:"none"}})]}),o.jsxs("div",{style:{marginBottom:"40px"},children:[o.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#4b5563",marginBottom:"8px"},children:"Designation"}),o.jsx("input",{type:"text",name:"designation",value:m.designation,onChange:C,placeholder:"Software Engineer",style:{width:"100%",padding:"12px 14px",border:"1.5px solid #e2e8f0",borderRadius:"10px",outline:"none"}})]}),o.jsxs("button",{disabled:t,type:"submit",style:{width:"100%",padding:"16px",background:"#2563eb",color:"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:700,cursor:t?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",transition:"all 0.2s"},children:[t?"Processing...":"Register Now",!t&&o.jsx(Ko,{size:20})]}),o.jsx("p",{style:{textAlign:"center",marginTop:"24px",fontSize:"12px",color:"#94a3b8"},children:"Powered By Billiton"})]})]})})};function qH(){const[e,t]=X.useState(!1),[n,r]=X.useState(!0),[a,l]=X.useState("master"),[u,h]=X.useState("master"),[x,g]=X.useState(!1);X.useEffect(()=>{localStorage.removeItem("isAuthenticated"),t(!1);const S=new URLSearchParams(window.location.search),C=S.get("type");C==="organization"?l("organization"):C==="exhibitor"?l("exhibitor"):C==="visitor"&&l("visitor"),S.get("action")==="register"&&g(!0),r(!1)},[]);const b=()=>{const S=localStorage.getItem("userType")||"master";h(S),t(!0),window.history.replaceState({},document.title,window.location.pathname)},m=()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userEmail"),localStorage.removeItem("userType"),localStorage.removeItem("activeScreen"),localStorage.removeItem("organizationId"),localStorage.removeItem("organizationName"),localStorage.removeItem("exhibitorId"),localStorage.removeItem("exhibitorName"),localStorage.removeItem("visitorId"),localStorage.removeItem("visitorName"),localStorage.removeItem("rememberMe"),t(!1),h("master"),l("master")};return n?o.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"18px",color:"#64748b"},children:"Loading..."}):x?o.jsx(YH,{}):e?u==="visitor"?o.jsx(XH,{onLogout:m}):u==="exhibitor"?o.jsx(GH,{onLogout:m}):o.jsx($H,{onLogout:m,userType:u}):o.jsx(UH,{onLogin:b,loginType:a})}Eu.createRoot(document.getElementById("root")).render(o.jsx(Q.StrictMode,{children:o.jsx(qH,{})}));
